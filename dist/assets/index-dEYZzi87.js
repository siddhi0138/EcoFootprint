var Ek=t=>{throw TypeError(t)};var u1=(t,e,n)=>e.has(t)||Ek("Cannot "+n);var oe=(t,e,n)=>(u1(t,e,"read from private field"),n?n.call(t):e.get(t)),wt=(t,e,n)=>e.has(t)?Ek("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ze=(t,e,n,r)=>(u1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),tr=(t,e,n)=>(u1(t,e,"access private method"),n);var Qg=(t,e,n,r)=>({set _(i){Ze(t,e,i,n)},get _(){return oe(t,e,r)}});function QH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m6={exports:{}},Ux={},p6={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=Symbol.for("react.element"),XH=Symbol.for("react.portal"),JH=Symbol.for("react.fragment"),ZH=Symbol.for("react.strict_mode"),eG=Symbol.for("react.profiler"),tG=Symbol.for("react.provider"),nG=Symbol.for("react.context"),rG=Symbol.for("react.forward_ref"),iG=Symbol.for("react.suspense"),sG=Symbol.for("react.memo"),aG=Symbol.for("react.lazy"),Ck=Symbol.iterator;function oG(t){return t===null||typeof t!="object"?null:(t=Ck&&t[Ck]||t["@@iterator"],typeof t=="function"?t:null)}var g6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y6=Object.assign,v6={};function dh(t,e,n){this.props=t,this.context=e,this.refs=v6,this.updater=n||g6}dh.prototype.isReactComponent={};dh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x6(){}x6.prototype=dh.prototype;function EE(t,e,n){this.props=t,this.context=e,this.refs=v6,this.updater=n||g6}var CE=EE.prototype=new x6;CE.constructor=EE;y6(CE,dh.prototype);CE.isPureReactComponent=!0;var Ak=Array.isArray,b6=Object.prototype.hasOwnProperty,AE={current:null},w6={key:!0,ref:!0,__self:!0,__source:!0};function _6(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)b6.call(e,r)&&!w6.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Kp,type:t,key:s,ref:a,props:i,_owner:AE.current}}function lG(t,e){return{$$typeof:Kp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function TE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kp}function cG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tk=/\/+/g;function d1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cG(""+t.key):e.toString(36)}function Gy(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Kp:case XH:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+d1(a,0):r,Ak(i)?(n="",t!=null&&(n=t.replace(Tk,"$&/")+"/"),Gy(i,e,n,"",function(u){return u})):i!=null&&(TE(i)&&(i=lG(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Tk,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Ak(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+d1(s,l);a+=Gy(s,e,n,c,i)}else if(c=oG(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+d1(s,l++),a+=Gy(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Jg(t,e,n){if(t==null)return t;var r=[],i=0;return Gy(t,r,"","",function(s){return e.call(n,s,i++)}),r}function uG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rr={current:null},qy={transition:null},dG={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:qy,ReactCurrentOwner:AE};function S6(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:Jg,forEach:function(t,e,n){Jg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jg(t,function(){e++}),e},toArray:function(t){return Jg(t,function(e){return e})||[]},only:function(t){if(!TE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=dh;it.Fragment=JH;it.Profiler=eG;it.PureComponent=EE;it.StrictMode=ZH;it.Suspense=iG;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dG;it.act=S6;it.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=y6({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=AE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)b6.call(e,c)&&!w6.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Kp,type:t.type,key:i,ref:s,props:r,_owner:a}};it.createContext=function(t){return t={$$typeof:nG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tG,_context:t},t.Consumer=t};it.createElement=_6;it.createFactory=function(t){var e=_6.bind(null,t);return e.type=t,e};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:rG,render:t}};it.isValidElement=TE;it.lazy=function(t){return{$$typeof:aG,_payload:{_status:-1,_result:t},_init:uG}};it.memo=function(t,e){return{$$typeof:sG,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=qy.transition;qy.transition={};try{t()}finally{qy.transition=e}};it.unstable_act=S6;it.useCallback=function(t,e){return Rr.current.useCallback(t,e)};it.useContext=function(t){return Rr.current.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t){return Rr.current.useDeferredValue(t)};it.useEffect=function(t,e){return Rr.current.useEffect(t,e)};it.useId=function(){return Rr.current.useId()};it.useImperativeHandle=function(t,e,n){return Rr.current.useImperativeHandle(t,e,n)};it.useInsertionEffect=function(t,e){return Rr.current.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return Rr.current.useLayoutEffect(t,e)};it.useMemo=function(t,e){return Rr.current.useMemo(t,e)};it.useReducer=function(t,e,n){return Rr.current.useReducer(t,e,n)};it.useRef=function(t){return Rr.current.useRef(t)};it.useState=function(t){return Rr.current.useState(t)};it.useSyncExternalStore=function(t,e,n){return Rr.current.useSyncExternalStore(t,e,n)};it.useTransition=function(){return Rr.current.useTransition()};it.version="18.3.1";p6.exports=it;var C=p6.exports;const D=bt(C),N6=QH({__proto__:null,default:D},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hG=C,fG=Symbol.for("react.element"),mG=Symbol.for("react.fragment"),pG=Object.prototype.hasOwnProperty,gG=hG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yG={key:!0,ref:!0,__self:!0,__source:!0};function j6(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)pG.call(e,r)&&!yG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:fG,type:t,key:s,ref:a,props:i,_owner:gG.current}}Ux.Fragment=mG;Ux.jsx=j6;Ux.jsxs=j6;m6.exports=Ux;var o=m6.exports,E6={exports:{}},vi={},C6={exports:{}},A6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var X=F.length;F.push(U);e:for(;0<X;){var z=X-1>>>1,G=F[z];if(0<i(G,U))F[z]=U,F[X]=G,X=z;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],X=F.pop();if(X!==U){F[0]=X;e:for(var z=0,G=F.length,q=G>>>1;z<q;){var ae=2*(z+1)-1,ye=F[ae],ie=ae+1,B=F[ie];if(0>i(ye,X))ie<G&&0>i(B,ye)?(F[z]=B,F[ie]=X,z=ie):(F[z]=ye,F[ae]=X,z=ae);else if(ie<G&&0>i(B,X))F[z]=B,F[ie]=X,z=ie;else break e}}return U}function i(F,U){var X=F.sortIndex-U.sortIndex;return X!==0?X:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=F)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function N(F){if(v=!1,w(F),!g)if(n(c)!==null)g=!0,H(S);else{var U=n(u);U!==null&&M(N,U.startTime-F)}}function S(F,U){g=!1,v&&(v=!1,x(_),_=-1),m=!0;var X=f;try{for(w(U),d=n(c);d!==null&&(!(d.expirationTime>U)||F&&!A());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var G=z(d.expirationTime<=U);U=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(c)&&r(c),w(U)}else r(c);d=n(c)}if(d!==null)var q=!0;else{var ae=n(u);ae!==null&&M(N,ae.startTime-U),q=!1}return q}finally{d=null,f=X,m=!1}}var P=!1,j=null,_=-1,k=5,E=-1;function A(){return!(t.unstable_now()-E<k)}function I(){if(j!==null){var F=t.unstable_now();E=F;var U=!0;try{U=j(!0,F)}finally{U?R():(P=!1,j=null)}}else P=!1}var R;if(typeof b=="function")R=function(){b(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,W=$.port2;$.port1.onmessage=I,R=function(){W.postMessage(null)}}else R=function(){y(I,0)};function H(F){j=F,P||(P=!0,R())}function M(F,U){_=y(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,H(S))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var X=f;f=U;try{return F()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=f;f=F;try{return U()}finally{f=X}},t.unstable_scheduleCallback=function(F,U,X){var z=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?z+X:z):X=z,F){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=X+G,F={id:h++,callback:U,priorityLevel:F,startTime:X,expirationTime:G,sortIndex:-1},X>z?(F.sortIndex=X,e(u,F),n(c)===null&&F===n(u)&&(v?(x(_),_=-1):v=!0,M(N,X-z))):(F.sortIndex=G,e(c,F),g||m||(g=!0,H(S))),F},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(F){var U=f;return function(){var X=f;f=U;try{return F.apply(this,arguments)}finally{f=X}}}})(A6);C6.exports=A6;var vG=C6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xG=C,yi=vG;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T6=new Set,Em={};function Dc(t,e){od(t,e),od(t+"Capture",e)}function od(t,e){for(Em[t]=e,t=0;t<e.length;t++)T6.add(e[t])}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K_=Object.prototype.hasOwnProperty,bG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kk={},Pk={};function wG(t){return K_.call(Pk,t)?!0:K_.call(kk,t)?!1:bG.test(t)?Pk[t]=!0:(kk[t]=!0,!1)}function _G(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SG(t,e,n,r){if(e===null||typeof e>"u"||_G(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qn[t]=new Mr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qn[e]=new Mr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qn[t]=new Mr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qn[t]=new Mr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qn[t]=new Mr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qn[t]=new Mr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qn[t]=new Mr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qn[t]=new Mr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qn[t]=new Mr(t,5,!1,t.toLowerCase(),null,!1,!1)});var kE=/[\-:]([a-z])/g;function PE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kE,PE);Qn[e]=new Mr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kE,PE);Qn[e]=new Mr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kE,PE);Qn[e]=new Mr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qn[t]=new Mr(t,1,!1,t.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new Mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qn[t]=new Mr(t,1,!1,t.toLowerCase(),null,!0,!0)});function IE(t,e,n,r){var i=Qn.hasOwnProperty(e)?Qn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SG(e,n,i,r)&&(n=null),r||i===null?wG(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wa=xG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zg=Symbol.for("react.element"),gu=Symbol.for("react.portal"),yu=Symbol.for("react.fragment"),OE=Symbol.for("react.strict_mode"),Y_=Symbol.for("react.profiler"),k6=Symbol.for("react.provider"),P6=Symbol.for("react.context"),RE=Symbol.for("react.forward_ref"),Q_=Symbol.for("react.suspense"),X_=Symbol.for("react.suspense_list"),ME=Symbol.for("react.memo"),go=Symbol.for("react.lazy"),I6=Symbol.for("react.offscreen"),Ik=Symbol.iterator;function cf(t){return t===null||typeof t!="object"?null:(t=Ik&&t[Ik]||t["@@iterator"],typeof t=="function"?t:null)}var rn=Object.assign,h1;function Rf(t){if(h1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);h1=e&&e[1]||""}return`
`+h1+t}var f1=!1;function m1(t,e){if(!t||f1)return"";f1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{f1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rf(t):""}function NG(t){switch(t.tag){case 5:return Rf(t.type);case 16:return Rf("Lazy");case 13:return Rf("Suspense");case 19:return Rf("SuspenseList");case 0:case 2:case 15:return t=m1(t.type,!1),t;case 11:return t=m1(t.type.render,!1),t;case 1:return t=m1(t.type,!0),t;default:return""}}function J_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yu:return"Fragment";case gu:return"Portal";case Y_:return"Profiler";case OE:return"StrictMode";case Q_:return"Suspense";case X_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P6:return(t.displayName||"Context")+".Consumer";case k6:return(t._context.displayName||"Context")+".Provider";case RE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ME:return e=t.displayName||null,e!==null?e:J_(t.type)||"Memo";case go:e=t._payload,t=t._init;try{return J_(t(e))}catch{}}return null}function jG(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J_(e);case 8:return e===OE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EG(t){var e=O6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ey(t){t._valueTracker||(t._valueTracker=EG(t))}function R6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function N0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Z_(t,e){var n=e.checked;return rn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ok(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M6(t,e){e=e.checked,e!=null&&IE(t,"checked",e,!1)}function eS(t,e){M6(t,e);var n=nl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tS(t,e.type,n):e.hasOwnProperty("defaultValue")&&tS(t,e.type,nl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tS(t,e,n){(e!=="number"||N0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mf=Array.isArray;function Ou(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return rn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(Mf(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nl(n)}}function D6(t,e){var n=nl(e.value),r=nl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ty,L6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ty=ty||document.createElement("div"),ty.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ty.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cm(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CG=["Webkit","ms","Moz","O"];Object.keys(qf).forEach(function(t){CG.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qf[e]=qf[t]})});function F6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qf.hasOwnProperty(t)&&qf[t]?(""+e).trim():e+"px"}function V6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=F6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AG=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iS(t,e){if(e){if(AG[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function sS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aS=null;function DE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oS=null,Ru=null,Mu=null;function $k(t){if(t=Xp(t)){if(typeof oS!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=qx(e),oS(t.stateNode,t.type,e))}}function B6(t){Ru?Mu?Mu.push(t):Mu=[t]:Ru=t}function U6(){if(Ru){var t=Ru,e=Mu;if(Mu=Ru=null,$k(t),e)for(t=0;t<e.length;t++)$k(e[t])}}function z6(t,e){return t(e)}function W6(){}var p1=!1;function H6(t,e,n){if(p1)return t(e,n);p1=!0;try{return z6(t,e,n)}finally{p1=!1,(Ru!==null||Mu!==null)&&(W6(),U6())}}function Am(t,e){var n=t.stateNode;if(n===null)return null;var r=qx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var lS=!1;if(Ea)try{var uf={};Object.defineProperty(uf,"passive",{get:function(){lS=!0}}),window.addEventListener("test",uf,uf),window.removeEventListener("test",uf,uf)}catch{lS=!1}function TG(t,e,n,r,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Kf=!1,j0=null,E0=!1,cS=null,kG={onError:function(t){Kf=!0,j0=t}};function PG(t,e,n,r,i,s,a,l,c){Kf=!1,j0=null,TG.apply(kG,arguments)}function IG(t,e,n,r,i,s,a,l,c){if(PG.apply(this,arguments),Kf){if(Kf){var u=j0;Kf=!1,j0=null}else throw Error(fe(198));E0||(E0=!0,cS=u)}}function $c(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function G6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lk(t){if($c(t)!==t)throw Error(fe(188))}function OG(t){var e=t.alternate;if(!e){if(e=$c(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Lk(i),t;if(s===r)return Lk(i),e;s=s.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function q6(t){return t=OG(t),t!==null?K6(t):null}function K6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K6(t);if(e!==null)return e;t=t.sibling}return null}var Y6=yi.unstable_scheduleCallback,Fk=yi.unstable_cancelCallback,RG=yi.unstable_shouldYield,MG=yi.unstable_requestPaint,hn=yi.unstable_now,DG=yi.unstable_getCurrentPriorityLevel,$E=yi.unstable_ImmediatePriority,Q6=yi.unstable_UserBlockingPriority,C0=yi.unstable_NormalPriority,$G=yi.unstable_LowPriority,X6=yi.unstable_IdlePriority,zx=null,Os=null;function LG(t){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(zx,t,void 0,(t.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:BG,FG=Math.log,VG=Math.LN2;function BG(t){return t>>>=0,t===0?32:31-(FG(t)/VG|0)|0}var ny=64,ry=4194304;function Df(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function A0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Df(l):(s&=a,s!==0&&(r=Df(s)))}else a=n&~i,a!==0?r=Df(a):s!==0&&(r=Df(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ss(e),i=1<<n,r|=t[n],e&=~i;return r}function UG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zG(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ss(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=UG(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function uS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function J6(){var t=ny;return ny<<=1,!(ny&4194240)&&(ny=64),t}function g1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ss(e),t[e]=n}function WG(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ss(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function LE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ss(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var jt=0;function Z6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e3,FE,t3,n3,r3,dS=!1,iy=[],Do=null,$o=null,Lo=null,Tm=new Map,km=new Map,xo=[],HG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vk(t,e){switch(t){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Tm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":km.delete(e.pointerId)}}function df(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xp(e),e!==null&&FE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GG(t,e,n,r,i){switch(e){case"focusin":return Do=df(Do,t,e,n,r,i),!0;case"dragenter":return $o=df($o,t,e,n,r,i),!0;case"mouseover":return Lo=df(Lo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tm.set(s,df(Tm.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,km.set(s,df(km.get(s)||null,t,e,n,r,i)),!0}return!1}function i3(t){var e=Hl(t.target);if(e!==null){var n=$c(e);if(n!==null){if(e=n.tag,e===13){if(e=G6(n),e!==null){t.blockedOn=e,r3(t.priority,function(){t3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ky(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);aS=r,n.target.dispatchEvent(r),aS=null}else return e=Xp(n),e!==null&&FE(e),t.blockedOn=n,!1;e.shift()}return!0}function Bk(t,e,n){Ky(t)&&n.delete(e)}function qG(){dS=!1,Do!==null&&Ky(Do)&&(Do=null),$o!==null&&Ky($o)&&($o=null),Lo!==null&&Ky(Lo)&&(Lo=null),Tm.forEach(Bk),km.forEach(Bk)}function hf(t,e){t.blockedOn===e&&(t.blockedOn=null,dS||(dS=!0,yi.unstable_scheduleCallback(yi.unstable_NormalPriority,qG)))}function Pm(t){function e(i){return hf(i,t)}if(0<iy.length){hf(iy[0],t);for(var n=1;n<iy.length;n++){var r=iy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Do!==null&&hf(Do,t),$o!==null&&hf($o,t),Lo!==null&&hf(Lo,t),Tm.forEach(e),km.forEach(e),n=0;n<xo.length;n++)r=xo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xo.length&&(n=xo[0],n.blockedOn===null);)i3(n),n.blockedOn===null&&xo.shift()}var Du=Wa.ReactCurrentBatchConfig,T0=!0;function KG(t,e,n,r){var i=jt,s=Du.transition;Du.transition=null;try{jt=1,VE(t,e,n,r)}finally{jt=i,Du.transition=s}}function YG(t,e,n,r){var i=jt,s=Du.transition;Du.transition=null;try{jt=4,VE(t,e,n,r)}finally{jt=i,Du.transition=s}}function VE(t,e,n,r){if(T0){var i=hS(t,e,n,r);if(i===null)E1(t,e,r,k0,n),Vk(t,r);else if(GG(i,t,e,n,r))r.stopPropagation();else if(Vk(t,r),e&4&&-1<HG.indexOf(t)){for(;i!==null;){var s=Xp(i);if(s!==null&&e3(s),s=hS(t,e,n,r),s===null&&E1(t,e,r,k0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else E1(t,e,r,null,n)}}var k0=null;function hS(t,e,n,r){if(k0=null,t=DE(r),t=Hl(t),t!==null)if(e=$c(t),e===null)t=null;else if(n=e.tag,n===13){if(t=G6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return k0=t,null}function s3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DG()){case $E:return 1;case Q6:return 4;case C0:case $G:return 16;case X6:return 536870912;default:return 16}default:return 16}}var ko=null,BE=null,Yy=null;function a3(){if(Yy)return Yy;var t,e=BE,n=e.length,r,i="value"in ko?ko.value:ko.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Yy=i.slice(t,1<r?1-r:void 0)}function Qy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sy(){return!0}function Uk(){return!1}function xi(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sy:Uk,this.isPropagationStopped=Uk,this}return rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sy)},persist:function(){},isPersistent:sy}),e}var hh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UE=xi(hh),Qp=rn({},hh,{view:0,detail:0}),QG=xi(Qp),y1,v1,ff,Wx=rn({},Qp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ff&&(ff&&t.type==="mousemove"?(y1=t.screenX-ff.screenX,v1=t.screenY-ff.screenY):v1=y1=0,ff=t),y1)},movementY:function(t){return"movementY"in t?t.movementY:v1}}),zk=xi(Wx),XG=rn({},Wx,{dataTransfer:0}),JG=xi(XG),ZG=rn({},Qp,{relatedTarget:0}),x1=xi(ZG),eq=rn({},hh,{animationName:0,elapsedTime:0,pseudoElement:0}),tq=xi(eq),nq=rn({},hh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rq=xi(nq),iq=rn({},hh,{data:0}),Wk=xi(iq),sq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oq[t])?!!e[t]:!1}function zE(){return lq}var cq=rn({},Qp,{key:function(t){if(t.key){var e=sq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zE,charCode:function(t){return t.type==="keypress"?Qy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uq=xi(cq),dq=rn({},Wx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hk=xi(dq),hq=rn({},Qp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zE}),fq=xi(hq),mq=rn({},hh,{propertyName:0,elapsedTime:0,pseudoElement:0}),pq=xi(mq),gq=rn({},Wx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yq=xi(gq),vq=[9,13,27,32],WE=Ea&&"CompositionEvent"in window,Yf=null;Ea&&"documentMode"in document&&(Yf=document.documentMode);var xq=Ea&&"TextEvent"in window&&!Yf,o3=Ea&&(!WE||Yf&&8<Yf&&11>=Yf),Gk=" ",qk=!1;function l3(t,e){switch(t){case"keyup":return vq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vu=!1;function bq(t,e){switch(t){case"compositionend":return c3(e);case"keypress":return e.which!==32?null:(qk=!0,Gk);case"textInput":return t=e.data,t===Gk&&qk?null:t;default:return null}}function wq(t,e){if(vu)return t==="compositionend"||!WE&&l3(t,e)?(t=a3(),Yy=BE=ko=null,vu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o3&&e.locale!=="ko"?null:e.data;default:return null}}var _q={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_q[t.type]:e==="textarea"}function u3(t,e,n,r){B6(r),e=P0(e,"onChange"),0<e.length&&(n=new UE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qf=null,Im=null;function Sq(t){w3(t,0)}function Hx(t){var e=wu(t);if(R6(e))return t}function Nq(t,e){if(t==="change")return e}var d3=!1;if(Ea){var b1;if(Ea){var w1="oninput"in document;if(!w1){var Yk=document.createElement("div");Yk.setAttribute("oninput","return;"),w1=typeof Yk.oninput=="function"}b1=w1}else b1=!1;d3=b1&&(!document.documentMode||9<document.documentMode)}function Qk(){Qf&&(Qf.detachEvent("onpropertychange",h3),Im=Qf=null)}function h3(t){if(t.propertyName==="value"&&Hx(Im)){var e=[];u3(e,Im,t,DE(t)),H6(Sq,e)}}function jq(t,e,n){t==="focusin"?(Qk(),Qf=e,Im=n,Qf.attachEvent("onpropertychange",h3)):t==="focusout"&&Qk()}function Eq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hx(Im)}function Cq(t,e){if(t==="click")return Hx(e)}function Aq(t,e){if(t==="input"||t==="change")return Hx(e)}function Tq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fs=typeof Object.is=="function"?Object.is:Tq;function Om(t,e){if(fs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!K_.call(e,i)||!fs(t[i],e[i]))return!1}return!0}function Xk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jk(t,e){var n=Xk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xk(n)}}function f3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?f3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function m3(){for(var t=window,e=N0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=N0(t.document)}return e}function HE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kq(t){var e=m3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&f3(n.ownerDocument.documentElement,n)){if(r!==null&&HE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Jk(n,s);var a=Jk(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pq=Ea&&"documentMode"in document&&11>=document.documentMode,xu=null,fS=null,Xf=null,mS=!1;function Zk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mS||xu==null||xu!==N0(r)||(r=xu,"selectionStart"in r&&HE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xf&&Om(Xf,r)||(Xf=r,r=P0(fS,"onSelect"),0<r.length&&(e=new UE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xu)))}function ay(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bu={animationend:ay("Animation","AnimationEnd"),animationiteration:ay("Animation","AnimationIteration"),animationstart:ay("Animation","AnimationStart"),transitionend:ay("Transition","TransitionEnd")},_1={},p3={};Ea&&(p3=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function Gx(t){if(_1[t])return _1[t];if(!bu[t])return t;var e=bu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in p3)return _1[t]=e[n];return t}var g3=Gx("animationend"),y3=Gx("animationiteration"),v3=Gx("animationstart"),x3=Gx("transitionend"),b3=new Map,eP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(t,e){b3.set(t,e),Dc(e,[t])}for(var S1=0;S1<eP.length;S1++){var N1=eP[S1],Iq=N1.toLowerCase(),Oq=N1[0].toUpperCase()+N1.slice(1);yl(Iq,"on"+Oq)}yl(g3,"onAnimationEnd");yl(y3,"onAnimationIteration");yl(v3,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(x3,"onTransitionEnd");od("onMouseEnter",["mouseout","mouseover"]);od("onMouseLeave",["mouseout","mouseover"]);od("onPointerEnter",["pointerout","pointerover"]);od("onPointerLeave",["pointerout","pointerover"]);Dc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rq=new Set("cancel close invalid load scroll toggle".split(" ").concat($f));function tP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IG(r,e,void 0,t),t.currentTarget=null}function w3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;tP(i,l,u),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;tP(i,l,u),s=c}}}if(E0)throw t=cS,E0=!1,cS=null,t}function Ft(t,e){var n=e[xS];n===void 0&&(n=e[xS]=new Set);var r=t+"__bubble";n.has(r)||(_3(e,t,2,!1),n.add(r))}function j1(t,e,n){var r=0;e&&(r|=4),_3(n,t,r,e)}var oy="_reactListening"+Math.random().toString(36).slice(2);function Rm(t){if(!t[oy]){t[oy]=!0,T6.forEach(function(n){n!=="selectionchange"&&(Rq.has(n)||j1(n,!1,t),j1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oy]||(e[oy]=!0,j1("selectionchange",!1,e))}}function _3(t,e,n,r){switch(s3(e)){case 1:var i=KG;break;case 4:i=YG;break;default:i=VE}n=i.bind(null,e,n,t),i=void 0,!lS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function E1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Hl(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}H6(function(){var u=s,h=DE(n),d=[];e:{var f=b3.get(t);if(f!==void 0){var m=UE,g=t;switch(t){case"keypress":if(Qy(n)===0)break e;case"keydown":case"keyup":m=uq;break;case"focusin":g="focus",m=x1;break;case"focusout":g="blur",m=x1;break;case"beforeblur":case"afterblur":m=x1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=JG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=fq;break;case g3:case y3:case v3:m=tq;break;case x3:m=pq;break;case"scroll":m=QG;break;case"wheel":m=yq;break;case"copy":case"cut":case"paste":m=rq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hk}var v=(e&4)!==0,y=!v&&t==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var b=u,w;b!==null;){w=b;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,x!==null&&(N=Am(b,x),N!=null&&v.push(Mm(b,N,w)))),y)break;b=b.return}0<v.length&&(f=new m(f,g,null,n,h),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==aS&&(g=n.relatedTarget||n.fromElement)&&(Hl(g)||g[Ca]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Hl(g):null,g!==null&&(y=$c(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=zk,N="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=Hk,N="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?f:wu(m),w=g==null?f:wu(g),f=new v(N,b+"leave",m,n,h),f.target=y,f.relatedTarget=w,N=null,Hl(h)===u&&(v=new v(x,b+"enter",g,n,h),v.target=w,v.relatedTarget=y,N=v),y=N,m&&g)t:{for(v=m,x=g,b=0,w=v;w;w=tu(w))b++;for(w=0,N=x;N;N=tu(N))w++;for(;0<b-w;)v=tu(v),b--;for(;0<w-b;)x=tu(x),w--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=tu(v),x=tu(x)}v=null}else v=null;m!==null&&nP(d,f,m,v,!1),g!==null&&y!==null&&nP(d,y,g,v,!0)}}e:{if(f=u?wu(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=Nq;else if(Kk(f))if(d3)S=Aq;else{S=Eq;var P=jq}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Cq);if(S&&(S=S(t,u))){u3(d,S,n,h);break e}P&&P(t,f,u),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&tS(f,"number",f.value)}switch(P=u?wu(u):window,t){case"focusin":(Kk(P)||P.contentEditable==="true")&&(xu=P,fS=u,Xf=null);break;case"focusout":Xf=fS=xu=null;break;case"mousedown":mS=!0;break;case"contextmenu":case"mouseup":case"dragend":mS=!1,Zk(d,n,h);break;case"selectionchange":if(Pq)break;case"keydown":case"keyup":Zk(d,n,h)}var j;if(WE)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else vu?l3(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(o3&&n.locale!=="ko"&&(vu||_!=="onCompositionStart"?_==="onCompositionEnd"&&vu&&(j=a3()):(ko=h,BE="value"in ko?ko.value:ko.textContent,vu=!0)),P=P0(u,_),0<P.length&&(_=new Wk(_,t,null,n,h),d.push({event:_,listeners:P}),j?_.data=j:(j=c3(n),j!==null&&(_.data=j)))),(j=xq?bq(t,n):wq(t,n))&&(u=P0(u,"onBeforeInput"),0<u.length&&(h=new Wk("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=j))}w3(d,e)})}function Mm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function P0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Am(t,n),s!=null&&r.unshift(Mm(t,s,i)),s=Am(t,e),s!=null&&r.push(Mm(t,s,i))),t=t.return}return r}function tu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nP(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Am(n,s),c!=null&&a.unshift(Mm(n,c,l))):i||(c=Am(n,s),c!=null&&a.push(Mm(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Mq=/\r\n?/g,Dq=/\u0000|\uFFFD/g;function rP(t){return(typeof t=="string"?t:""+t).replace(Mq,`
`).replace(Dq,"")}function ly(t,e,n){if(e=rP(e),rP(t)!==e&&n)throw Error(fe(425))}function I0(){}var pS=null,gS=null;function yS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vS=typeof setTimeout=="function"?setTimeout:void 0,$q=typeof clearTimeout=="function"?clearTimeout:void 0,iP=typeof Promise=="function"?Promise:void 0,Lq=typeof queueMicrotask=="function"?queueMicrotask:typeof iP<"u"?function(t){return iP.resolve(null).then(t).catch(Fq)}:vS;function Fq(t){setTimeout(function(){throw t})}function C1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pm(e)}function Fo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fh=Math.random().toString(36).slice(2),Cs="__reactFiber$"+fh,Dm="__reactProps$"+fh,Ca="__reactContainer$"+fh,xS="__reactEvents$"+fh,Vq="__reactListeners$"+fh,Bq="__reactHandles$"+fh;function Hl(t){var e=t[Cs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ca]||n[Cs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sP(t);t!==null;){if(n=t[Cs])return n;t=sP(t)}return e}t=n,n=t.parentNode}return null}function Xp(t){return t=t[Cs]||t[Ca],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function qx(t){return t[Dm]||null}var bS=[],_u=-1;function vl(t){return{current:t}}function Gt(t){0>_u||(t.current=bS[_u],bS[_u]=null,_u--)}function Dt(t,e){_u++,bS[_u]=t.current,t.current=e}var rl={},gr=vl(rl),Wr=vl(!1),mc=rl;function ld(t,e){var n=t.type.contextTypes;if(!n)return rl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Hr(t){return t=t.childContextTypes,t!=null}function O0(){Gt(Wr),Gt(gr)}function aP(t,e,n){if(gr.current!==rl)throw Error(fe(168));Dt(gr,e),Dt(Wr,n)}function S3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(fe(108,jG(t)||"Unknown",i));return rn({},n,r)}function R0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rl,mc=gr.current,Dt(gr,t),Dt(Wr,Wr.current),!0}function oP(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=S3(t,e,mc),r.__reactInternalMemoizedMergedChildContext=t,Gt(Wr),Gt(gr),Dt(gr,t)):Gt(Wr),Dt(Wr,n)}var oa=null,Kx=!1,A1=!1;function N3(t){oa===null?oa=[t]:oa.push(t)}function Uq(t){Kx=!0,N3(t)}function xl(){if(!A1&&oa!==null){A1=!0;var t=0,e=jt;try{var n=oa;for(jt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oa=null,Kx=!1}catch(i){throw oa!==null&&(oa=oa.slice(t+1)),Y6($E,xl),i}finally{jt=e,A1=!1}}return null}var Su=[],Nu=0,M0=null,D0=0,Ni=[],ji=0,pc=null,ua=1,da="";function Dl(t,e){Su[Nu++]=D0,Su[Nu++]=M0,M0=t,D0=e}function j3(t,e,n){Ni[ji++]=ua,Ni[ji++]=da,Ni[ji++]=pc,pc=t;var r=ua;t=da;var i=32-ss(r)-1;r&=~(1<<i),n+=1;var s=32-ss(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ua=1<<32-ss(e)+i|n<<i|r,da=s+t}else ua=1<<s|n<<i|r,da=t}function GE(t){t.return!==null&&(Dl(t,1),j3(t,1,0))}function qE(t){for(;t===M0;)M0=Su[--Nu],Su[Nu]=null,D0=Su[--Nu],Su[Nu]=null;for(;t===pc;)pc=Ni[--ji],Ni[ji]=null,da=Ni[--ji],Ni[ji]=null,ua=Ni[--ji],Ni[ji]=null}var hi=null,ui=null,Yt=!1,Ji=null;function E3(t,e){var n=Ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hi=t,ui=Fo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hi=t,ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pc!==null?{id:ua,overflow:da}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hi=t,ui=null,!0):!1;default:return!1}}function wS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _S(t){if(Yt){var e=ui;if(e){var n=e;if(!lP(t,e)){if(wS(t))throw Error(fe(418));e=Fo(n.nextSibling);var r=hi;e&&lP(t,e)?E3(r,n):(t.flags=t.flags&-4097|2,Yt=!1,hi=t)}}else{if(wS(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Yt=!1,hi=t}}}function cP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hi=t}function cy(t){if(t!==hi)return!1;if(!Yt)return cP(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yS(t.type,t.memoizedProps)),e&&(e=ui)){if(wS(t))throw C3(),Error(fe(418));for(;e;)E3(t,e),e=Fo(e.nextSibling)}if(cP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ui=Fo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ui=null}}else ui=hi?Fo(t.stateNode.nextSibling):null;return!0}function C3(){for(var t=ui;t;)t=Fo(t.nextSibling)}function cd(){ui=hi=null,Yt=!1}function KE(t){Ji===null?Ji=[t]:Ji.push(t)}var zq=Wa.ReactCurrentBatchConfig;function mf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function uy(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uP(t){var e=t._init;return e(t._payload)}function A3(t){function e(x,b){if(t){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=zo(x,b),x.index=0,x.sibling=null,x}function s(x,b,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,N){return b===null||b.tag!==6?(b=M1(w,x.mode,N),b.return=x,b):(b=i(b,w),b.return=x,b)}function c(x,b,w,N){var S=w.type;return S===yu?h(x,b,w.props.children,N,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===go&&uP(S)===b.type)?(N=i(b,w.props),N.ref=mf(x,b,w),N.return=x,N):(N=r0(w.type,w.key,w.props,null,x.mode,N),N.ref=mf(x,b,w),N.return=x,N)}function u(x,b,w,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=D1(w,x.mode,N),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function h(x,b,w,N,S){return b===null||b.tag!==7?(b=cc(w,x.mode,N,S),b.return=x,b):(b=i(b,w),b.return=x,b)}function d(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=M1(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zg:return w=r0(b.type,b.key,b.props,null,x.mode,w),w.ref=mf(x,null,b),w.return=x,w;case gu:return b=D1(b,x.mode,w),b.return=x,b;case go:var N=b._init;return d(x,N(b._payload),w)}if(Mf(b)||cf(b))return b=cc(b,x.mode,w,null),b.return=x,b;uy(x,b)}return null}function f(x,b,w,N){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,b,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zg:return w.key===S?c(x,b,w,N):null;case gu:return w.key===S?u(x,b,w,N):null;case go:return S=w._init,f(x,b,S(w._payload),N)}if(Mf(w)||cf(w))return S!==null?null:h(x,b,w,N,null);uy(x,w)}return null}function m(x,b,w,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(w)||null,l(b,x,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Zg:return x=x.get(N.key===null?w:N.key)||null,c(b,x,N,S);case gu:return x=x.get(N.key===null?w:N.key)||null,u(b,x,N,S);case go:var P=N._init;return m(x,b,w,P(N._payload),S)}if(Mf(N)||cf(N))return x=x.get(w)||null,h(b,x,N,S,null);uy(b,N)}return null}function g(x,b,w,N){for(var S=null,P=null,j=b,_=b=0,k=null;j!==null&&_<w.length;_++){j.index>_?(k=j,j=null):k=j.sibling;var E=f(x,j,w[_],N);if(E===null){j===null&&(j=k);break}t&&j&&E.alternate===null&&e(x,j),b=s(E,b,_),P===null?S=E:P.sibling=E,P=E,j=k}if(_===w.length)return n(x,j),Yt&&Dl(x,_),S;if(j===null){for(;_<w.length;_++)j=d(x,w[_],N),j!==null&&(b=s(j,b,_),P===null?S=j:P.sibling=j,P=j);return Yt&&Dl(x,_),S}for(j=r(x,j);_<w.length;_++)k=m(j,x,_,w[_],N),k!==null&&(t&&k.alternate!==null&&j.delete(k.key===null?_:k.key),b=s(k,b,_),P===null?S=k:P.sibling=k,P=k);return t&&j.forEach(function(A){return e(x,A)}),Yt&&Dl(x,_),S}function v(x,b,w,N){var S=cf(w);if(typeof S!="function")throw Error(fe(150));if(w=S.call(w),w==null)throw Error(fe(151));for(var P=S=null,j=b,_=b=0,k=null,E=w.next();j!==null&&!E.done;_++,E=w.next()){j.index>_?(k=j,j=null):k=j.sibling;var A=f(x,j,E.value,N);if(A===null){j===null&&(j=k);break}t&&j&&A.alternate===null&&e(x,j),b=s(A,b,_),P===null?S=A:P.sibling=A,P=A,j=k}if(E.done)return n(x,j),Yt&&Dl(x,_),S;if(j===null){for(;!E.done;_++,E=w.next())E=d(x,E.value,N),E!==null&&(b=s(E,b,_),P===null?S=E:P.sibling=E,P=E);return Yt&&Dl(x,_),S}for(j=r(x,j);!E.done;_++,E=w.next())E=m(j,x,_,E.value,N),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?_:E.key),b=s(E,b,_),P===null?S=E:P.sibling=E,P=E);return t&&j.forEach(function(I){return e(x,I)}),Yt&&Dl(x,_),S}function y(x,b,w,N){if(typeof w=="object"&&w!==null&&w.type===yu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Zg:e:{for(var S=w.key,P=b;P!==null;){if(P.key===S){if(S=w.type,S===yu){if(P.tag===7){n(x,P.sibling),b=i(P,w.props.children),b.return=x,x=b;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===go&&uP(S)===P.type){n(x,P.sibling),b=i(P,w.props),b.ref=mf(x,P,w),b.return=x,x=b;break e}n(x,P);break}else e(x,P);P=P.sibling}w.type===yu?(b=cc(w.props.children,x.mode,N,w.key),b.return=x,x=b):(N=r0(w.type,w.key,w.props,null,x.mode,N),N.ref=mf(x,b,w),N.return=x,x=N)}return a(x);case gu:e:{for(P=w.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=D1(w,x.mode,N),b.return=x,x=b}return a(x);case go:return P=w._init,y(x,b,P(w._payload),N)}if(Mf(w))return g(x,b,w,N);if(cf(w))return v(x,b,w,N);uy(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=M1(w,x.mode,N),b.return=x,x=b),a(x)):n(x,b)}return y}var ud=A3(!0),T3=A3(!1),$0=vl(null),L0=null,ju=null,YE=null;function QE(){YE=ju=L0=null}function XE(t){var e=$0.current;Gt($0),t._currentValue=e}function SS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $u(t,e){L0=t,YE=ju=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Br=!0),t.firstContext=null)}function Oi(t){var e=t._currentValue;if(YE!==t)if(t={context:t,memoizedValue:e,next:null},ju===null){if(L0===null)throw Error(fe(308));ju=t,L0.dependencies={lanes:0,firstContext:t}}else ju=ju.next=t;return e}var Gl=null;function JE(t){Gl===null?Gl=[t]:Gl.push(t)}function k3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,JE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Aa(t,r)}function Aa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yo=!1;function ZE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ba(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ft&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Aa(t,n)}return i=r.interleaved,i===null?(e.next=e,JE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Aa(t,n)}function Xy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,LE(t,n)}}function dP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function F0(t,e,n,r){var i=t.updateQueue;yo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;a=0,h=u=c=null,l=s;do{var f=l.lane,m=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,v=l;switch(f=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=rn({},d,f);break e;case 2:yo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=m,c=d):h=h.next=m,a|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yc|=a,t.lanes=a,t.memoizedState=d}}function hP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var Jp={},Rs=vl(Jp),$m=vl(Jp),Lm=vl(Jp);function ql(t){if(t===Jp)throw Error(fe(174));return t}function e2(t,e){switch(Dt(Lm,e),Dt($m,t),Dt(Rs,Jp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rS(e,t)}Gt(Rs),Dt(Rs,e)}function dd(){Gt(Rs),Gt($m),Gt(Lm)}function I3(t){ql(Lm.current);var e=ql(Rs.current),n=rS(e,t.type);e!==n&&(Dt($m,t),Dt(Rs,n))}function t2(t){$m.current===t&&(Gt(Rs),Gt($m))}var Jt=vl(0);function V0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var T1=[];function n2(){for(var t=0;t<T1.length;t++)T1[t]._workInProgressVersionPrimary=null;T1.length=0}var Jy=Wa.ReactCurrentDispatcher,k1=Wa.ReactCurrentBatchConfig,gc=0,nn=null,jn=null,$n=null,B0=!1,Jf=!1,Fm=0,Wq=0;function nr(){throw Error(fe(321))}function r2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fs(t[n],e[n]))return!1;return!0}function i2(t,e,n,r,i,s){if(gc=s,nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jy.current=t===null||t.memoizedState===null?Kq:Yq,t=n(r,i),Jf){s=0;do{if(Jf=!1,Fm=0,25<=s)throw Error(fe(301));s+=1,$n=jn=null,e.updateQueue=null,Jy.current=Qq,t=n(r,i)}while(Jf)}if(Jy.current=U0,e=jn!==null&&jn.next!==null,gc=0,$n=jn=nn=null,B0=!1,e)throw Error(fe(300));return t}function s2(){var t=Fm!==0;return Fm=0,t}function ws(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?nn.memoizedState=$n=t:$n=$n.next=t,$n}function Ri(){if(jn===null){var t=nn.alternate;t=t!==null?t.memoizedState:null}else t=jn.next;var e=$n===null?nn.memoizedState:$n.next;if(e!==null)$n=e,jn=t;else{if(t===null)throw Error(fe(310));jn=t,t={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},$n===null?nn.memoizedState=$n=t:$n=$n.next=t}return $n}function Vm(t,e){return typeof e=="function"?e(t):e}function P1(t){var e=Ri(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=jn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((gc&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=r):c=c.next=d,nn.lanes|=h,yc|=h}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=l,fs(r,e.memoizedState)||(Br=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,nn.lanes|=s,yc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function I1(t){var e=Ri(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);fs(s,e.memoizedState)||(Br=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function O3(){}function R3(t,e){var n=nn,r=Ri(),i=e(),s=!fs(r.memoizedState,i);if(s&&(r.memoizedState=i,Br=!0),r=r.queue,a2($3.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$n!==null&&$n.memoizedState.tag&1){if(n.flags|=2048,Bm(9,D3.bind(null,n,r,i,e),void 0,null),Vn===null)throw Error(fe(349));gc&30||M3(n,e,i)}return i}function M3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function D3(t,e,n,r){e.value=n,e.getSnapshot=r,L3(e)&&F3(t)}function $3(t,e,n){return n(function(){L3(e)&&F3(t)})}function L3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fs(t,n)}catch{return!0}}function F3(t){var e=Aa(t,1);e!==null&&as(e,t,1,-1)}function fP(t){var e=ws();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vm,lastRenderedState:t},e.queue=t,t=t.dispatch=qq.bind(null,nn,t),[e.memoizedState,t]}function Bm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function V3(){return Ri().memoizedState}function Zy(t,e,n,r){var i=ws();nn.flags|=t,i.memoizedState=Bm(1|e,n,void 0,r===void 0?null:r)}function Yx(t,e,n,r){var i=Ri();r=r===void 0?null:r;var s=void 0;if(jn!==null){var a=jn.memoizedState;if(s=a.destroy,r!==null&&r2(r,a.deps)){i.memoizedState=Bm(e,n,s,r);return}}nn.flags|=t,i.memoizedState=Bm(1|e,n,s,r)}function mP(t,e){return Zy(8390656,8,t,e)}function a2(t,e){return Yx(2048,8,t,e)}function B3(t,e){return Yx(4,2,t,e)}function U3(t,e){return Yx(4,4,t,e)}function z3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function W3(t,e,n){return n=n!=null?n.concat([t]):null,Yx(4,4,z3.bind(null,e,t),n)}function o2(){}function H3(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&r2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function G3(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&r2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function q3(t,e,n){return gc&21?(fs(n,e)||(n=J6(),nn.lanes|=n,yc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Br=!0),t.memoizedState=n)}function Hq(t,e){var n=jt;jt=n!==0&&4>n?n:4,t(!0);var r=k1.transition;k1.transition={};try{t(!1),e()}finally{jt=n,k1.transition=r}}function K3(){return Ri().memoizedState}function Gq(t,e,n){var r=Uo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Y3(t))Q3(e,n);else if(n=k3(t,e,n,r),n!==null){var i=kr();as(n,t,r,i),X3(n,e,r)}}function qq(t,e,n){var r=Uo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Y3(t))Q3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,fs(l,a)){var c=e.interleaved;c===null?(i.next=i,JE(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=k3(t,e,i,r),n!==null&&(i=kr(),as(n,t,r,i),X3(n,e,r))}}function Y3(t){var e=t.alternate;return t===nn||e!==null&&e===nn}function Q3(t,e){Jf=B0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,LE(t,n)}}var U0={readContext:Oi,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},Kq={readContext:Oi,useCallback:function(t,e){return ws().memoizedState=[t,e===void 0?null:e],t},useContext:Oi,useEffect:mP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zy(4194308,4,z3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zy(4,2,t,e)},useMemo:function(t,e){var n=ws();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ws();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Gq.bind(null,nn,t),[r.memoizedState,t]},useRef:function(t){var e=ws();return t={current:t},e.memoizedState=t},useState:fP,useDebugValue:o2,useDeferredValue:function(t){return ws().memoizedState=t},useTransition:function(){var t=fP(!1),e=t[0];return t=Hq.bind(null,t[1]),ws().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nn,i=ws();if(Yt){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),Vn===null)throw Error(fe(349));gc&30||M3(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,mP($3.bind(null,r,s,t),[t]),r.flags|=2048,Bm(9,D3.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ws(),e=Vn.identifierPrefix;if(Yt){var n=da,r=ua;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Wq++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Yq={readContext:Oi,useCallback:H3,useContext:Oi,useEffect:a2,useImperativeHandle:W3,useInsertionEffect:B3,useLayoutEffect:U3,useMemo:G3,useReducer:P1,useRef:V3,useState:function(){return P1(Vm)},useDebugValue:o2,useDeferredValue:function(t){var e=Ri();return q3(e,jn.memoizedState,t)},useTransition:function(){var t=P1(Vm)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:O3,useSyncExternalStore:R3,useId:K3,unstable_isNewReconciler:!1},Qq={readContext:Oi,useCallback:H3,useContext:Oi,useEffect:a2,useImperativeHandle:W3,useInsertionEffect:B3,useLayoutEffect:U3,useMemo:G3,useReducer:I1,useRef:V3,useState:function(){return I1(Vm)},useDebugValue:o2,useDeferredValue:function(t){var e=Ri();return jn===null?e.memoizedState=t:q3(e,jn.memoizedState,t)},useTransition:function(){var t=I1(Vm)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:O3,useSyncExternalStore:R3,useId:K3,unstable_isNewReconciler:!1};function Hi(t,e){if(t&&t.defaultProps){e=rn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function NS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qx={isMounted:function(t){return(t=t._reactInternals)?$c(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kr(),i=Uo(t),s=ba(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vo(t,s,i),e!==null&&(as(e,t,i,r),Xy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kr(),i=Uo(t),s=ba(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vo(t,s,i),e!==null&&(as(e,t,i,r),Xy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kr(),r=Uo(t),i=ba(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vo(t,i,r),e!==null&&(as(e,t,r,n),Xy(e,t,r))}};function pP(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Om(n,r)||!Om(i,s):!0}function J3(t,e,n){var r=!1,i=rl,s=e.contextType;return typeof s=="object"&&s!==null?s=Oi(s):(i=Hr(e)?mc:gr.current,r=e.contextTypes,s=(r=r!=null)?ld(t,i):rl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qx.enqueueReplaceState(e,e.state,null)}function jS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ZE(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Oi(s):(s=Hr(e)?mc:gr.current,i.context=ld(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(NS(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qx.enqueueReplaceState(i,i.state,null),F0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hd(t,e){try{var n="",r=e;do n+=NG(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function O1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ES(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Xq=typeof WeakMap=="function"?WeakMap:Map;function Z3(t,e,n){n=ba(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){W0||(W0=!0,DS=r),ES(t,e)},n}function e$(t,e,n){n=ba(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ES(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ES(t,e),typeof r!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function yP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Xq;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=dK.bind(null,t,e,n),e.then(t,t))}function vP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ba(-1,1),e.tag=2,Vo(n,e,1))),n.lanes|=1),t)}var Jq=Wa.ReactCurrentOwner,Br=!1;function Nr(t,e,n,r){e.child=t===null?T3(e,null,n,r):ud(e,t.child,n,r)}function bP(t,e,n,r,i){n=n.render;var s=e.ref;return $u(e,i),r=i2(t,e,n,r,s,i),n=s2(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ta(t,e,i)):(Yt&&n&&GE(e),e.flags|=1,Nr(t,e,r,i),e.child)}function wP(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!p2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,t$(t,e,s,r,i)):(t=r0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Om,n(a,r)&&t.ref===e.ref)return Ta(t,e,i)}return e.flags|=1,t=zo(s,r),t.ref=e.ref,t.return=e,e.child=t}function t$(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Om(s,r)&&t.ref===e.ref)if(Br=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Br=!0);else return e.lanes=t.lanes,Ta(t,e,i)}return CS(t,e,n,r,i)}function n$(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(Cu,ai),ai|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Dt(Cu,ai),ai|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Dt(Cu,ai),ai|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Dt(Cu,ai),ai|=r;return Nr(t,e,i,n),e.child}function r$(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function CS(t,e,n,r,i){var s=Hr(n)?mc:gr.current;return s=ld(e,s),$u(e,i),n=i2(t,e,n,r,s,i),r=s2(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ta(t,e,i)):(Yt&&r&&GE(e),e.flags|=1,Nr(t,e,n,i),e.child)}function _P(t,e,n,r,i){if(Hr(n)){var s=!0;R0(e)}else s=!1;if($u(e,i),e.stateNode===null)e0(t,e),J3(e,n,r),jS(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Oi(u):(u=Hr(n)?mc:gr.current,u=ld(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&gP(e,a,r,u),yo=!1;var f=e.memoizedState;a.state=f,F0(e,r,a,i),c=e.memoizedState,l!==r||f!==c||Wr.current||yo?(typeof h=="function"&&(NS(e,n,h,r),c=e.memoizedState),(l=yo||pP(e,n,l,r,f,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,P3(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Hi(e.type,l),a.props=u,d=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Oi(c):(c=Hr(n)?mc:gr.current,c=ld(e,c));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||f!==c)&&gP(e,a,r,c),yo=!1,f=e.memoizedState,a.state=f,F0(e,r,a,i);var g=e.memoizedState;l!==d||f!==g||Wr.current||yo?(typeof m=="function"&&(NS(e,n,m,r),g=e.memoizedState),(u=yo||pP(e,n,u,r,f,g,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return AS(t,e,n,r,s,i)}function AS(t,e,n,r,i,s){r$(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&oP(e,n,!1),Ta(t,e,s);r=e.stateNode,Jq.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ud(e,t.child,null,s),e.child=ud(e,null,l,s)):Nr(t,e,l,s),e.memoizedState=r.state,i&&oP(e,n,!0),e.child}function i$(t){var e=t.stateNode;e.pendingContext?aP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aP(t,e.context,!1),e2(t,e.containerInfo)}function SP(t,e,n,r,i){return cd(),KE(i),e.flags|=256,Nr(t,e,n,r),e.child}var TS={dehydrated:null,treeContext:null,retryLane:0};function kS(t){return{baseLanes:t,cachePool:null,transitions:null}}function s$(t,e,n){var r=e.pendingProps,i=Jt.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Dt(Jt,i&1),t===null)return _S(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Zx(a,r,0,null),t=cc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=kS(n),e.memoizedState=TS,t):l2(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Zq(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=zo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=zo(l,s):(s=cc(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?kS(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=TS,r}return s=t.child,t=s.sibling,r=zo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function l2(t,e){return e=Zx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dy(t,e,n,r){return r!==null&&KE(r),ud(e,t.child,null,n),t=l2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Zq(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=O1(Error(fe(422))),dy(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Zx({mode:"visible",children:r.children},i,0,null),s=cc(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ud(e,t.child,null,a),e.child.memoizedState=kS(a),e.memoizedState=TS,s);if(!(e.mode&1))return dy(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(fe(419)),r=O1(s,r,void 0),dy(t,e,a,r)}if(l=(a&t.childLanes)!==0,Br||l){if(r=Vn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Aa(t,i),as(r,t,i,-1))}return m2(),r=O1(Error(fe(421))),dy(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=hK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ui=Fo(i.nextSibling),hi=e,Yt=!0,Ji=null,t!==null&&(Ni[ji++]=ua,Ni[ji++]=da,Ni[ji++]=pc,ua=t.id,da=t.overflow,pc=e),e=l2(e,r.children),e.flags|=4096,e)}function NP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),SS(t.return,e,n)}function R1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function a$(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nr(t,e,r.children,n),r=Jt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&NP(t,n,e);else if(t.tag===19)NP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Dt(Jt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&V0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),R1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&V0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}R1(e,!0,n,null,s);break;case"together":R1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function e0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ta(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=zo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eK(t,e,n){switch(e.tag){case 3:i$(e),cd();break;case 5:I3(e);break;case 1:Hr(e.type)&&R0(e);break;case 4:e2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Dt($0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Dt(Jt,Jt.current&1),e.flags|=128,null):n&e.child.childLanes?s$(t,e,n):(Dt(Jt,Jt.current&1),t=Ta(t,e,n),t!==null?t.sibling:null);Dt(Jt,Jt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return a$(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dt(Jt,Jt.current),r)break;return null;case 22:case 23:return e.lanes=0,n$(t,e,n)}return Ta(t,e,n)}var o$,PS,l$,c$;o$=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};PS=function(){};l$=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ql(Rs.current);var s=null;switch(n){case"input":i=Z_(t,i),r=Z_(t,r),s=[];break;case"select":i=rn({},i,{value:void 0}),r=rn({},r,{value:void 0}),s=[];break;case"textarea":i=nS(t,i),r=nS(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=I0)}iS(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Em.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Em.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ft("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};c$=function(t,e,n,r){n!==r&&(e.flags|=4)};function pf(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tK(t,e,n){var r=e.pendingProps;switch(qE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(e),null;case 1:return Hr(e.type)&&O0(),rr(e),null;case 3:return r=e.stateNode,dd(),Gt(Wr),Gt(gr),n2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ji!==null&&(FS(Ji),Ji=null))),PS(t,e),rr(e),null;case 5:t2(e);var i=ql(Lm.current);if(n=e.type,t!==null&&e.stateNode!=null)l$(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return rr(e),null}if(t=ql(Rs.current),cy(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Cs]=e,r[Dm]=s,t=(e.mode&1)!==0,n){case"dialog":Ft("cancel",r),Ft("close",r);break;case"iframe":case"object":case"embed":Ft("load",r);break;case"video":case"audio":for(i=0;i<$f.length;i++)Ft($f[i],r);break;case"source":Ft("error",r);break;case"img":case"image":case"link":Ft("error",r),Ft("load",r);break;case"details":Ft("toggle",r);break;case"input":Ok(r,s),Ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ft("invalid",r);break;case"textarea":Mk(r,s),Ft("invalid",r)}iS(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ly(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ly(r.textContent,l,t),i=["children",""+l]):Em.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ft("scroll",r)}switch(n){case"input":ey(r),Rk(r,s,!0);break;case"textarea":ey(r),Dk(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=I0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Cs]=e,t[Dm]=r,o$(t,e,!1,!1),e.stateNode=t;e:{switch(a=sS(n,r),n){case"dialog":Ft("cancel",t),Ft("close",t),i=r;break;case"iframe":case"object":case"embed":Ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<$f.length;i++)Ft($f[i],t);i=r;break;case"source":Ft("error",t),i=r;break;case"img":case"image":case"link":Ft("error",t),Ft("load",t),i=r;break;case"details":Ft("toggle",t),i=r;break;case"input":Ok(t,r),i=Z_(t,r),Ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rn({},r,{value:void 0}),Ft("invalid",t);break;case"textarea":Mk(t,r),i=nS(t,r),Ft("invalid",t);break;default:i=r}iS(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?V6(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&L6(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Cm(t,c):typeof c=="number"&&Cm(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Em.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ft("scroll",t):c!=null&&IE(t,s,c,a))}switch(n){case"input":ey(t),Rk(t,r,!1);break;case"textarea":ey(t),Dk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ou(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ou(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=I0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rr(e),null;case 6:if(t&&e.stateNode!=null)c$(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=ql(Lm.current),ql(Rs.current),cy(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cs]=e,(s=r.nodeValue!==n)&&(t=hi,t!==null))switch(t.tag){case 3:ly(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ly(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cs]=e,e.stateNode=r}return rr(e),null;case 13:if(Gt(Jt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&ui!==null&&e.mode&1&&!(e.flags&128))C3(),cd(),e.flags|=98560,s=!1;else if(s=cy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Cs]=e}else cd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rr(e),s=!1}else Ji!==null&&(FS(Ji),Ji=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Jt.current&1?Cn===0&&(Cn=3):m2())),e.updateQueue!==null&&(e.flags|=4),rr(e),null);case 4:return dd(),PS(t,e),t===null&&Rm(e.stateNode.containerInfo),rr(e),null;case 10:return XE(e.type._context),rr(e),null;case 17:return Hr(e.type)&&O0(),rr(e),null;case 19:if(Gt(Jt),s=e.memoizedState,s===null)return rr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)pf(s,!1);else{if(Cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=V0(t),a!==null){for(e.flags|=128,pf(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Dt(Jt,Jt.current&1|2),e.child}t=t.sibling}s.tail!==null&&hn()>fd&&(e.flags|=128,r=!0,pf(s,!1),e.lanes=4194304)}else{if(!r)if(t=V0(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Yt)return rr(e),null}else 2*hn()-s.renderingStartTime>fd&&n!==1073741824&&(e.flags|=128,r=!0,pf(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=hn(),e.sibling=null,n=Jt.current,Dt(Jt,r?n&1|2:n&1),e):(rr(e),null);case 22:case 23:return f2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ai&1073741824&&(rr(e),e.subtreeFlags&6&&(e.flags|=8192)):rr(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function nK(t,e){switch(qE(e),e.tag){case 1:return Hr(e.type)&&O0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dd(),Gt(Wr),Gt(gr),n2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return t2(e),null;case 13:if(Gt(Jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));cd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Gt(Jt),null;case 4:return dd(),null;case 10:return XE(e.type._context),null;case 22:case 23:return f2(),null;case 24:return null;default:return null}}var hy=!1,cr=!1,rK=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Eu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ln(t,e,r)}else n.current=null}function IS(t,e,n){try{n()}catch(r){ln(t,e,r)}}var jP=!1;function iK(t,e){if(pS=T0,t=m3(),HE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(l=a+i),d!==s||r!==0&&d.nodeType!==3||(c=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gS={focusedElem:t,selectionRange:n},T0=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Hi(e.type,v),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(N){ln(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return g=jP,jP=!1,g}function Zf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&IS(e,n,s)}i=i.next}while(i!==r)}}function Xx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function OS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function u$(t){var e=t.alternate;e!==null&&(t.alternate=null,u$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cs],delete e[Dm],delete e[xS],delete e[Vq],delete e[Bq])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d$(t){return t.tag===5||t.tag===3||t.tag===4}function EP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function RS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=I0));else if(r!==4&&(t=t.child,t!==null))for(RS(t,e,n),t=t.sibling;t!==null;)RS(t,e,n),t=t.sibling}function MS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(MS(t,e,n),t=t.sibling;t!==null;)MS(t,e,n),t=t.sibling}var Wn=null,Yi=!1;function oo(t,e,n){for(n=n.child;n!==null;)h$(t,e,n),n=n.sibling}function h$(t,e,n){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(zx,n)}catch{}switch(n.tag){case 5:cr||Eu(n,e);case 6:var r=Wn,i=Yi;Wn=null,oo(t,e,n),Wn=r,Yi=i,Wn!==null&&(Yi?(t=Wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wn.removeChild(n.stateNode));break;case 18:Wn!==null&&(Yi?(t=Wn,n=n.stateNode,t.nodeType===8?C1(t.parentNode,n):t.nodeType===1&&C1(t,n),Pm(t)):C1(Wn,n.stateNode));break;case 4:r=Wn,i=Yi,Wn=n.stateNode.containerInfo,Yi=!0,oo(t,e,n),Wn=r,Yi=i;break;case 0:case 11:case 14:case 15:if(!cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&IS(n,e,a),i=i.next}while(i!==r)}oo(t,e,n);break;case 1:if(!cr&&(Eu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ln(n,e,l)}oo(t,e,n);break;case 21:oo(t,e,n);break;case 22:n.mode&1?(cr=(r=cr)||n.memoizedState!==null,oo(t,e,n),cr=r):oo(t,e,n);break;default:oo(t,e,n)}}function CP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rK),e.forEach(function(r){var i=fK.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Wn=l.stateNode,Yi=!1;break e;case 3:Wn=l.stateNode.containerInfo,Yi=!0;break e;case 4:Wn=l.stateNode.containerInfo,Yi=!0;break e}l=l.return}if(Wn===null)throw Error(fe(160));h$(s,a,i),Wn=null,Yi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ln(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f$(e,t),e=e.sibling}function f$(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zi(e,t),bs(t),r&4){try{Zf(3,t,t.return),Xx(3,t)}catch(v){ln(t,t.return,v)}try{Zf(5,t,t.return)}catch(v){ln(t,t.return,v)}}break;case 1:zi(e,t),bs(t),r&512&&n!==null&&Eu(n,n.return);break;case 5:if(zi(e,t),bs(t),r&512&&n!==null&&Eu(n,n.return),t.flags&32){var i=t.stateNode;try{Cm(i,"")}catch(v){ln(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&M6(i,s),sS(l,a);var u=sS(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];h==="style"?V6(i,d):h==="dangerouslySetInnerHTML"?L6(i,d):h==="children"?Cm(i,d):IE(i,h,d,u)}switch(l){case"input":eS(i,s);break;case"textarea":D6(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ou(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ou(i,!!s.multiple,s.defaultValue,!0):Ou(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dm]=s}catch(v){ln(t,t.return,v)}}break;case 6:if(zi(e,t),bs(t),r&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ln(t,t.return,v)}}break;case 3:if(zi(e,t),bs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pm(e.containerInfo)}catch(v){ln(t,t.return,v)}break;case 4:zi(e,t),bs(t);break;case 13:zi(e,t),bs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(d2=hn())),r&4&&CP(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(cr=(u=cr)||h,zi(e,t),cr=u):zi(e,t),bs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Pe=t,h=t.child;h!==null;){for(d=Pe=h;Pe!==null;){switch(f=Pe,m=f.child,f.tag){case 0:case 11:case 14:case 15:Zf(4,f,f.return);break;case 1:Eu(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){ln(r,n,v)}}break;case 5:Eu(f,f.return);break;case 22:if(f.memoizedState!==null){TP(d);continue}}m!==null?(m.return=f,Pe=m):TP(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=F6("display",a))}catch(v){ln(t,t.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){ln(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:zi(e,t),bs(t),r&4&&CP(t);break;case 21:break;default:zi(e,t),bs(t)}}function bs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(d$(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cm(i,""),r.flags&=-33);var s=EP(t);MS(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=EP(t);RS(t,l,a);break;default:throw Error(fe(161))}}catch(c){ln(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sK(t,e,n){Pe=t,m$(t)}function m$(t,e,n){for(var r=(t.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||hy;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||cr;l=hy;var u=cr;if(hy=a,(cr=c)&&!u)for(Pe=i;Pe!==null;)a=Pe,c=a.child,a.tag===22&&a.memoizedState!==null?kP(i):c!==null?(c.return=a,Pe=c):kP(i);for(;s!==null;)Pe=s,m$(s),s=s.sibling;Pe=i,hy=l,cr=u}AP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):AP(t)}}function AP(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cr||Xx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&hP(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hP(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Pm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}cr||e.flags&512&&OS(e)}catch(f){ln(e,e.return,f)}}if(e===t){Pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function TP(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function kP(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xx(4,e)}catch(c){ln(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ln(e,i,c)}}var s=e.return;try{OS(e)}catch(c){ln(e,s,c)}break;case 5:var a=e.return;try{OS(e)}catch(c){ln(e,a,c)}}}catch(c){ln(e,e.return,c)}if(e===t){Pe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Pe=l;break}Pe=e.return}}var aK=Math.ceil,z0=Wa.ReactCurrentDispatcher,c2=Wa.ReactCurrentOwner,Pi=Wa.ReactCurrentBatchConfig,ft=0,Vn=null,gn=null,Kn=0,ai=0,Cu=vl(0),Cn=0,Um=null,yc=0,Jx=0,u2=0,em=null,Lr=null,d2=0,fd=1/0,sa=null,W0=!1,DS=null,Bo=null,fy=!1,Po=null,H0=0,tm=0,$S=null,t0=-1,n0=0;function kr(){return ft&6?hn():t0!==-1?t0:t0=hn()}function Uo(t){return t.mode&1?ft&2&&Kn!==0?Kn&-Kn:zq.transition!==null?(n0===0&&(n0=J6()),n0):(t=jt,t!==0||(t=window.event,t=t===void 0?16:s3(t.type)),t):1}function as(t,e,n,r){if(50<tm)throw tm=0,$S=null,Error(fe(185));Yp(t,n,r),(!(ft&2)||t!==Vn)&&(t===Vn&&(!(ft&2)&&(Jx|=n),Cn===4&&bo(t,Kn)),Gr(t,r),n===1&&ft===0&&!(e.mode&1)&&(fd=hn()+500,Kx&&xl()))}function Gr(t,e){var n=t.callbackNode;zG(t,e);var r=A0(t,t===Vn?Kn:0);if(r===0)n!==null&&Fk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fk(n),e===1)t.tag===0?Uq(PP.bind(null,t)):N3(PP.bind(null,t)),Lq(function(){!(ft&6)&&xl()}),n=null;else{switch(Z6(r)){case 1:n=$E;break;case 4:n=Q6;break;case 16:n=C0;break;case 536870912:n=X6;break;default:n=C0}n=_$(n,p$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function p$(t,e){if(t0=-1,n0=0,ft&6)throw Error(fe(327));var n=t.callbackNode;if(Lu()&&t.callbackNode!==n)return null;var r=A0(t,t===Vn?Kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=G0(t,r);else{e=r;var i=ft;ft|=2;var s=y$();(Vn!==t||Kn!==e)&&(sa=null,fd=hn()+500,lc(t,e));do try{cK();break}catch(l){g$(t,l)}while(!0);QE(),z0.current=s,ft=i,gn!==null?e=0:(Vn=null,Kn=0,e=Cn)}if(e!==0){if(e===2&&(i=uS(t),i!==0&&(r=i,e=LS(t,i))),e===1)throw n=Um,lc(t,0),bo(t,r),Gr(t,hn()),n;if(e===6)bo(t,r);else{if(i=t.current.alternate,!(r&30)&&!oK(i)&&(e=G0(t,r),e===2&&(s=uS(t),s!==0&&(r=s,e=LS(t,s))),e===1))throw n=Um,lc(t,0),bo(t,r),Gr(t,hn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:$l(t,Lr,sa);break;case 3:if(bo(t,r),(r&130023424)===r&&(e=d2+500-hn(),10<e)){if(A0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){kr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vS($l.bind(null,t,Lr,sa),e);break}$l(t,Lr,sa);break;case 4:if(bo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ss(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aK(r/1960))-r,10<r){t.timeoutHandle=vS($l.bind(null,t,Lr,sa),r);break}$l(t,Lr,sa);break;case 5:$l(t,Lr,sa);break;default:throw Error(fe(329))}}}return Gr(t,hn()),t.callbackNode===n?p$.bind(null,t):null}function LS(t,e){var n=em;return t.current.memoizedState.isDehydrated&&(lc(t,e).flags|=256),t=G0(t,e),t!==2&&(e=Lr,Lr=n,e!==null&&FS(e)),t}function FS(t){Lr===null?Lr=t:Lr.push.apply(Lr,t)}function oK(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bo(t,e){for(e&=~u2,e&=~Jx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ss(e),r=1<<n;t[n]=-1,e&=~r}}function PP(t){if(ft&6)throw Error(fe(327));Lu();var e=A0(t,0);if(!(e&1))return Gr(t,hn()),null;var n=G0(t,e);if(t.tag!==0&&n===2){var r=uS(t);r!==0&&(e=r,n=LS(t,r))}if(n===1)throw n=Um,lc(t,0),bo(t,e),Gr(t,hn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$l(t,Lr,sa),Gr(t,hn()),null}function h2(t,e){var n=ft;ft|=1;try{return t(e)}finally{ft=n,ft===0&&(fd=hn()+500,Kx&&xl())}}function vc(t){Po!==null&&Po.tag===0&&!(ft&6)&&Lu();var e=ft;ft|=1;var n=Pi.transition,r=jt;try{if(Pi.transition=null,jt=1,t)return t()}finally{jt=r,Pi.transition=n,ft=e,!(ft&6)&&xl()}}function f2(){ai=Cu.current,Gt(Cu)}function lc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$q(n)),gn!==null)for(n=gn.return;n!==null;){var r=n;switch(qE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&O0();break;case 3:dd(),Gt(Wr),Gt(gr),n2();break;case 5:t2(r);break;case 4:dd();break;case 13:Gt(Jt);break;case 19:Gt(Jt);break;case 10:XE(r.type._context);break;case 22:case 23:f2()}n=n.return}if(Vn=t,gn=t=zo(t.current,null),Kn=ai=e,Cn=0,Um=null,u2=Jx=yc=0,Lr=em=null,Gl!==null){for(e=0;e<Gl.length;e++)if(n=Gl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Gl=null}return t}function g$(t,e){do{var n=gn;try{if(QE(),Jy.current=U0,B0){for(var r=nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}B0=!1}if(gc=0,$n=jn=nn=null,Jf=!1,Fm=0,c2.current=null,n===null||n.return===null){Cn=1,Um=e,gn=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=Kn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=vP(a);if(m!==null){m.flags&=-257,xP(m,a,l,s,e),m.mode&1&&yP(s,u,e),e=m,c=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(c),e.updateQueue=v}else g.add(c);break e}else{if(!(e&1)){yP(s,u,e),m2();break e}c=Error(fe(426))}}else if(Yt&&l.mode&1){var y=vP(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),xP(y,a,l,s,e),KE(hd(c,l));break e}}s=c=hd(c,l),Cn!==4&&(Cn=2),em===null?em=[s]:em.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=Z3(s,c,e);dP(s,x);break e;case 1:l=c;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Bo===null||!Bo.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=e$(s,l,e);dP(s,N);break e}}s=s.return}while(s!==null)}x$(n)}catch(S){e=S,gn===n&&n!==null&&(gn=n=n.return);continue}break}while(!0)}function y$(){var t=z0.current;return z0.current=U0,t===null?U0:t}function m2(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Vn===null||!(yc&268435455)&&!(Jx&268435455)||bo(Vn,Kn)}function G0(t,e){var n=ft;ft|=2;var r=y$();(Vn!==t||Kn!==e)&&(sa=null,lc(t,e));do try{lK();break}catch(i){g$(t,i)}while(!0);if(QE(),ft=n,z0.current=r,gn!==null)throw Error(fe(261));return Vn=null,Kn=0,Cn}function lK(){for(;gn!==null;)v$(gn)}function cK(){for(;gn!==null&&!RG();)v$(gn)}function v$(t){var e=w$(t.alternate,t,ai);t.memoizedProps=t.pendingProps,e===null?x$(t):gn=e,c2.current=null}function x$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nK(n,e),n!==null){n.flags&=32767,gn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cn=6,gn=null;return}}else if(n=tK(n,e,ai),n!==null){gn=n;return}if(e=e.sibling,e!==null){gn=e;return}gn=e=t}while(e!==null);Cn===0&&(Cn=5)}function $l(t,e,n){var r=jt,i=Pi.transition;try{Pi.transition=null,jt=1,uK(t,e,n,r)}finally{Pi.transition=i,jt=r}return null}function uK(t,e,n,r){do Lu();while(Po!==null);if(ft&6)throw Error(fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(WG(t,s),t===Vn&&(gn=Vn=null,Kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fy||(fy=!0,_$(C0,function(){return Lu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pi.transition,Pi.transition=null;var a=jt;jt=1;var l=ft;ft|=4,c2.current=null,iK(t,n),f$(n,t),kq(gS),T0=!!pS,gS=pS=null,t.current=n,sK(n),MG(),ft=l,jt=a,Pi.transition=s}else t.current=n;if(fy&&(fy=!1,Po=t,H0=i),s=t.pendingLanes,s===0&&(Bo=null),LG(n.stateNode),Gr(t,hn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(W0)throw W0=!1,t=DS,DS=null,t;return H0&1&&t.tag!==0&&Lu(),s=t.pendingLanes,s&1?t===$S?tm++:(tm=0,$S=t):tm=0,xl(),null}function Lu(){if(Po!==null){var t=Z6(H0),e=Pi.transition,n=jt;try{if(Pi.transition=null,jt=16>t?16:t,Po===null)var r=!1;else{if(t=Po,Po=null,H0=0,ft&6)throw Error(fe(331));var i=ft;for(ft|=4,Pe=t.current;Pe!==null;){var s=Pe,a=s.child;if(Pe.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Pe=u;Pe!==null;){var h=Pe;switch(h.tag){case 0:case 11:case 15:Zf(8,h,s)}var d=h.child;if(d!==null)d.return=h,Pe=d;else for(;Pe!==null;){h=Pe;var f=h.sibling,m=h.return;if(u$(h),h===u){Pe=null;break}if(f!==null){f.return=m,Pe=f;break}Pe=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Pe=a;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zf(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Pe=x;break e}Pe=s.return}}var b=t.current;for(Pe=b;Pe!==null;){a=Pe;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Pe=w;else e:for(a=b;Pe!==null;){if(l=Pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xx(9,l)}}catch(S){ln(l,l.return,S)}if(l===a){Pe=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Pe=N;break e}Pe=l.return}}if(ft=i,xl(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(zx,t)}catch{}r=!0}return r}finally{jt=n,Pi.transition=e}}return!1}function IP(t,e,n){e=hd(n,e),e=Z3(t,e,1),t=Vo(t,e,1),e=kr(),t!==null&&(Yp(t,1,e),Gr(t,e))}function ln(t,e,n){if(t.tag===3)IP(t,t,n);else for(;e!==null;){if(e.tag===3){IP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bo===null||!Bo.has(r))){t=hd(n,t),t=e$(e,t,1),e=Vo(e,t,1),t=kr(),e!==null&&(Yp(e,1,t),Gr(e,t));break}}e=e.return}}function dK(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kr(),t.pingedLanes|=t.suspendedLanes&n,Vn===t&&(Kn&n)===n&&(Cn===4||Cn===3&&(Kn&130023424)===Kn&&500>hn()-d2?lc(t,0):u2|=n),Gr(t,e)}function b$(t,e){e===0&&(t.mode&1?(e=ry,ry<<=1,!(ry&130023424)&&(ry=4194304)):e=1);var n=kr();t=Aa(t,e),t!==null&&(Yp(t,e,n),Gr(t,n))}function hK(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),b$(t,n)}function fK(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),b$(t,n)}var w$;w$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wr.current)Br=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Br=!1,eK(t,e,n);Br=!!(t.flags&131072)}else Br=!1,Yt&&e.flags&1048576&&j3(e,D0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;e0(t,e),t=e.pendingProps;var i=ld(e,gr.current);$u(e,n),i=i2(null,e,r,t,i,n);var s=s2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hr(r)?(s=!0,R0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ZE(e),i.updater=Qx,e.stateNode=i,i._reactInternals=e,jS(e,r,t,n),e=AS(null,e,r,!0,s,n)):(e.tag=0,Yt&&s&&GE(e),Nr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(e0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pK(r),t=Hi(r,t),i){case 0:e=CS(null,e,r,t,n);break e;case 1:e=_P(null,e,r,t,n);break e;case 11:e=bP(null,e,r,t,n);break e;case 14:e=wP(null,e,r,Hi(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),CS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),_P(t,e,r,i,n);case 3:e:{if(i$(e),t===null)throw Error(fe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,P3(t,e),F0(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=hd(Error(fe(423)),e),e=SP(t,e,r,n,i);break e}else if(r!==i){i=hd(Error(fe(424)),e),e=SP(t,e,r,n,i);break e}else for(ui=Fo(e.stateNode.containerInfo.firstChild),hi=e,Yt=!0,Ji=null,n=T3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cd(),r===i){e=Ta(t,e,n);break e}Nr(t,e,r,n)}e=e.child}return e;case 5:return I3(e),t===null&&_S(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,yS(r,i)?a=null:s!==null&&yS(r,s)&&(e.flags|=32),r$(t,e),Nr(t,e,a,n),e.child;case 6:return t===null&&_S(e),null;case 13:return s$(t,e,n);case 4:return e2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ud(e,null,r,n):Nr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),bP(t,e,r,i,n);case 7:return Nr(t,e,e.pendingProps,n),e.child;case 8:return Nr(t,e,e.pendingProps.children,n),e.child;case 12:return Nr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Dt($0,r._currentValue),r._currentValue=a,s!==null)if(fs(s.value,a)){if(s.children===i.children&&!Wr.current){e=Ta(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ba(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),SS(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(fe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),SS(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Nr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$u(e,n),i=Oi(i),r=r(i),e.flags|=1,Nr(t,e,r,n),e.child;case 14:return r=e.type,i=Hi(r,e.pendingProps),i=Hi(r.type,i),wP(t,e,r,i,n);case 15:return t$(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),e0(t,e),e.tag=1,Hr(r)?(t=!0,R0(e)):t=!1,$u(e,n),J3(e,r,i),jS(e,r,i,n),AS(null,e,r,!0,t,n);case 19:return a$(t,e,n);case 22:return n$(t,e,n)}throw Error(fe(156,e.tag))};function _$(t,e){return Y6(t,e)}function mK(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(t,e,n,r){return new mK(t,e,n,r)}function p2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pK(t){if(typeof t=="function")return p2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===RE)return 11;if(t===ME)return 14}return 2}function zo(t,e){var n=t.alternate;return n===null?(n=Ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function r0(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")p2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case yu:return cc(n.children,i,s,e);case OE:a=8,i|=8;break;case Y_:return t=Ai(12,n,e,i|2),t.elementType=Y_,t.lanes=s,t;case Q_:return t=Ai(13,n,e,i),t.elementType=Q_,t.lanes=s,t;case X_:return t=Ai(19,n,e,i),t.elementType=X_,t.lanes=s,t;case I6:return Zx(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k6:a=10;break e;case P6:a=9;break e;case RE:a=11;break e;case ME:a=14;break e;case go:a=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Ai(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function cc(t,e,n,r){return t=Ai(7,t,r,e),t.lanes=n,t}function Zx(t,e,n,r){return t=Ai(22,t,r,e),t.elementType=I6,t.lanes=n,t.stateNode={isHidden:!1},t}function M1(t,e,n){return t=Ai(6,t,null,e),t.lanes=n,t}function D1(t,e,n){return e=Ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gK(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g1(0),this.expirationTimes=g1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function g2(t,e,n,r,i,s,a,l,c){return t=new gK(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ai(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZE(s),t}function yK(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function S$(t){if(!t)return rl;t=t._reactInternals;e:{if($c(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(Hr(n))return S3(t,n,e)}return e}function N$(t,e,n,r,i,s,a,l,c){return t=g2(n,r,!0,t,i,s,a,l,c),t.context=S$(null),n=t.current,r=kr(),i=Uo(n),s=ba(r,i),s.callback=e??null,Vo(n,s,i),t.current.lanes=i,Yp(t,i,r),Gr(t,r),t}function eb(t,e,n,r){var i=e.current,s=kr(),a=Uo(i);return n=S$(n),e.context===null?e.context=n:e.pendingContext=n,e=ba(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vo(i,e,a),t!==null&&(as(t,i,a,s),Xy(t,i,a)),a}function q0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function y2(t,e){OP(t,e),(t=t.alternate)&&OP(t,e)}function vK(){return null}var j$=typeof reportError=="function"?reportError:function(t){console.error(t)};function v2(t){this._internalRoot=t}tb.prototype.render=v2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));eb(t,e,null,null)};tb.prototype.unmount=v2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vc(function(){eb(null,t,null,null)}),e[Ca]=null}};function tb(t){this._internalRoot=t}tb.prototype.unstable_scheduleHydration=function(t){if(t){var e=n3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xo.length&&e!==0&&e<xo[n].priority;n++);xo.splice(n,0,t),n===0&&i3(t)}};function x2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function RP(){}function xK(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=q0(a);s.call(u)}}var a=N$(e,r,t,0,null,!1,!1,"",RP);return t._reactRootContainer=a,t[Ca]=a.current,Rm(t.nodeType===8?t.parentNode:t),vc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=q0(c);l.call(u)}}var c=g2(t,0,!1,null,null,!1,!1,"",RP);return t._reactRootContainer=c,t[Ca]=c.current,Rm(t.nodeType===8?t.parentNode:t),vc(function(){eb(e,c,n,r)}),c}function rb(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=q0(a);l.call(c)}}eb(e,a,t,i)}else a=xK(n,e,t,i,r);return q0(a)}e3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Df(e.pendingLanes);n!==0&&(LE(e,n|1),Gr(e,hn()),!(ft&6)&&(fd=hn()+500,xl()))}break;case 13:vc(function(){var r=Aa(t,1);if(r!==null){var i=kr();as(r,t,1,i)}}),y2(t,1)}};FE=function(t){if(t.tag===13){var e=Aa(t,134217728);if(e!==null){var n=kr();as(e,t,134217728,n)}y2(t,134217728)}};t3=function(t){if(t.tag===13){var e=Uo(t),n=Aa(t,e);if(n!==null){var r=kr();as(n,t,e,r)}y2(t,e)}};n3=function(){return jt};r3=function(t,e){var n=jt;try{return jt=t,e()}finally{jt=n}};oS=function(t,e,n){switch(e){case"input":if(eS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qx(r);if(!i)throw Error(fe(90));R6(r),eS(r,i)}}}break;case"textarea":D6(t,n);break;case"select":e=n.value,e!=null&&Ou(t,!!n.multiple,e,!1)}};z6=h2;W6=vc;var bK={usingClientEntryPoint:!1,Events:[Xp,wu,qx,B6,U6,h2]},gf={findFiberByHostInstance:Hl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wK={bundleType:gf.bundleType,version:gf.version,rendererPackageName:gf.rendererPackageName,rendererConfig:gf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q6(t),t===null?null:t.stateNode},findFiberByHostInstance:gf.findFiberByHostInstance||vK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var my=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!my.isDisabled&&my.supportsFiber)try{zx=my.inject(wK),Os=my}catch{}}vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bK;vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x2(e))throw Error(fe(200));return yK(t,e,null,n)};vi.createRoot=function(t,e){if(!x2(t))throw Error(fe(299));var n=!1,r="",i=j$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=g2(t,1,!1,null,null,n,!1,r,i),t[Ca]=e.current,Rm(t.nodeType===8?t.parentNode:t),new v2(e)};vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=q6(e),t=t===null?null:t.stateNode,t};vi.flushSync=function(t){return vc(t)};vi.hydrate=function(t,e,n){if(!nb(e))throw Error(fe(200));return rb(null,t,e,!0,n)};vi.hydrateRoot=function(t,e,n){if(!x2(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=j$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=N$(e,null,t,1,n??null,i,!1,s,a),t[Ca]=e.current,Rm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tb(e)};vi.render=function(t,e,n){if(!nb(e))throw Error(fe(200));return rb(null,t,e,!1,n)};vi.unmountComponentAtNode=function(t){if(!nb(t))throw Error(fe(40));return t._reactRootContainer?(vc(function(){rb(null,null,t,!1,function(){t._reactRootContainer=null,t[Ca]=null})}),!0):!1};vi.unstable_batchedUpdates=h2;vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nb(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return rb(t,e,n,!1,r)};vi.version="18.3.1-next-f1338f8080-20240426";function E$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E$)}catch(t){console.error(t)}}E$(),E6.exports=vi;var Zp=E6.exports;const C$=bt(Zp);var A$,MP=Zp;A$=MP.createRoot,MP.hydrateRoot;const _K=1,SK=1e6;let $1=0;function NK(){return $1=($1+1)%Number.MAX_SAFE_INTEGER,$1.toString()}const L1=new Map,DP=t=>{if(L1.has(t))return;const e=setTimeout(()=>{L1.delete(t),nm({type:"REMOVE_TOAST",toastId:t})},SK);L1.set(t,e)},jK=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,_K)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?DP(n):t.toasts.forEach(r=>{DP(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},i0=[];let s0={toasts:[]};function nm(t){s0=jK(s0,t),i0.forEach(e=>{e(s0)})}function Ll({...t}){const e=NK(),n=i=>nm({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>nm({type:"DISMISS_TOAST",toastId:e});return nm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ks(){const[t,e]=C.useState(s0);return C.useEffect(()=>(i0.push(e),()=>{const n=i0.indexOf(e);n>-1&&i0.splice(n,1)}),[t]),{...t,toast:Ll,dismiss:n=>nm({type:"DISMISS_TOAST",toastId:n})}}function ht(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function EK(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function T$(...t){return e=>t.forEach(n=>EK(n,e))}function yr(...t){return C.useCallback(T$(...t),t)}function CK(t,e=[]){let n=[];function r(s,a){const l=C.createContext(a),c=n.length;n=[...n,a];function u(d){const{scope:f,children:m,...g}=d,v=(f==null?void 0:f[t][c])||l,y=C.useMemo(()=>g,Object.values(g));return o.jsx(v.Provider,{value:y,children:m})}function h(d,f){const m=(f==null?void 0:f[t][c])||l,g=C.useContext(m);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,h]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,AK(i,...e)]}function AK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var md=C.forwardRef((t,e)=>{const{children:n,...r}=t,i=C.Children.toArray(n),s=i.find(TK);if(s){const a=s.props.children,l=i.map(c=>c===s?C.Children.count(a)>1?C.Children.only(null):C.isValidElement(a)?a.props.children:null:c);return o.jsx(VS,{...r,ref:e,children:C.isValidElement(a)?C.cloneElement(a,void 0,l):null})}return o.jsx(VS,{...r,ref:e,children:n})});md.displayName="Slot";var VS=C.forwardRef((t,e)=>{const{children:n,...r}=t;if(C.isValidElement(n)){const i=PK(n);return C.cloneElement(n,{...kK(r,n.props),ref:e?T$(e,i):i})}return C.Children.count(n)>1?C.Children.only(null):null});VS.displayName="SlotClone";var k$=({children:t})=>o.jsx(o.Fragment,{children:t});function TK(t){return C.isValidElement(t)&&t.type===k$}function kK(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function PK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function P$(t){const e=t+"CollectionProvider",[n,r]=CK(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:g,children:v}=m,y=D.useRef(null),x=D.useRef(new Map).current;return o.jsx(i,{scope:g,itemMap:x,collectionRef:y,children:v})};a.displayName=e;const l=t+"CollectionSlot",c=D.forwardRef((m,g)=>{const{scope:v,children:y}=m,x=s(l,v),b=yr(g,x.collectionRef);return o.jsx(md,{ref:b,children:y})});c.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",d=D.forwardRef((m,g)=>{const{scope:v,children:y,...x}=m,b=D.useRef(null),w=yr(g,b),N=s(u,v);return D.useEffect(()=>(N.itemMap.set(b,{ref:b,...x}),()=>void N.itemMap.delete(b))),o.jsx(md,{[h]:"",ref:w,children:y})});d.displayName=u;function f(m){const g=s(t+"CollectionConsumer",m);return D.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((N,S)=>x.indexOf(N.ref.current)-x.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:c,ItemSlot:d},f,r]}function IK(t,e){const n=C.createContext(e),r=s=>{const{children:a,...l}=s,c=C.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function i(s){const a=C.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function eg(t,e=[]){let n=[];function r(s,a){const l=C.createContext(a),c=n.length;n=[...n,a];const u=d=>{var x;const{scope:f,children:m,...g}=d,v=((x=f==null?void 0:f[t])==null?void 0:x[c])||l,y=C.useMemo(()=>g,Object.values(g));return o.jsx(v.Provider,{value:y,children:m})};u.displayName=s+"Provider";function h(d,f){var v;const m=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,g=C.useContext(m);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,h]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,OK(i,...e)]}function OK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var RK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mt=RK.reduce((t,e)=>{const n=C.forwardRef((r,i)=>{const{asChild:s,...a}=r,l=s?md:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function I$(t,e){t&&Zp.flushSync(()=>t.dispatchEvent(e))}function Qr(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function MK(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var DK="DismissableLayer",BS="dismissableLayer.update",$K="dismissableLayer.pointerDownOutside",LK="dismissableLayer.focusOutside",$P,O$=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ib=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=C.useContext(O$),[h,d]=C.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=C.useState({}),g=yr(e,j=>d(j)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(y),b=h?v.indexOf(h):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=x,S=VK(j=>{const _=j.target,k=[...u.branches].some(E=>E.contains(_));!N||k||(i==null||i(j),a==null||a(j),j.defaultPrevented||l==null||l())},f),P=BK(j=>{const _=j.target;[...u.branches].some(E=>E.contains(_))||(s==null||s(j),a==null||a(j),j.defaultPrevented||l==null||l())},f);return MK(j=>{b===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},f),C.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($P=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),LP(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=$P)}},[h,f,n,u]),C.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),LP())},[h,u]),C.useEffect(()=>{const j=()=>m({});return document.addEventListener(BS,j),()=>document.removeEventListener(BS,j)},[]),o.jsx(mt.div,{...c,ref:g,style:{pointerEvents:w?N?"auto":"none":void 0,...t.style},onFocusCapture:ht(t.onFocusCapture,P.onFocusCapture),onBlurCapture:ht(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ht(t.onPointerDownCapture,S.onPointerDownCapture)})});ib.displayName=DK;var FK="DismissableLayerBranch",R$=C.forwardRef((t,e)=>{const n=C.useContext(O$),r=C.useRef(null),i=yr(e,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),o.jsx(mt.div,{...t,ref:i})});R$.displayName=FK;function VK(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){M$($K,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function BK(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&M$(LK,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function LP(){const t=new CustomEvent(BS);document.dispatchEvent(t)}function M$(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?I$(i,s):i.dispatchEvent(s)}var UK=ib,zK=R$,Bs=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},WK="Portal",b2=C.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=C.useState(!1);Bs(()=>s(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?C$.createPortal(o.jsx(mt.div,{...r,ref:e}),a):null});b2.displayName=WK;function HK(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Lc=t=>{const{present:e,children:n}=t,r=GK(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=yr(r.ref,qK(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};Lc.displayName="Presence";function GK(t){const[e,n]=C.useState(),r=C.useRef({}),i=C.useRef(t),s=C.useRef("none"),a=t?"mounted":"unmounted",[l,c]=HK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=py(r.current);s.current=l==="mounted"?u:"none"},[l]),Bs(()=>{const u=r.current,h=i.current;if(h!==t){const f=s.current,m=py(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Bs(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,d=m=>{const v=py(r.current).includes(m.animationName);if(m.target===e&&v&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=m=>{m.target===e&&(s.current=py(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function py(t){return(t==null?void 0:t.animationName)||"none"}function qK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function sb({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=KK({defaultProp:e,onChange:n}),s=t!==void 0,a=s?t:r,l=Qr(n),c=C.useCallback(u=>{if(s){const d=typeof u=="function"?u(t):u;d!==t&&l(d)}else i(u)},[s,t,i,l]);return[a,c]}function KK({defaultProp:t,onChange:e}){const n=C.useState(t),[r]=n,i=C.useRef(r),s=Qr(e);return C.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var YK="VisuallyHidden",ab=C.forwardRef((t,e)=>o.jsx(mt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ab.displayName=YK;var QK=ab,w2="ToastProvider",[_2,XK,JK]=P$("Toast"),[D$,EDe]=eg("Toast",[JK]),[ZK,ob]=D$(w2),$$=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[l,c]=C.useState(null),[u,h]=C.useState(0),d=C.useRef(!1),f=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${w2}\`. Expected non-empty \`string\`.`),o.jsx(_2.Provider,{scope:e,children:o.jsx(ZK,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:C.useCallback(()=>h(m=>m+1),[]),onToastRemove:C.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:a})})};$$.displayName=w2;var L$="ToastViewport",eY=["F8"],US="toast.viewportPause",zS="toast.viewportResume",F$=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=eY,label:i="Notifications ({hotkey})",...s}=t,a=ob(L$,n),l=XK(n),c=C.useRef(null),u=C.useRef(null),h=C.useRef(null),d=C.useRef(null),f=yr(e,d,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;C.useEffect(()=>{const y=x=>{var w;r.length!==0&&r.every(N=>x[N]||x.code===N)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),C.useEffect(()=>{const y=c.current,x=d.current;if(g&&y&&x){const b=()=>{if(!a.isClosePausedRef.current){const P=new CustomEvent(US);x.dispatchEvent(P),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const P=new CustomEvent(zS);x.dispatchEvent(P),a.isClosePausedRef.current=!1}},N=P=>{!y.contains(P.relatedTarget)&&w()},S=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",b),y.addEventListener("focusout",N),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[g,a.isClosePausedRef]);const v=C.useCallback(({tabbingDirection:y})=>{const b=l().map(w=>{const N=w.ref.current,S=[N,...fY(N)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return C.useEffect(()=>{const y=d.current;if(y){const x=b=>{var S,P,j;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const _=document.activeElement,k=b.shiftKey;if(b.target===y&&k){(S=u.current)==null||S.focus();return}const I=v({tabbingDirection:k?"backwards":"forwards"}),R=I.findIndex($=>$===_);F1(I.slice(R+1))?b.preventDefault():k?(P=u.current)==null||P.focus():(j=h.current)==null||j.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,v]),o.jsxs(zK,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(WS,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});F1(y)}}),o.jsx(_2.Slot,{scope:n,children:o.jsx(mt.ol,{tabIndex:-1,...s,ref:f})}),g&&o.jsx(WS,{ref:h,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});F1(y)}})]})});F$.displayName=L$;var V$="ToastFocusProxy",WS=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=ob(V$,n);return o.jsx(ab,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&r()}})});WS.displayName=V$;var lb="Toast",tY="toast.swipeStart",nY="toast.swipeMove",rY="toast.swipeCancel",iY="toast.swipeEnd",B$=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[l=!0,c]=sb({prop:r,defaultProp:i,onChange:s});return o.jsx(Lc,{present:n||l,children:o.jsx(oY,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Qr(t.onPause),onResume:Qr(t.onResume),onSwipeStart:ht(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ht(t.onSwipeMove,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ht(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ht(t.onSwipeEnd,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});B$.displayName=lb;var[sY,aY]=D$(lb,{onClose(){}}),oY=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:m,...g}=t,v=ob(lb,n),[y,x]=C.useState(null),b=yr(e,$=>x($)),w=C.useRef(null),N=C.useRef(null),S=i||v.duration,P=C.useRef(0),j=C.useRef(S),_=C.useRef(0),{onToastAdd:k,onToastRemove:E}=v,A=Qr(()=>{var W;(y==null?void 0:y.contains(document.activeElement))&&((W=v.viewport)==null||W.focus()),a()}),I=C.useCallback($=>{!$||$===1/0||(window.clearTimeout(_.current),P.current=new Date().getTime(),_.current=window.setTimeout(A,$))},[A]);C.useEffect(()=>{const $=v.viewport;if($){const W=()=>{I(j.current),u==null||u()},H=()=>{const M=new Date().getTime()-P.current;j.current=j.current-M,window.clearTimeout(_.current),c==null||c()};return $.addEventListener(US,H),$.addEventListener(zS,W),()=>{$.removeEventListener(US,H),$.removeEventListener(zS,W)}}},[v.viewport,S,c,u,I]),C.useEffect(()=>{s&&!v.isClosePausedRef.current&&I(S)},[s,S,v.isClosePausedRef,I]),C.useEffect(()=>(k(),()=>E()),[k,E]);const R=C.useMemo(()=>y?K$(y):null,[y]);return v.viewport?o.jsxs(o.Fragment,{children:[R&&o.jsx(lY,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),o.jsx(sY,{scope:n,onClose:A,children:Zp.createPortal(o.jsx(_2.ItemSlot,{scope:n,children:o.jsx(UK,{asChild:!0,onEscapeKeyDown:ht(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||A(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(mt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ht(t.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:ht(t.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:ht(t.onPointerMove,$=>{if(!w.current)return;const W=$.clientX-w.current.x,H=$.clientY-w.current.y,M=!!N.current,F=["left","right"].includes(v.swipeDirection),U=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,X=F?U(0,W):0,z=F?0:U(0,H),G=$.pointerType==="touch"?10:2,q={x:X,y:z},ae={originalEvent:$,delta:q};M?(N.current=q,gy(nY,d,ae,{discrete:!1})):FP(q,v.swipeDirection,G)?(N.current=q,gy(tY,h,ae,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(W)>G||Math.abs(H)>G)&&(w.current=null)}),onPointerUp:ht(t.onPointerUp,$=>{const W=N.current,H=$.target;if(H.hasPointerCapture($.pointerId)&&H.releasePointerCapture($.pointerId),N.current=null,w.current=null,W){const M=$.currentTarget,F={originalEvent:$,delta:W};FP(W,v.swipeDirection,v.swipeThreshold)?gy(iY,m,F,{discrete:!0}):gy(rY,f,F,{discrete:!0}),M.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),lY=t=>{const{__scopeToast:e,children:n,...r}=t,i=ob(lb,e),[s,a]=C.useState(!1),[l,c]=C.useState(!1);return dY(()=>a(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(b2,{asChild:!0,children:o.jsx(ab,{...r,children:s&&o.jsxs(o.Fragment,{children:[i.label," ",n]})})})},cY="ToastTitle",U$=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(mt.div,{...r,ref:e})});U$.displayName=cY;var uY="ToastDescription",z$=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(mt.div,{...r,ref:e})});z$.displayName=uY;var W$="ToastAction",H$=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(q$,{altText:n,asChild:!0,children:o.jsx(S2,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${W$}\`. Expected non-empty \`string\`.`),null)});H$.displayName=W$;var G$="ToastClose",S2=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=aY(G$,n);return o.jsx(q$,{asChild:!0,children:o.jsx(mt.button,{type:"button",...r,ref:e,onClick:ht(t.onClick,i.onClose)})})});S2.displayName=G$;var q$=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return o.jsx(mt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function K$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),hY(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...K$(r))}}),e}function gy(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?I$(i,s):i.dispatchEvent(s)}var FP=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function dY(t=()=>{}){const e=Qr(t);Bs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function hY(t){return t.nodeType===t.ELEMENT_NODE}function fY(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function F1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mY=$$,Y$=F$,Q$=B$,X$=U$,J$=z$,Z$=H$,eL=S2;function tL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function He(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tL(t))&&(r&&(r+=" "),r+=e);return r}const VP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,BP=He,cb=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return BP(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const h=n==null?void 0:n[u],d=s==null?void 0:s[u];if(h===null)return null;const f=VP(h)||VP(d);return i[u][f]}),l=n&&Object.entries(n).reduce((u,h)=>{let[d,f]=h;return f===void 0||(u[d]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:d,className:f,...m}=h;return Object.entries(m).every(g=>{let[v,y]=g;return Array.isArray(y)?y.includes({...s,...l}[v]):{...s,...l}[v]===y})?[...u,d,f]:u},[]);return BP(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nL=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>C.createElement("svg",{ref:c,...gY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nL("lucide",i),...l},[...a.map(([u,h])=>C.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(yY,{ref:s,iconNode:e,className:nL(`lucide-${pY(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=he("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=he("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=he("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=he("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=he("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=he("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=he("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=he("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=he("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=he("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=he("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=he("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=he("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=he("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=he("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=he("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=he("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=he("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=he("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=he("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=he("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=he("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=he("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=he("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=he("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=he("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=he("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=he("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=he("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=he("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=he("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=he("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=he("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=he("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=he("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=he("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=he("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=he("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=he("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=he("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=he("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=he("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=he("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=he("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=he("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=he("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),j2="-",qY=t=>{const e=YY(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(j2);return l[0]===""&&l.length!==1&&l.shift(),oL(l,e)||KY(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},oL=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?oL(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(j2);return(a=e.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},QP=/^\[(.+)\]$/,KY=t=>{if(QP.test(t)){const e=QP.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},YY=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return XY(Object.entries(t.classGroups),n).forEach(([s,a])=>{YS(a,r,s,e)}),r},YS=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:XP(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(QY(i)){YS(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{YS(a,XP(e,s),n,r)})})},XP=(t,e)=>{let n=t;return e.split(j2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},QY=t=>t.isThemeGetter,XY=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,i]}):t,JY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},lL="!",ZY=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=l=>{const c=[];let u=0,h=0,d;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===i&&(r||l.slice(y,y+s)===e)){c.push(l.slice(h,y)),h=y+s;continue}if(x==="/"){d=y;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?l:l.substring(h),m=f.startsWith(lL),g=m?f.substring(1):f,v=d&&d>h?d-h:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},eQ=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},tQ=t=>({cache:JY(t.cacheSize),parseClassName:ZY(t),...qY(t)}),nQ=/\s+/,rQ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(nQ);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let g=!!m,v=r(g?f.substring(0,m):f);if(!v){if(!g){l=u+(l.length>0?" "+l:l);continue}if(v=r(f),!v){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=eQ(h).join(":"),x=d?y+lL:y,b=x+v;if(s.includes(b))continue;s.push(b);const w=i(v,g);for(let N=0;N<w.length;++N){const S=w[N];s.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function iQ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=cL(e))&&(r&&(r+=" "),r+=n);return r}const cL=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=cL(t[r]))&&(n&&(n+=" "),n+=e);return n};function sQ(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((h,d)=>d(h),t());return n=tQ(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=rQ(c,n);return i(c,h),h}return function(){return s(iQ.apply(null,arguments))}}const Lt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},uL=/^\[(?:([a-z-]+):)?(.+)\]$/i,aQ=/^\d+\/\d+$/,oQ=new Set(["px","full","screen"]),lQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ta=t=>Fu(t)||oQ.has(t)||aQ.test(t),lo=t=>ph(t,"length",bQ),Fu=t=>!!t&&!Number.isNaN(Number(t)),U1=t=>ph(t,"number",Fu),yf=t=>!!t&&Number.isInteger(Number(t)),fQ=t=>t.endsWith("%")&&Fu(t.slice(0,-1)),Xe=t=>uL.test(t),co=t=>lQ.test(t),mQ=new Set(["length","size","percentage"]),pQ=t=>ph(t,mQ,dL),gQ=t=>ph(t,"position",dL),yQ=new Set(["image","url"]),vQ=t=>ph(t,yQ,_Q),xQ=t=>ph(t,"",wQ),vf=()=>!0,ph=(t,e,n)=>{const r=uL.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},bQ=t=>cQ.test(t)&&!uQ.test(t),dL=()=>!1,wQ=t=>dQ.test(t),_Q=t=>hQ.test(t),SQ=()=>{const t=Lt("colors"),e=Lt("spacing"),n=Lt("blur"),r=Lt("brightness"),i=Lt("borderColor"),s=Lt("borderRadius"),a=Lt("borderSpacing"),l=Lt("borderWidth"),c=Lt("contrast"),u=Lt("grayscale"),h=Lt("hueRotate"),d=Lt("invert"),f=Lt("gap"),m=Lt("gradientColorStops"),g=Lt("gradientColorStopPositions"),v=Lt("inset"),y=Lt("margin"),x=Lt("opacity"),b=Lt("padding"),w=Lt("saturate"),N=Lt("scale"),S=Lt("sepia"),P=Lt("skew"),j=Lt("space"),_=Lt("translate"),k=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Xe,e],I=()=>[Xe,e],R=()=>["",ta,lo],$=()=>["auto",Fu,Xe],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Xe],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Fu,Xe];return{cacheSize:500,separator:":",theme:{colors:[vf],spacing:[ta,lo],blur:["none","",co,Xe],brightness:z(),borderColor:[t],borderRadius:["none","","full",co,Xe],borderSpacing:I(),borderWidth:R(),contrast:z(),grayscale:U(),hueRotate:z(),invert:U(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[fQ,lo],inset:A(),margin:A(),opacity:z(),padding:I(),saturate:z(),scale:z(),sepia:U(),skew:z(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[co]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Xe]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yf,Xe]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",yf,Xe]}],"grid-cols":[{"grid-cols":[vf]}],"col-start-end":[{col:["auto",{span:["full",yf,Xe]},Xe]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[vf]}],"row-start-end":[{row:["auto",{span:[yf,Xe]},Xe]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,e]}],"min-w":[{"min-w":[Xe,e,"min","max","fit"]}],"max-w":[{"max-w":[Xe,e,"none","full","min","max","fit","prose",{screen:[co]},co]}],h:[{h:[Xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",co,lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",U1]}],"font-family":[{font:[vf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",Fu,U1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ta,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ta,lo]}],"underline-offset":[{"underline-offset":["auto",ta,Xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),gQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vQ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[ta,Xe]}],"outline-w":[{outline:[ta,lo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ta,lo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",co,xQ]}],"shadow-color":[{shadow:[vf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",co,Xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[yf,Xe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ta,lo,U1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NQ=sQ(SQ);function vt(...t){return NQ(He(t))}const jQ=mY,hL=C.forwardRef(({className:t,...e},n)=>o.jsx(Y$,{ref:n,className:vt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));hL.displayName=Y$.displayName;const EQ=cb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fL=C.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(Q$,{ref:r,className:vt(EQ({variant:e}),t),...n}));fL.displayName=Q$.displayName;const CQ=C.forwardRef(({className:t,...e},n)=>o.jsx(Z$,{ref:n,className:vt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));CQ.displayName=Z$.displayName;const mL=C.forwardRef(({className:t,...e},n)=>o.jsx(eL,{ref:n,className:vt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(ng,{className:"h-4 w-4"})}));mL.displayName=eL.displayName;const pL=C.forwardRef(({className:t,...e},n)=>o.jsx(X$,{ref:n,className:vt("text-sm font-semibold",t),...e}));pL.displayName=X$.displayName;const gL=C.forwardRef(({className:t,...e},n)=>o.jsx(J$,{ref:n,className:vt("text-sm opacity-90",t),...e}));gL.displayName=J$.displayName;function AQ(){const{toasts:t}=Ks();return o.jsxs(jQ,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return o.jsxs(fL,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(pL,{children:n}),r&&o.jsx(gL,{children:r})]}),i,o.jsx(mL,{})]},e)}),o.jsx(hL,{})]})}var JP=["light","dark"],TQ="(prefers-color-scheme: dark)",kQ=C.createContext(void 0),PQ={setTheme:t=>{},themes:[]},IQ=()=>{var t;return(t=C.useContext(kQ))!=null?t:PQ};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:l,nonce:c})=>{let u=s==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?JP.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,v=!1,y=!0)=>{let x=a?a[g]:g,b=v?g+"|| ''":`'${x}'`,w="";return i&&y&&!v&&JP.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),n==="class"?v||x?w+=`c.add(${b})`:w+="null":x&&(w+=`d[s](n,${b})`),w},m=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${TQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${d}}catch(t){}}();`;return C.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var OQ=t=>{switch(t){case"success":return DQ;case"info":return LQ;case"warning":return $Q;case"error":return FQ;default:return null}},RQ=Array(12).fill(0),MQ=({visible:t})=>D.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},D.createElement("div",{className:"sonner-spinner"},RQ.map((e,n)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),DQ=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$Q=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LQ=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FQ=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VQ=()=>{let[t,e]=D.useState(document.hidden);return D.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},QS=1,BQ=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:QS++,a=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:l,title:r}):c):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async a=>{if(zQ(a)&&!a.ok){s=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${a.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${a.status}`):n.description;this.create({id:r,type:"error",message:l,description:c})}else if(n.success!==void 0){s=!1;let l=typeof n.success=="function"?await n.success(a):n.success,c=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async a=>{if(n.error!==void 0){s=!1;let l=typeof n.error=="function"?await n.error(a):n.error,c=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=n.finally)==null||a.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||QS++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},si=new BQ,UQ=(t,e)=>{let n=(e==null?void 0:e.id)||QS++;return si.addToast({title:t,...e,id:n}),n},zQ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",WQ=UQ,HQ=()=>si.toasts,ir=Object.assign(WQ,{success:si.success,info:si.info,warning:si.warning,error:si.error,custom:si.custom,message:si.message,promise:si.promise,dismiss:si.dismiss,loading:si.loading},{getHistory:HQ});function GQ(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}GQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yy(t){return t.label!==void 0}var qQ=3,KQ="32px",YQ=4e3,QQ=356,XQ=14,JQ=20,ZQ=200;function eX(...t){return t.filter(Boolean).join(" ")}var tX=t=>{var e,n,r,i,s,a,l,c,u,h;let{invert:d,toast:f,unstyled:m,interacting:g,setHeights:v,visibleToasts:y,heights:x,index:b,toasts:w,expanded:N,removeToast:S,defaultRichColors:P,closeButton:j,style:_,cancelButtonStyle:k,actionButtonStyle:E,className:A="",descriptionClassName:I="",duration:R,position:$,gap:W,loadingIcon:H,expandByDefault:M,classNames:F,icons:U,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:z,cn:G}=t,[q,ae]=D.useState(!1),[ye,ie]=D.useState(!1),[B,Q]=D.useState(!1),[Z,ue]=D.useState(!1),[pe,V]=D.useState(0),[le,we]=D.useState(0),Ae=D.useRef(null),tt=D.useRef(null),Xt=b===0,me=b+1<=y,be=f.type,de=f.dismissible!==!1,ve=f.className||"",De=f.descriptionClassName||"",Le=D.useMemo(()=>x.findIndex(qe=>qe.toastId===f.id)||0,[x,f.id]),$e=D.useMemo(()=>{var qe;return(qe=f.closeButton)!=null?qe:j},[f.closeButton,j]),Se=D.useMemo(()=>f.duration||R||YQ,[f.duration,R]),Be=D.useRef(0),Te=D.useRef(0),sn=D.useRef(0),Bi=D.useRef(null),[Yh,Qw]=$.split("-"),no=D.useMemo(()=>x.reduce((qe,Ct,Nt)=>Nt>=Le?qe:qe+Ct.height,0),[x,Le]),Qh=VQ(),Rg=f.invert||d,Tl=be==="loading";Te.current=D.useMemo(()=>Le*W+no,[Le,no]),D.useEffect(()=>{ae(!0)},[]),D.useLayoutEffect(()=>{if(!q)return;let qe=tt.current,Ct=qe.style.height;qe.style.height="auto";let Nt=qe.getBoundingClientRect().height;qe.style.height=Ct,we(Nt),v(Jn=>Jn.find(Dr=>Dr.toastId===f.id)?Jn.map(Dr=>Dr.toastId===f.id?{...Dr,height:Nt}:Dr):[{toastId:f.id,height:Nt,position:f.position},...Jn])},[q,f.title,f.description,v,f.id]);let xs=D.useCallback(()=>{ie(!0),V(Te.current),v(qe=>qe.filter(Ct=>Ct.toastId!==f.id)),setTimeout(()=>{S(f)},ZQ)},[f,S,v,Te]);D.useEffect(()=>{if(f.promise&&be==="loading"||f.duration===1/0||f.type==="loading")return;let qe,Ct=Se;return N||g||z&&Qh?(()=>{if(sn.current<Be.current){let Nt=new Date().getTime()-Be.current;Ct=Ct-Nt}sn.current=new Date().getTime()})():Ct!==1/0&&(Be.current=new Date().getTime(),qe=setTimeout(()=>{var Nt;(Nt=f.onAutoClose)==null||Nt.call(f,f),xs()},Ct)),()=>clearTimeout(qe)},[N,g,M,f,Se,xs,f.promise,be,z,Qh]),D.useEffect(()=>{let qe=tt.current;if(qe){let Ct=qe.getBoundingClientRect().height;return we(Ct),v(Nt=>[{toastId:f.id,height:Ct,position:f.position},...Nt]),()=>v(Nt=>Nt.filter(Jn=>Jn.toastId!==f.id))}},[v,f.id]),D.useEffect(()=>{f.delete&&xs()},[xs,f.delete]);function Xw(){return U!=null&&U.loading?D.createElement("div",{className:"sonner-loader","data-visible":be==="loading"},U.loading):H?D.createElement("div",{className:"sonner-loader","data-visible":be==="loading"},H):D.createElement(MQ,{visible:be==="loading"})}return D.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:tt,className:G(A,ve,F==null?void 0:F.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[be],(n=f==null?void 0:f.classNames)==null?void 0:n[be]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:P,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":q,"data-promise":!!f.promise,"data-removed":ye,"data-visible":me,"data-y-position":Yh,"data-x-position":Qw,"data-index":b,"data-front":Xt,"data-swiping":B,"data-dismissible":de,"data-type":be,"data-invert":Rg,"data-swipe-out":Z,"data-expanded":!!(N||M&&q),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${ye?pe:Te.current}px`,"--initial-height":M?"auto":`${le}px`,..._,...f.style},onPointerDown:qe=>{Tl||!de||(Ae.current=new Date,V(Te.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(Q(!0),Bi.current={x:qe.clientX,y:qe.clientY}))},onPointerUp:()=>{var qe,Ct,Nt,Jn;if(Z||!de)return;Bi.current=null;let Dr=Number(((qe=tt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ro=new Date().getTime()-((Ct=Ae.current)==null?void 0:Ct.getTime()),Js=Math.abs(Dr)/ro;if(Math.abs(Dr)>=JQ||Js>.11){V(Te.current),(Nt=f.onDismiss)==null||Nt.call(f,f),xs(),ue(!0);return}(Jn=tt.current)==null||Jn.style.setProperty("--swipe-amount","0px"),Q(!1)},onPointerMove:qe=>{var Ct;if(!Bi.current||!de)return;let Nt=qe.clientY-Bi.current.y,Jn=qe.clientX-Bi.current.x,Dr=(Yh==="top"?Math.min:Math.max)(0,Nt),ro=qe.pointerType==="touch"?10:2;Math.abs(Dr)>ro?(Ct=tt.current)==null||Ct.style.setProperty("--swipe-amount",`${Nt}px`):Math.abs(Jn)>ro&&(Bi.current=null)}},$e&&!f.jsx?D.createElement("button",{"aria-label":X,"data-disabled":Tl,"data-close-button":!0,onClick:Tl||!de?()=>{}:()=>{var qe;xs(),(qe=f.onDismiss)==null||qe.call(f,f)},className:G(F==null?void 0:F.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||D.isValidElement(f.title)?f.jsx||f.title:D.createElement(D.Fragment,null,be||f.icon||f.promise?D.createElement("div",{"data-icon":"",className:G(F==null?void 0:F.icon,(s=f==null?void 0:f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Xw():null,f.type!=="loading"?f.icon||(U==null?void 0:U[be])||OQ(be):null):null,D.createElement("div",{"data-content":"",className:G(F==null?void 0:F.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},D.createElement("div",{"data-title":"",className:G(F==null?void 0:F.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?D.createElement("div",{"data-description":"",className:G(I,De,F==null?void 0:F.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),D.isValidElement(f.cancel)?f.cancel:f.cancel&&yy(f.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||k,onClick:qe=>{var Ct,Nt;yy(f.cancel)&&de&&((Nt=(Ct=f.cancel).onClick)==null||Nt.call(Ct,qe),xs())},className:G(F==null?void 0:F.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,D.isValidElement(f.action)?f.action:f.action&&yy(f.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||E,onClick:qe=>{var Ct,Nt;yy(f.action)&&(qe.defaultPrevented||((Nt=(Ct=f.action).onClick)==null||Nt.call(Ct,qe),xs()))},className:G(F==null?void 0:F.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function ZP(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var nX=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:l,theme:c="light",richColors:u,duration:h,style:d,visibleToasts:f=qQ,toastOptions:m,dir:g=ZP(),gap:v=XQ,loadingIcon:y,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:N=eX}=t,[S,P]=D.useState([]),j=D.useMemo(()=>Array.from(new Set([n].concat(S.filter(z=>z.position).map(z=>z.position)))),[S,n]),[_,k]=D.useState([]),[E,A]=D.useState(!1),[I,R]=D.useState(!1),[$,W]=D.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=D.useRef(null),M=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=D.useRef(null),U=D.useRef(!1),X=D.useCallback(z=>{var G;(G=S.find(q=>q.id===z.id))!=null&&G.delete||si.dismiss(z.id),P(q=>q.filter(({id:ae})=>ae!==z.id))},[S]);return D.useEffect(()=>si.subscribe(z=>{if(z.dismiss){P(G=>G.map(q=>q.id===z.id?{...q,delete:!0}:q));return}setTimeout(()=>{C$.flushSync(()=>{P(G=>{let q=G.findIndex(ae=>ae.id===z.id);return q!==-1?[...G.slice(0,q),{...G[q],...z},...G.slice(q+1)]:[z,...G]})})})}),[]),D.useEffect(()=>{if(c!=="system"){W(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{W(z?"dark":"light")})},[c]),D.useEffect(()=>{S.length<=1&&A(!1)},[S]),D.useEffect(()=>{let z=G=>{var q,ae;r.every(ye=>G[ye]||G.code===ye)&&(A(!0),(q=H.current)==null||q.focus()),G.code==="Escape"&&(document.activeElement===H.current||(ae=H.current)!=null&&ae.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[r]),D.useEffect(()=>{if(H.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,U.current=!1)}},[H.current]),S.length?D.createElement("section",{"aria-label":`${b} ${M}`,tabIndex:-1},j.map((z,G)=>{var q;let[ae,ye]=z.split("-");return D.createElement("ol",{key:z,dir:g==="auto"?ZP():g,tabIndex:-1,ref:H,className:a,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":ae,"data-x-position":ye,style:{"--front-toast-height":`${((q=_[0])==null?void 0:q.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||KQ,"--width":`${QQ}px`,"--gap":`${v}px`,...d},onBlur:ie=>{U.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(U.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||U.current||(U.current=!0,F.current=ie.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{I||A(!1)},onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},S.filter(ie=>!ie.position&&G===0||ie.position===z).map((ie,B)=>{var Q,Z;return D.createElement(tX,{key:ie.id,icons:x,index:B,toast:ie,defaultRichColors:u,duration:(Q=m==null?void 0:m.duration)!=null?Q:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Z=m==null?void 0:m.closeButton)!=null?Z:s,interacting:I,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:X,toasts:S.filter(ue=>ue.position==ie.position),heights:_.filter(ue=>ue.position==ie.position),setHeights:k,expandByDefault:i,gap:v,loadingIcon:y,expanded:E,pauseWhenPageIsHidden:w,cn:N})}))})):null};const rX=({...t})=>{const{theme:e="system"}=IQ();return o.jsx(nX,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var iX=N6.useId||(()=>{}),sX=0;function im(t){const[e,n]=C.useState(iX());return Bs(()=>{t||n(r=>r??String(sX++))},[t]),t||(e?`radix-${e}`:"")}const aX=["top","right","bottom","left"],il=Math.min,li=Math.max,J0=Math.round,vy=Math.floor,sl=t=>({x:t,y:t}),oX={left:"right",right:"left",bottom:"top",top:"bottom"},lX={start:"end",end:"start"};function XS(t,e,n){return li(t,il(e,n))}function Pa(t,e){return typeof t=="function"?t(e):t}function Ia(t){return t.split("-")[0]}function gh(t){return t.split("-")[1]}function E2(t){return t==="x"?"y":"x"}function C2(t){return t==="y"?"height":"width"}function al(t){return["top","bottom"].includes(Ia(t))?"y":"x"}function A2(t){return E2(al(t))}function cX(t,e,n){n===void 0&&(n=!1);const r=gh(t),i=A2(t),s=C2(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Z0(a)),[a,Z0(a)]}function uX(t){const e=Z0(t);return[JS(t),e,JS(e)]}function JS(t){return t.replace(/start|end/g,e=>lX[e])}function dX(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function hX(t,e,n,r){const i=gh(t);let s=dX(Ia(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(JS)))),s}function Z0(t){return t.replace(/left|right|bottom|top/g,e=>oX[e])}function fX(t){return{top:0,right:0,bottom:0,left:0,...t}}function yL(t){return typeof t!="number"?fX(t):{top:t,right:t,bottom:t,left:t}}function ev(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function eI(t,e,n){let{reference:r,floating:i}=t;const s=al(e),a=A2(e),l=C2(a),c=Ia(e),u=s==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:h,y:r.y-i.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(gh(e)){case"start":m[a]-=f*(n&&u?-1:1);break;case"end":m[a]+=f*(n&&u?-1:1);break}return m}const mX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=eI(u,r,c),f=r,m={},g=0;for(let v=0;v<l.length;v++){const{name:y,fn:x}=l[v],{x:b,y:w,data:N,reset:S}=await x({x:h,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:a,elements:{reference:t,floating:e}});h=b??h,d=w??d,m={...m,[y]:{...m[y],...N}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:h,y:d}=eI(u,f,c)),v=-1)}return{x:h,y:d,placement:f,strategy:i,middlewareData:m}};async function Hm(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=Pa(e,t),g=yL(m),y=l[f?d==="floating"?"reference":"floating":d],x=ev(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),b=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),N=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},S=ev(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-S.top+g.top)/N.y,bottom:(S.bottom-x.bottom+g.bottom)/N.y,left:(x.left-S.left+g.left)/N.x,right:(S.right-x.right+g.right)/N.x}}const pX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=Pa(t,e)||{};if(u==null)return{};const d=yL(h),f={x:n,y:r},m=A2(i),g=C2(m),v=await a.getDimensions(u),y=m==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",N=s.reference[g]+s.reference[m]-f[m]-s.floating[g],S=f[m]-s.reference[m],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let j=P?P[w]:0;(!j||!await(a.isElement==null?void 0:a.isElement(P)))&&(j=l.floating[w]||s.floating[g]);const _=N/2-S/2,k=j/2-v[g]/2-1,E=il(d[x],k),A=il(d[b],k),I=E,R=j-v[g]-A,$=j/2-v[g]/2+_,W=XS(I,$,R),H=!c.arrow&&gh(i)!=null&&$!==W&&s.reference[g]/2-($<I?E:A)-v[g]/2<0,M=H?$<I?$-I:$-R:0;return{[m]:f[m]+M,data:{[m]:W,centerOffset:$-W-M,...H&&{alignmentOffset:M}},reset:H}}}),gX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=Pa(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=Ia(i),b=al(l),w=Ia(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=f||(w||!v?[Z0(l)]:uX(l)),P=g!=="none";!f&&P&&S.push(...hX(l,v,g,N));const j=[l,...S],_=await Hm(e,y),k=[];let E=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&k.push(_[x]),d){const $=cX(i,a,N);k.push(_[$[0]],_[$[1]])}if(E=[...E,{placement:i,overflows:k}],!k.every($=>$<=0)){var A,I;const $=(((A=s.flip)==null?void 0:A.index)||0)+1,W=j[$];if(W)return{data:{index:$,overflows:E},reset:{placement:W}};let H=(I=E.filter(M=>M.overflows[0]<=0).sort((M,F)=>M.overflows[1]-F.overflows[1])[0])==null?void 0:I.placement;if(!H)switch(m){case"bestFit":{var R;const M=(R=E.filter(F=>{if(P){const U=al(F.placement);return U===b||U==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(U=>U>0).reduce((U,X)=>U+X,0)]).sort((F,U)=>F[1]-U[1])[0])==null?void 0:R[0];M&&(H=M);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function tI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nI(t){return aX.some(e=>t[e]>=0)}const yX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Pa(t,e);switch(r){case"referenceHidden":{const s=await Hm(e,{...i,elementContext:"reference"}),a=tI(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:nI(a)}}}case"escaped":{const s=await Hm(e,{...i,altBoundary:!0}),a=tI(s,n.floating);return{data:{escapedOffsets:a,escaped:nI(a)}}}default:return{}}}}};async function vX(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Ia(n),l=gh(n),c=al(n)==="y",u=["left","top"].includes(a)?-1:1,h=s&&c?-1:1,d=Pa(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*h,y:f*u}:{x:f*u,y:m*h}}const xX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,c=await vX(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},bX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=Pa(t,e),u={x:n,y:r},h=await Hm(e,c),d=al(Ia(i)),f=E2(d);let m=u[f],g=u[d];if(s){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=m+h[y],w=m-h[x];m=XS(b,m,w)}if(a){const y=d==="y"?"top":"left",x=d==="y"?"bottom":"right",b=g+h[y],w=g-h[x];g=XS(b,g,w)}const v=l.fn({...e,[f]:m,[d]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:s,[d]:a}}}}}},wX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Pa(t,e),h={x:n,y:r},d=al(i),f=E2(d);let m=h[f],g=h[d];const v=Pa(l,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=f==="y"?"height":"width",N=s.reference[f]-s.floating[w]+y.mainAxis,S=s.reference[f]+s.reference[w]-y.mainAxis;m<N?m=N:m>S&&(m=S)}if(u){var x,b;const w=f==="y"?"width":"height",N=["top","left"].includes(Ia(i)),S=s.reference[d]-s.floating[w]+(N&&((x=a.offset)==null?void 0:x[d])||0)+(N?0:y.crossAxis),P=s.reference[d]+s.reference[w]+(N?0:((b=a.offset)==null?void 0:b[d])||0)-(N?y.crossAxis:0);g<S?g=S:g>P&&(g=P)}return{[f]:m,[d]:g}}}},_X=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:c=()=>{},...u}=Pa(t,e),h=await Hm(e,u),d=Ia(i),f=gh(i),m=al(i)==="y",{width:g,height:v}=s.floating;let y,x;d==="top"||d==="bottom"?(y=d,x=f===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=d,y=f==="end"?"top":"bottom");const b=v-h.top-h.bottom,w=g-h.left-h.right,N=il(v-h[y],b),S=il(g-h[x],w),P=!e.middlewareData.shift;let j=N,_=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=b),P&&!f){const E=li(h.left,0),A=li(h.right,0),I=li(h.top,0),R=li(h.bottom,0);m?_=g-2*(E!==0||A!==0?E+A:li(h.left,h.right)):j=v-2*(I!==0||R!==0?I+R:li(h.top,h.bottom))}await c({...e,availableWidth:_,availableHeight:j});const k=await a.getDimensions(l.floating);return g!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function db(){return typeof window<"u"}function yh(t){return vL(t)?(t.nodeName||"").toLowerCase():"#document"}function mi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ys(t){var e;return(e=(vL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vL(t){return db()?t instanceof Node||t instanceof mi(t).Node:!1}function ms(t){return db()?t instanceof Element||t instanceof mi(t).Element:!1}function zs(t){return db()?t instanceof HTMLElement||t instanceof mi(t).HTMLElement:!1}function rI(t){return!db()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mi(t).ShadowRoot}function rg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ps(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function SX(t){return["table","td","th"].includes(yh(t))}function hb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function T2(t){const e=k2(),n=ms(t)?ps(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function NX(t){let e=ol(t);for(;zs(e)&&!bd(e);){if(T2(e))return e;if(hb(e))return null;e=ol(e)}return null}function k2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bd(t){return["html","body","#document"].includes(yh(t))}function ps(t){return mi(t).getComputedStyle(t)}function fb(t){return ms(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ol(t){if(yh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rI(t)&&t.host||Ys(t);return rI(e)?e.host:e}function xL(t){const e=ol(t);return bd(e)?t.ownerDocument?t.ownerDocument.body:t.body:zs(e)&&rg(e)?e:xL(e)}function Gm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=xL(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=mi(i);if(s){const l=ZS(a);return e.concat(a,a.visualViewport||[],rg(i)?i:[],l&&n?Gm(l):[])}return e.concat(i,Gm(i,[],n))}function ZS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bL(t){const e=ps(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=zs(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=J0(n)!==s||J0(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function P2(t){return ms(t)?t:t.contextElement}function Vu(t){const e=P2(t);if(!zs(e))return sl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=bL(e);let a=(s?J0(n.width):n.width)/r,l=(s?J0(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const jX=sl(0);function wL(t){const e=mi(t);return!k2()||!e.visualViewport?jX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mi(t)?!1:e}function xc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=P2(t);let a=sl(1);e&&(r?ms(r)&&(a=Vu(r)):a=Vu(t));const l=EX(s,n,r)?wL(s):sl(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,h=i.width/a.x,d=i.height/a.y;if(s){const f=mi(s),m=r&&ms(r)?mi(r):r;let g=f,v=ZS(g);for(;v&&r&&m!==g;){const y=Vu(v),x=v.getBoundingClientRect(),b=ps(v),w=x.left+(v.clientLeft+parseFloat(b.paddingLeft))*y.x,N=x.top+(v.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,h*=y.x,d*=y.y,c+=w,u+=N,g=mi(v),v=ZS(g)}}return ev({width:h,height:d,x:c,y:u})}function CX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Ys(r),l=e?hb(e.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=sl(1);const h=sl(0),d=zs(r);if((d||!d&&!s)&&((yh(r)!=="body"||rg(a))&&(c=fb(r)),zs(r))){const f=xc(r);u=Vu(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x,y:n.y*u.y-c.scrollTop*u.y+h.y}}function AX(t){return Array.from(t.getClientRects())}function eN(t,e){const n=fb(t).scrollLeft;return e?e.left+n:xc(Ys(t)).left+n}function TX(t){const e=Ys(t),n=fb(t),r=t.ownerDocument.body,i=li(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=li(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+eN(t);const l=-n.scrollTop;return ps(r).direction==="rtl"&&(a+=li(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}function kX(t,e){const n=mi(t),r=Ys(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const u=k2();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l,y:c}}function PX(t,e){const n=xc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=zs(t)?Vu(t):sl(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:l,x:c,y:u}}function iI(t,e,n){let r;if(e==="viewport")r=kX(t,n);else if(e==="document")r=TX(Ys(t));else if(ms(e))r=PX(e,n);else{const i=wL(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return ev(r)}function _L(t,e){const n=ol(t);return n===e||!ms(n)||bd(n)?!1:ps(n).position==="fixed"||_L(n,e)}function IX(t,e){const n=e.get(t);if(n)return n;let r=Gm(t,[],!1).filter(l=>ms(l)&&yh(l)!=="body"),i=null;const s=ps(t).position==="fixed";let a=s?ol(t):t;for(;ms(a)&&!bd(a);){const l=ps(a),c=T2(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||rg(a)&&!c&&_L(t,a))?r=r.filter(h=>h!==a):i=l,a=ol(a)}return e.set(t,r),r}function OX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?hb(e)?[]:IX(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const d=iI(e,h,i);return u.top=li(d.top,u.top),u.right=il(d.right,u.right),u.bottom=il(d.bottom,u.bottom),u.left=li(d.left,u.left),u},iI(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function RX(t){const{width:e,height:n}=bL(t);return{width:e,height:n}}function MX(t,e,n){const r=zs(e),i=Ys(e),s=n==="fixed",a=xc(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=sl(0);if(r||!r&&!s)if((yh(e)!=="body"||rg(i))&&(l=fb(e)),r){const m=xc(e,!0,s,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&(c.x=eN(i));let u=0,h=0;if(i&&!r&&!s){const m=i.getBoundingClientRect();h=m.top+l.scrollTop,u=m.left+l.scrollLeft-eN(i,m)}const d=a.left+l.scrollLeft-c.x-u,f=a.top+l.scrollTop-c.y-h;return{x:d,y:f,width:a.width,height:a.height}}function z1(t){return ps(t).position==="static"}function sI(t,e){if(!zs(t)||ps(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ys(t)===n&&(n=n.ownerDocument.body),n}function SL(t,e){const n=mi(t);if(hb(t))return n;if(!zs(t)){let i=ol(t);for(;i&&!bd(i);){if(ms(i)&&!z1(i))return i;i=ol(i)}return n}let r=sI(t,e);for(;r&&SX(r)&&z1(r);)r=sI(r,e);return r&&bd(r)&&z1(r)&&!T2(r)?n:r||NX(t)||n}const DX=async function(t){const e=this.getOffsetParent||SL,n=this.getDimensions,r=await n(t.floating);return{reference:MX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $X(t){return ps(t).direction==="rtl"}const LX={convertOffsetParentRelativeRectToViewportRelativeRect:CX,getDocumentElement:Ys,getClippingRect:OX,getOffsetParent:SL,getElementRects:DX,getClientRects:AX,getDimensions:RX,getScale:Vu,isElement:ms,isRTL:$X};function FX(t,e){let n=null,r;const i=Ys(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:u,top:h,width:d,height:f}=t.getBoundingClientRect();if(l||e(),!d||!f)return;const m=vy(h),g=vy(i.clientWidth-(u+d)),v=vy(i.clientHeight-(h+f)),y=vy(u),b={rootMargin:-m+"px "+-g+"px "+-v+"px "+-y+"px",threshold:li(0,il(1,c))||1};let w=!0;function N(S){const P=S[0].intersectionRatio;if(P!==c){if(!w)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(N,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,b)}n.observe(t)}return a(!0),s}function VX(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=P2(t),h=i||s?[...u?Gm(u):[],...Gm(e)]:[];h.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const d=u&&l?FX(u,n):null;let f=-1,m=null;a&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let g,v=c?xc(t):null;c&&y();function y(){const x=xc(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,g=requestAnimationFrame(y)}return n(),()=>{var x;h.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const BX=xX,UX=bX,zX=gX,WX=_X,HX=yX,aI=pX,GX=wX,qX=(t,e,n)=>{const r=new Map,i={platform:LX,...n},s={...i.platform,_c:r};return mX(t,e,{...i,platform:s})};var c0=typeof document<"u"?C.useLayoutEffect:C.useEffect;function tv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!tv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!tv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function NL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function oI(t,e){const n=NL(t);return Math.round(e*n)/n}function W1(t){const e=C.useRef(t);return c0(()=>{e.current=t}),e}function KX(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,d]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=C.useState(r);tv(f,r)||m(r);const[g,v]=C.useState(null),[y,x]=C.useState(null),b=C.useCallback(F=>{F!==P.current&&(P.current=F,v(F))},[]),w=C.useCallback(F=>{F!==j.current&&(j.current=F,x(F))},[]),N=s||g,S=a||y,P=C.useRef(null),j=C.useRef(null),_=C.useRef(h),k=c!=null,E=W1(c),A=W1(i),I=W1(u),R=C.useCallback(()=>{if(!P.current||!j.current)return;const F={placement:e,strategy:n,middleware:f};A.current&&(F.platform=A.current),qX(P.current,j.current,F).then(U=>{const X={...U,isPositioned:I.current!==!1};$.current&&!tv(_.current,X)&&(_.current=X,Zp.flushSync(()=>{d(X)}))})},[f,e,n,A,I]);c0(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(F=>({...F,isPositioned:!1})))},[u]);const $=C.useRef(!1);c0(()=>($.current=!0,()=>{$.current=!1}),[]),c0(()=>{if(N&&(P.current=N),S&&(j.current=S),N&&S){if(E.current)return E.current(N,S,R);R()}},[N,S,R,E,k]);const W=C.useMemo(()=>({reference:P,floating:j,setReference:b,setFloating:w}),[b,w]),H=C.useMemo(()=>({reference:N,floating:S}),[N,S]),M=C.useMemo(()=>{const F={position:n,left:0,top:0};if(!H.floating)return F;const U=oI(H.floating,h.x),X=oI(H.floating,h.y);return l?{...F,transform:"translate("+U+"px, "+X+"px)",...NL(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:X}},[n,l,H.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:R,refs:W,elements:H,floatingStyles:M}),[h,R,W,H,M])}const YX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?aI({element:r.current,padding:i}).fn(n):{}:r?aI({element:r,padding:i}).fn(n):{}}}},QX=(t,e)=>({...BX(t),options:[t,e]}),XX=(t,e)=>({...UX(t),options:[t,e]}),JX=(t,e)=>({...GX(t),options:[t,e]}),ZX=(t,e)=>({...zX(t),options:[t,e]}),eJ=(t,e)=>({...WX(t),options:[t,e]}),tJ=(t,e)=>({...HX(t),options:[t,e]}),nJ=(t,e)=>({...YX(t),options:[t,e]});var rJ="Arrow",jL=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return o.jsx(mt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});jL.displayName=rJ;var iJ=jL;function sJ(t,e=[]){let n=[];function r(s,a){const l=C.createContext(a),c=n.length;n=[...n,a];function u(d){const{scope:f,children:m,...g}=d,v=(f==null?void 0:f[t][c])||l,y=C.useMemo(()=>g,Object.values(g));return o.jsx(v.Provider,{value:y,children:m})}function h(d,f){const m=(f==null?void 0:f[t][c])||l,g=C.useContext(m);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,h]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,aJ(i,...e)]}function aJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function oJ(t){const[e,n]=C.useState(void 0);return Bs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var EL="Popper",[CL,AL]=sJ(EL),[ADe,TL]=CL(EL),kL="PopperAnchor",PL=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=TL(kL,n),a=C.useRef(null),l=yr(e,a);return C.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(mt.div,{...i,ref:l})});PL.displayName=kL;var I2="PopperContent",[lJ,cJ]=CL(I2),IL=C.forwardRef((t,e)=>{var B,Q,Z,ue,pe,V;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=t,y=TL(I2,n),[x,b]=C.useState(null),w=yr(e,le=>b(le)),[N,S]=C.useState(null),P=oJ(N),j=(P==null?void 0:P.width)??0,_=(P==null?void 0:P.height)??0,k=r+(s!=="center"?"-"+s:""),E=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},A=Array.isArray(u)?u:[u],I=A.length>0,R={padding:E,boundary:A.filter(dJ),altBoundary:I},{refs:$,floatingStyles:W,placement:H,isPositioned:M,middlewareData:F}=KX({strategy:"fixed",placement:k,whileElementsMounted:(...le)=>VX(...le,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[QX({mainAxis:i+_,alignmentAxis:a}),c&&XX({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?JX():void 0,...R}),c&&ZX({...R}),eJ({...R,apply:({elements:le,rects:we,availableWidth:Ae,availableHeight:tt})=>{const{width:Xt,height:me}=we.reference,be=le.floating.style;be.setProperty("--radix-popper-available-width",`${Ae}px`),be.setProperty("--radix-popper-available-height",`${tt}px`),be.setProperty("--radix-popper-anchor-width",`${Xt}px`),be.setProperty("--radix-popper-anchor-height",`${me}px`)}}),N&&nJ({element:N,padding:l}),hJ({arrowWidth:j,arrowHeight:_}),f&&tJ({strategy:"referenceHidden",...R})]}),[U,X]=ML(H),z=Qr(g);Bs(()=>{M&&(z==null||z())},[M,z]);const G=(B=F.arrow)==null?void 0:B.x,q=(Q=F.arrow)==null?void 0:Q.y,ae=((Z=F.arrow)==null?void 0:Z.centerOffset)!==0,[ye,ie]=C.useState();return Bs(()=>{x&&ie(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:M?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(ue=F.transformOrigin)==null?void 0:ue.x,(pe=F.transformOrigin)==null?void 0:pe.y].join(" "),...((V=F.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(lJ,{scope:n,placedSide:U,onArrowChange:S,arrowX:G,arrowY:q,shouldHideArrow:ae,children:o.jsx(mt.div,{"data-side":U,"data-align":X,...v,ref:w,style:{...v.style,animation:M?void 0:"none"}})})})});IL.displayName=I2;var OL="PopperArrow",uJ={top:"bottom",right:"left",bottom:"top",left:"right"},RL=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=cJ(OL,r),a=uJ[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(iJ,{...i,ref:n,style:{...i.style,display:"block"}})})});RL.displayName=OL;function dJ(t){return t!==null}var hJ=t=>({name:"transformOrigin",options:t,fn(e){var y,x,b;const{placement:n,rects:r,middlewareData:i}=e,a=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,h]=ML(n),d={start:"0%",center:"50%",end:"100%"}[h],f=(((x=i.arrow)==null?void 0:x.x)??0)+l/2,m=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let g="",v="";return u==="bottom"?(g=a?d:`${f}px`,v=`${-c}px`):u==="top"?(g=a?d:`${f}px`,v=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=a?d:`${m}px`):u==="left"&&(g=`${r.floating.width+c}px`,v=a?d:`${m}px`),{data:{x:g,y:v}}}});function ML(t){const[e,n="center"]=t.split("-");return[e,n]}var fJ=PL,mJ=IL,pJ=RL,[mb,TDe]=eg("Tooltip",[AL]),O2=AL(),DL="TooltipProvider",gJ=700,lI="tooltip.open",[yJ,$L]=mb(DL),LL=t=>{const{__scopeTooltip:e,delayDuration:n=gJ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[a,l]=C.useState(!0),c=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),o.jsx(yJ,{scope:e,isOpenDelayed:a,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:C.useCallback(h=>{c.current=h},[]),disableHoverableContent:i,children:s})};LL.displayName=DL;var FL="Tooltip",[kDe,pb]=mb(FL),tN="TooltipTrigger",vJ=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=pb(tN,n),s=$L(tN,n),a=O2(n),l=C.useRef(null),c=yr(e,l,i.onTriggerChange),u=C.useRef(!1),h=C.useRef(!1),d=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),o.jsx(fJ,{asChild:!0,...a,children:o.jsx(mt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:ht(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:ht(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:ht(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ht(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:ht(t.onBlur,i.onClose),onClick:ht(t.onClick,i.onClose)})})});vJ.displayName=tN;var xJ="TooltipPortal",[PDe,bJ]=mb(xJ,{forceMount:void 0}),wd="TooltipContent",VL=C.forwardRef((t,e)=>{const n=bJ(wd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=pb(wd,t.__scopeTooltip);return o.jsx(Lc,{present:r||a.open,children:a.disableHoverableContent?o.jsx(BL,{side:i,...s,ref:e}):o.jsx(wJ,{side:i,...s,ref:e})})}),wJ=C.forwardRef((t,e)=>{const n=pb(wd,t.__scopeTooltip),r=$L(wd,t.__scopeTooltip),i=C.useRef(null),s=yr(e,i),[a,l]=C.useState(null),{trigger:c,onClose:u}=n,h=i.current,{onPointerInTransitChange:d}=r,f=C.useCallback(()=>{l(null),d(!1)},[d]),m=C.useCallback((g,v)=>{const y=g.currentTarget,x={x:g.clientX,y:g.clientY},b=jJ(x,y.getBoundingClientRect()),w=EJ(x,b),N=CJ(v.getBoundingClientRect()),S=TJ([...w,...N]);l(S),d(!0)},[d]);return C.useEffect(()=>()=>f(),[f]),C.useEffect(()=>{if(c&&h){const g=y=>m(y,h),v=y=>m(y,c);return c.addEventListener("pointerleave",g),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),h.removeEventListener("pointerleave",v)}}},[c,h,m,f]),C.useEffect(()=>{if(a){const g=v=>{const y=v.target,x={x:v.clientX,y:v.clientY},b=(c==null?void 0:c.contains(y))||(h==null?void 0:h.contains(y)),w=!AJ(x,a);b?f():w&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,h,a,u,f]),o.jsx(BL,{...t,ref:s})}),[_J,SJ]=mb(FL,{isInside:!1}),BL=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=t,c=pb(wd,n),u=O2(n),{onClose:h}=c;return C.useEffect(()=>(document.addEventListener(lI,h),()=>document.removeEventListener(lI,h)),[h]),C.useEffect(()=>{if(c.trigger){const d=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,h]),o.jsx(ib,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:o.jsxs(mJ,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(k$,{children:r}),o.jsx(_J,{scope:n,isInside:!0,children:o.jsx(QK,{id:c.contentId,role:"tooltip",children:i||r})})]})})});VL.displayName=wd;var UL="TooltipArrow",NJ=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=O2(n);return SJ(UL,n).isInside?null:o.jsx(pJ,{...i,...r,ref:e})});NJ.displayName=UL;function jJ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function EJ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function CJ(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function AJ(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s].x,c=e[s].y,u=e[a].x,h=e[a].y;c>r!=h>r&&n<(u-l)*(r-c)/(h-c)+l&&(i=!i)}return i}function TJ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),kJ(e)}function kJ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var PJ=LL,zL=VL;const IJ=PJ,OJ=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(zL,{ref:r,sideOffset:e,className:vt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));OJ.displayName=zL.displayName;var gb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yb=typeof window>"u"||"Deno"in globalThis;function Gi(){}function RJ(t,e){return typeof t=="function"?t(e):t}function MJ(t){return typeof t=="number"&&t>=0&&t!==1/0}function DJ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function cI(t,e){return typeof t=="function"?t(e):t}function $J(t,e){return typeof t=="function"?t(e):t}function uI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==R2(a,e.options))return!1}else if(!Km(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function dI(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(qm(e.options.mutationKey)!==qm(s))return!1}else if(!Km(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function R2(t,e){return((e==null?void 0:e.queryKeyHashFn)||qm)(t)}function qm(t){return JSON.stringify(t,(e,n)=>nN(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Km(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Km(t[n],e[n])):!1}function WL(t,e){if(t===e)return t;const n=hI(t)&&hI(e);if(n||nN(t)&&nN(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,l=n?[]:{};let c=0;for(let u=0;u<a;u++){const h=n?u:s[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,c++):(l[h]=WL(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&c++)}return i===a&&c===i?t:l}return e}function hI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nN(t){if(!fI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!fI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fI(t){return Object.prototype.toString.call(t)==="[object Object]"}function LJ(t){return new Promise(e=>{setTimeout(e,t)})}function FJ(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?WL(t,e):e}function VJ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function BJ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var M2=Symbol();function HL(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===M2?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ic,jo,Ju,a6,UJ=(a6=class extends gb{constructor(){super();wt(this,ic);wt(this,jo);wt(this,Ju);Ze(this,Ju,e=>{if(!yb&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){oe(this,jo)||this.setEventListener(oe(this,Ju))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,jo))==null||e.call(this),Ze(this,jo,void 0))}setEventListener(e){var n;Ze(this,Ju,e),(n=oe(this,jo))==null||n.call(this),Ze(this,jo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){oe(this,ic)!==e&&(Ze(this,ic,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof oe(this,ic)=="boolean"?oe(this,ic):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ic=new WeakMap,jo=new WeakMap,Ju=new WeakMap,a6),GL=new UJ,Zu,Eo,ed,o6,zJ=(o6=class extends gb{constructor(){super();wt(this,Zu,!0);wt(this,Eo);wt(this,ed);Ze(this,ed,e=>{if(!yb&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){oe(this,Eo)||this.setEventListener(oe(this,ed))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,Eo))==null||e.call(this),Ze(this,Eo,void 0))}setEventListener(e){var n;Ze(this,ed,e),(n=oe(this,Eo))==null||n.call(this),Ze(this,Eo,e(this.setOnline.bind(this)))}setOnline(e){oe(this,Zu)!==e&&(Ze(this,Zu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return oe(this,Zu)}},Zu=new WeakMap,Eo=new WeakMap,ed=new WeakMap,o6),nv=new zJ;function WJ(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function HJ(t){return Math.min(1e3*2**t,3e4)}function qL(t){return(t??"online")==="online"?nv.isOnline():!0}var KL=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function H1(t){return t instanceof KL}function YL(t){let e=!1,n=0,r=!1,i;const s=WJ(),a=v=>{var y;r||(f(new KL(v)),(y=t.abort)==null||y.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>GL.isFocused()&&(t.networkMode==="always"||nv.isOnline())&&t.canRun(),h=()=>qL(t.networkMode)&&t.canRun(),d=v=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,v),i==null||i(),s.resolve(v))},f=v=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,v),i==null||i(),s.reject(v))},m=()=>new Promise(v=>{var y;i=x=>{(r||u())&&v(x)},(y=t.onPause)==null||y.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(r)return;let v;const y=n===0?t.initialPromise:void 0;try{v=y??t.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(d).catch(x=>{var P;if(r)return;const b=t.retry??(yb?0:3),w=t.retryDelay??HJ,N=typeof w=="function"?w(n,x):w,S=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(e||!S){f(x);return}n++,(P=t.onFail)==null||P.call(t,n,x),LJ(N).then(()=>u()?void 0:m()).then(()=>{e?f(x):g()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?g():m().then(g),s)}}function GJ(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Er=GJ(),sc,l6,QL=(l6=class{constructor(){wt(this,sc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MJ(this.gcTime)&&Ze(this,sc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yb?1/0:5*60*1e3))}clearGcTimeout(){oe(this,sc)&&(clearTimeout(oe(this,sc)),Ze(this,sc,void 0))}},sc=new WeakMap,l6),td,nd,Si,ar,Gp,ac,Ki,ra,c6,qJ=(c6=class extends QL{constructor(n){super();wt(this,Ki);wt(this,td);wt(this,nd);wt(this,Si);wt(this,ar);wt(this,Gp);wt(this,ac);Ze(this,ac,!1),Ze(this,Gp,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ze(this,Si,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ze(this,td,YJ(this.options)),this.state=n.state??oe(this,td),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=oe(this,ar))==null?void 0:n.promise}setOptions(n){this.options={...oe(this,Gp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,Si).remove(this)}setData(n,r){const i=FJ(this.state.data,n,this.options);return tr(this,Ki,ra).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){tr(this,Ki,ra).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=oe(this,ar))==null?void 0:i.promise;return(s=oe(this,ar))==null||s.cancel(n),r?r.then(Gi).catch(Gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,td))}isActive(){return this.observers.some(n=>$J(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===M2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!DJ(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=oe(this,ar))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=oe(this,ar))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),oe(this,Si).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(oe(this,ar)&&(oe(this,ac)?oe(this,ar).cancel({revert:!0}):oe(this,ar).cancelRetry()),this.scheduleGc()),oe(this,Si).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tr(this,Ki,ra).call(this,{type:"invalidate"})}fetch(n,r){var u,h,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(oe(this,ar))return oe(this,ar).continueRetry(),oe(this,ar).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ze(this,ac,!0),i.signal)})},a=()=>{const f=HL(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),Ze(this,ac,!1),this.options.persister?this.options.persister(f,m,this):f(m)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(l),(u=this.options.behavior)==null||u.onFetch(l,this),Ze(this,nd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&tr(this,Ki,ra).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=f=>{var m,g,v,y;H1(f)&&f.silent||tr(this,Ki,ra).call(this,{type:"error",error:f}),H1(f)||((g=(m=oe(this,Si).config).onError)==null||g.call(m,f,this),(y=(v=oe(this,Si).config).onSettled)==null||y.call(v,this.state.data,f,this)),this.scheduleGc()};return Ze(this,ar,YL({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var m,g,v,y;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){c(x);return}(g=(m=oe(this,Si).config).onSuccess)==null||g.call(m,f,this),(y=(v=oe(this,Si).config).onSettled)==null||y.call(v,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,m)=>{tr(this,Ki,ra).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{tr(this,Ki,ra).call(this,{type:"pause"})},onContinue:()=>{tr(this,Ki,ra).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),oe(this,ar).start()}},td=new WeakMap,nd=new WeakMap,Si=new WeakMap,ar=new WeakMap,Gp=new WeakMap,ac=new WeakMap,Ki=new WeakSet,ra=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...KJ(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return H1(s)&&s.revert&&oe(this,nd)?{...oe(this,nd),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Er.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),oe(this,Si).notify({query:this,type:"updated",action:n})})},c6);function KJ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qL(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function YJ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ns,u6,QJ=(u6=class extends gb{constructor(e={}){super();wt(this,Ns);this.config=e,Ze(this,Ns,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??R2(i,n);let a=this.get(s);return a||(a=new qJ({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){oe(this,Ns).has(e.queryHash)||(oe(this,Ns).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=oe(this,Ns).get(e.queryHash);n&&(e.destroy(),n===e&&oe(this,Ns).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return oe(this,Ns).get(e)}getAll(){return[...oe(this,Ns).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>uI(e,r)):n}notify(e){Er.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Er.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Er.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ns=new WeakMap,u6),js,_r,oc,Es,ho,d6,XJ=(d6=class extends QL{constructor(n){super();wt(this,Es);wt(this,js);wt(this,_r);wt(this,oc);this.mutationId=n.mutationId,Ze(this,_r,n.mutationCache),Ze(this,js,[]),this.state=n.state||JJ(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){oe(this,js).includes(n)||(oe(this,js).push(n),this.clearGcTimeout(),oe(this,_r).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ze(this,js,oe(this,js).filter(r=>r!==n)),this.scheduleGc(),oe(this,_r).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){oe(this,js).length||(this.state.status==="pending"?this.scheduleGc():oe(this,_r).remove(this))}continue(){var n;return((n=oe(this,oc))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,a,l,c,u,h,d,f,m,g,v,y,x,b,w,N,S,P,j,_;Ze(this,oc,YL({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{tr(this,Es,ho).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{tr(this,Es,ho).call(this,{type:"pause"})},onContinue:()=>{tr(this,Es,ho).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,_r).canRun(this)}));const r=this.state.status==="pending",i=!oe(this,oc).canStart();try{if(!r){tr(this,Es,ho).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(s=oe(this,_r).config).onMutate)==null?void 0:a.call(s,n,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));E!==this.state.context&&tr(this,Es,ho).call(this,{type:"pending",context:E,variables:n,isPaused:i})}const k=await oe(this,oc).start();return await((h=(u=oe(this,_r).config).onSuccess)==null?void 0:h.call(u,k,n,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,n,this.state.context)),await((g=(m=oe(this,_r).config).onSettled)==null?void 0:g.call(m,k,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,k,null,n,this.state.context)),tr(this,Es,ho).call(this,{type:"success",data:k}),k}catch(k){try{throw await((b=(x=oe(this,_r).config).onError)==null?void 0:b.call(x,k,n,this.state.context,this)),await((N=(w=this.options).onError)==null?void 0:N.call(w,k,n,this.state.context)),await((P=(S=oe(this,_r).config).onSettled)==null?void 0:P.call(S,void 0,k,this.state.variables,this.state.context,this)),await((_=(j=this.options).onSettled)==null?void 0:_.call(j,void 0,k,n,this.state.context)),k}finally{tr(this,Es,ho).call(this,{type:"error",error:k})}}finally{oe(this,_r).runNext(this)}}},js=new WeakMap,_r=new WeakMap,oc=new WeakMap,Es=new WeakSet,ho=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Er.batch(()=>{oe(this,js).forEach(i=>{i.onMutationUpdate(n)}),oe(this,_r).notify({mutation:this,type:"updated",action:n})})},d6);function JJ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ii,qp,h6,ZJ=(h6=class extends gb{constructor(e={}){super();wt(this,ii);wt(this,qp);this.config=e,Ze(this,ii,new Map),Ze(this,qp,Date.now())}build(e,n,r){const i=new XJ({mutationCache:this,mutationId:++Qg(this,qp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=xy(e),r=oe(this,ii).get(n)??[];r.push(e),oe(this,ii).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=xy(e);if(oe(this,ii).has(n)){const i=(r=oe(this,ii).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?oe(this,ii).delete(n):oe(this,ii).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=oe(this,ii).get(xy(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=oe(this,ii).get(xy(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...oe(this,ii).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dI(n,r))}findAll(e={}){return this.getAll().filter(n=>dI(e,n))}notify(e){Er.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Er.batch(()=>Promise.all(e.map(n=>n.continue().catch(Gi))))}},ii=new WeakMap,qp=new WeakMap,h6);function xy(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function mI(t){return{onFetch:(e,n)=>{var h,d,f,m,g;const r=e.options,i=(f=(d=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},x=HL(e.options,e.fetchOptions),b=async(w,N,S)=>{if(v)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const P={queryKey:e.queryKey,pageParam:N,direction:S?"backward":"forward",meta:e.options.meta};y(P);const j=await x(P),{maxPages:_}=e.options,k=S?BJ:VJ;return{pages:k(w.pages,j,_),pageParams:k(w.pageParams,N,_)}};if(i&&s.length){const w=i==="backward",N=w?eZ:pI,S={pages:s,pageParams:a},P=N(r,S);l=await b(S,P,w)}else{const w=t??s.length;do{const N=c===0?a[0]??r.initialPageParam:pI(r,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var v,y;return(y=(v=e.options).persister)==null?void 0:y.call(v,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function pI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function eZ(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var on,Co,Ao,rd,id,To,sd,ad,f6,tZ=(f6=class{constructor(t={}){wt(this,on);wt(this,Co);wt(this,Ao);wt(this,rd);wt(this,id);wt(this,To);wt(this,sd);wt(this,ad);Ze(this,on,t.queryCache||new QJ),Ze(this,Co,t.mutationCache||new ZJ),Ze(this,Ao,t.defaultOptions||{}),Ze(this,rd,new Map),Ze(this,id,new Map),Ze(this,To,0)}mount(){Qg(this,To)._++,oe(this,To)===1&&(Ze(this,sd,GL.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,on).onFocus())})),Ze(this,ad,nv.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,on).onOnline())})))}unmount(){var t,e;Qg(this,To)._--,oe(this,To)===0&&((t=oe(this,sd))==null||t.call(this),Ze(this,sd,void 0),(e=oe(this,ad))==null||e.call(this),Ze(this,ad,void 0))}isFetching(t){return oe(this,on).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return oe(this,Co).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=oe(this,on).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=oe(this,on).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(cI(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return oe(this,on).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=oe(this,on).get(r.queryHash),s=i==null?void 0:i.state.data,a=RJ(e,s);if(a!==void 0)return oe(this,on).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Er.batch(()=>oe(this,on).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=oe(this,on).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=oe(this,on);Er.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=oe(this,on),r={type:"active",...t};return Er.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Er.batch(()=>oe(this,on).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Gi).catch(Gi)}invalidateQueries(t={},e={}){return Er.batch(()=>{if(oe(this,on).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Er.batch(()=>oe(this,on).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Gi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Gi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=oe(this,on).build(this,e);return n.isStaleByTime(cI(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gi).catch(Gi)}fetchInfiniteQuery(t){return t.behavior=mI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gi).catch(Gi)}ensureInfiniteQueryData(t){return t.behavior=mI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return nv.isOnline()?oe(this,Co).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,on)}getMutationCache(){return oe(this,Co)}getDefaultOptions(){return oe(this,Ao)}setDefaultOptions(t){Ze(this,Ao,t)}setQueryDefaults(t,e){oe(this,rd).set(qm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...oe(this,rd).values()];let n={};return e.forEach(r=>{Km(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){oe(this,id).set(qm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...oe(this,id).values()];let n={};return e.forEach(r=>{Km(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...oe(this,Ao).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=R2(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===M2&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...oe(this,Ao).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){oe(this,on).clear(),oe(this,Co).clear()}},on=new WeakMap,Co=new WeakMap,Ao=new WeakMap,rd=new WeakMap,id=new WeakMap,To=new WeakMap,sd=new WeakMap,ad=new WeakMap,f6),nZ=C.createContext(void 0),rZ=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(nZ.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ym(){return Ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ym.apply(this,arguments)}var Io;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Io||(Io={}));const gI="popstate";function iZ(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return rN("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:JL(i)}return aZ(e,n,null,t)}function kn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XL(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sZ(){return Math.random().toString(36).substr(2,8)}function yI(t,e){return{usr:t.state,key:t.key,idx:e}}function rN(t,e,n,r){return n===void 0&&(n=null),Ym({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vh(e):e,{state:n,key:e&&e.key||r||sZ()})}function JL(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aZ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Io.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(Ym({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function d(){l=Io.Pop;let y=h(),x=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:x})}function f(y,x){l=Io.Push;let b=rN(v.location,y,x);u=h()+1;let w=yI(b,u),N=v.createHref(b);try{a.pushState(w,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(N)}s&&c&&c({action:l,location:v.location,delta:1})}function m(y,x){l=Io.Replace;let b=rN(v.location,y,x);u=h();let w=yI(b,u),N=v.createHref(b);a.replaceState(w,"",N),s&&c&&c({action:l,location:v.location,delta:0})}function g(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:JL(y);return b=b.replace(/ $/,"%20"),kn(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let v={get action(){return l},get location(){return t(i,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(gI,d),c=y,()=>{i.removeEventListener(gI,d),c=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(y){return a.go(y)}};return v}var vI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vI||(vI={}));function oZ(t,e,n){return n===void 0&&(n="/"),lZ(t,e,n,!1)}function lZ(t,e,n,r){let i=typeof e=="string"?vh(e):e,s=t8(i.pathname||"/",n);if(s==null)return null;let a=ZL(t);cZ(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=bZ(s);l=vZ(a[c],u,r)}return l}function ZL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(kn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=uc([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(kn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ZL(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:gZ(u,s.index),routesMeta:h})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of e8(s.path))i(s,a,c)}),e}function e8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=e8(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function cZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uZ=/^:[\w-]+$/,dZ=3,hZ=2,fZ=1,mZ=10,pZ=-2,xI=t=>t==="*";function gZ(t,e){let n=t.split("/"),r=n.length;return n.some(xI)&&(r+=pZ),e&&(r+=hZ),n.filter(i=>!xI(i)).reduce((i,s)=>i+(uZ.test(s)?dZ:s===""?fZ:mZ),r)}function yZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vZ(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=bI({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=bI({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:uc([s,d.pathname]),pathnameBase:EZ(uc([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=uc([s,d.pathnameBase]))}return a}function bI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,h,d)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let v=l[d]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[d];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function xZ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),XL(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XL(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function t8(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wZ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vh(t):t;return{pathname:n?n.startsWith("/")?n:_Z(n,e):e,search:CZ(r),hash:AZ(i)}}function _Z(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function G1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NZ(t,e){let n=SZ(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jZ(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vh(t):(i=Ym({},t),kn(!i.pathname||!i.pathname.includes("?"),G1("?","pathname","search",i)),kn(!i.pathname||!i.pathname.includes("#"),G1("#","pathname","hash",i)),kn(!i.search||!i.search.includes("#"),G1("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?e[d]:"/"}let c=wZ(i,l),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const uc=t=>t.join("/").replace(/\/\/+/g,"/"),EZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const n8=["post","put","patch","delete"];new Set(n8);const kZ=["get",...n8];new Set(kZ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}const D2=C.createContext(null),PZ=C.createContext(null),vb=C.createContext(null),xb=C.createContext(null),xh=C.createContext({outlet:null,matches:[],isDataRoute:!1}),r8=C.createContext(null);function bb(){return C.useContext(xb)!=null}function ig(){return bb()||kn(!1),C.useContext(xb).location}function i8(t){C.useContext(vb).static||C.useLayoutEffect(t)}function $2(){let{isDataRoute:t}=C.useContext(xh);return t?WZ():IZ()}function IZ(){bb()||kn(!1);let t=C.useContext(D2),{basename:e,future:n,navigator:r}=C.useContext(vb),{matches:i}=C.useContext(xh),{pathname:s}=ig(),a=JSON.stringify(NZ(i,n.v7_relativeSplatPath)),l=C.useRef(!1);return i8(()=>{l.current=!0}),C.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=jZ(u,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:uc([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,a,s,t])}function OZ(t,e){return RZ(t,e)}function RZ(t,e,n,r){bb()||kn(!1);let{navigator:i}=C.useContext(vb),{matches:s}=C.useContext(xh),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ig(),h;if(e){var d;let y=typeof e=="string"?vh(e):e;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||kn(!1),h=y}else h=u;let f=h.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=oZ(t,{pathname:m}),v=FZ(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:uc([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:uc([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&v?C.createElement(xb.Provider,{value:{location:Qm({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Io.Pop}},v):v}function MZ(){let t=zZ(),e=TZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const DZ=C.createElement(MZ,null);class $Z extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(xh.Provider,{value:this.props.routeContext},C.createElement(r8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LZ(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(D2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(xh.Provider,{value:e},r)}function FZ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||kn(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:m}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,d,f)=>{let m,g=!1,v=null,y=null;n&&(m=l&&d.route.id?l[d.route.id]:void 0,v=d.route.errorElement||DZ,c&&(u<0&&f===0?(g=!0,y=null):u===f&&(g=!0,y=d.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,f+1)),b=()=>{let w;return m?w=v:g?w=y:d.route.Component?w=C.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,C.createElement(LZ,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?C.createElement($Z,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var s8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(s8||{}),rv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rv||{});function VZ(t){let e=C.useContext(D2);return e||kn(!1),e}function BZ(t){let e=C.useContext(PZ);return e||kn(!1),e}function UZ(t){let e=C.useContext(xh);return e||kn(!1),e}function a8(t){let e=UZ(),n=e.matches[e.matches.length-1];return n.route.id||kn(!1),n.route.id}function zZ(){var t;let e=C.useContext(r8),n=BZ(rv.UseRouteError),r=a8(rv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function WZ(){let{router:t}=VZ(s8.UseNavigateStable),e=a8(rv.UseNavigateStable),n=C.useRef(!1);return i8(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qm({fromRouteId:e},s)))},[t,e])}function fo(t){kn(!1)}function HZ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Io.Pop,navigator:s,static:a=!1,future:l}=t;bb()&&kn(!1);let c=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:s,static:a,future:Qm({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=vh(r));let{pathname:h="/",search:d="",hash:f="",state:m=null,key:g="default"}=r,v=C.useMemo(()=>{let y=t8(h,c);return y==null?null:{location:{pathname:y,search:d,hash:f,state:m,key:g},navigationType:i}},[c,h,d,f,m,g,i]);return v==null?null:C.createElement(vb.Provider,{value:u},C.createElement(xb.Provider,{children:n,value:v}))}function GZ(t){let{children:e,location:n}=t;return OZ(iN(e),n)}new Promise(()=>{});function iN(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,iN(r.props.children,s));return}r.type!==fo&&kn(!1),!r.props.index||!r.props.children||kn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=iN(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const qZ="6";try{window.__reactRouterVersion=qZ}catch{}const KZ="startTransition",wI=N6[KZ];function YZ(t){let{basename:e,children:n,future:r,window:i}=t,s=C.useRef();s.current==null&&(s.current=iZ({window:i,v5Compat:!0}));let a=s.current,[l,c]=C.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=C.useCallback(d=>{u&&wI?wI(()=>c(d)):c(d)},[c,u]);return C.useLayoutEffect(()=>a.listen(h),[a,h]),C.createElement(HZ,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var _I;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_I||(_I={}));var SI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SI||(SI={}));const o8=C.createContext(void 0);function QZ({children:t}){const[e,n]=C.useState(()=>localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));C.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return o.jsx(o8.Provider,{value:{theme:e,toggleTheme:r},children:t})}function XZ(){const t=C.useContext(o8);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const JZ=()=>{};var NI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e=function(t,e){if(!t)throw bh(e)},bh=function(t){return new Error("Firebase Database ("+l8.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZZ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},L2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;c||(m=64,a||(f=64)),r.push(n[h],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZZ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new eee;const f=s<<2|l>>4;if(r.push(f),u!==64){const m=l<<4&240|u>>2;if(r.push(m),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u8=function(t){const e=c8(t);return L2.encodeByteArray(e,!0)},iv=function(t){return u8(t).replace(/\./g,"")},sv=function(t){try{return L2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(t){return d8(void 0,t)}function d8(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!nee(n)||(t[n]=d8(t[n],e[n]));return t}function nee(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ree(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee=()=>ree().__FIREBASE_DEFAULTS__,see=()=>{if(typeof process>"u"||typeof NI>"u")return;const t=NI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aee=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sv(t[1]);return e&&JSON.parse(e)},wb=()=>{try{return JZ()||iee()||see()||aee()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h8=t=>{var e,n;return(n=(e=wb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},f8=t=>{const e=h8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},m8=()=>{var t;return(t=wb())===null||t===void 0?void 0:t.config},p8=t=>{var e;return(e=wb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){return t.endsWith(".cloudworkstations.dev")}async function F2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[iv(JSON.stringify(n)),iv(JSON.stringify(a)),""].join(".")}const sm={};function oee(){const t={prod:[],emulator:[]};for(const e of Object.keys(sm))sm[e]?t.emulator.push(e):t.prod.push(e);return t}function lee(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jI=!1;function V2(t,e){if(typeof window>"u"||typeof document>"u"||!bl(window.location.host)||sm[t]===e||sm[t]||jI)return;sm[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=oee().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{jI=!0,a()},f}function h(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=lee(r),m=n("text"),g=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),y=document.getElementById(v)||document.createElement("a"),x=n("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;l(w),h(y,v);const N=u();c(b,x),w.append(b,g,y,N),document.body.appendChild(w)}s?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xr())}function cee(){var t;const e=(t=wb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uee(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dee(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hee(){const t=xr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v8(){return l8.NODE_ADMIN===!0}function fee(){return!cee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mee(){try{return typeof indexedDB=="object"}catch{return!1}}function pee(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gee="FirebaseError";class Ha extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gee,Object.setPrototypeOf(this,Ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sg.prototype.create)}}class sg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?yee(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Ha(i,l,r)}}function yee(t,e){return t.replace(vee,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vee=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t){return JSON.parse(t)}function Gn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Xm(sv(s[0])||""),n=Xm(sv(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},xee=function(t){const e=x8(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},bee=function(t){const e=x8(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _d(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function sN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function av(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(EI(s)&&EI(a)){if(!Ws(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,h;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(a^l),h=1518500249):(u=s^a^l,h=1859775393):d<60?(u=s&a|l&(s|a),h=2400959708):(u=s^a^l,h=3395469782);const f=(i<<5|i>>>27)+u+c+h+r[d]&4294967295;c=l,l=a,a=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function _ee(t,e){const n=new See(t,e);return n.subscribe.bind(n)}class See{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Nee(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=q1),i.error===void 0&&(i.error=q1),i.complete===void 0&&(i.complete=q1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nee(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function q1(){}function U2(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,_e(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sb=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class ll{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _b;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Aee(e))try{this.getOrInitializeService({instanceIdentifier:Fl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fl){return this.instances.has(e)}getOptions(e=Fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Cee(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fl){return this.component?this.component.multipleInstances?e:Fl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cee(t){return t===Fl?void 0:t}function Aee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Eee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const kee={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},Pee=rt.INFO,Iee={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},Oee=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Iee[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nb{constructor(e){this.name=e,this._logLevel=Pee,this._logHandler=Oee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const Ree=(t,e)=>e.some(n=>t instanceof n);let CI,AI;function Mee(){return CI||(CI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dee(){return AI||(AI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b8=new WeakMap,aN=new WeakMap,w8=new WeakMap,K1=new WeakMap,z2=new WeakMap;function $ee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ko(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&b8.set(n,t)}).catch(()=>{}),z2.set(e,t),e}function Lee(t){if(aN.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});aN.set(t,e)}let oN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return aN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||w8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Fee(t){oN=t(oN)}function Vee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Y1(this),e,...n);return w8.set(r,e.sort?e.sort():[e]),Ko(r)}:Dee().includes(t)?function(...e){return t.apply(Y1(this),e),Ko(b8.get(this))}:function(...e){return Ko(t.apply(Y1(this),e))}}function Bee(t){return typeof t=="function"?Vee(t):(t instanceof IDBTransaction&&Lee(t),Ree(t,Mee())?new Proxy(t,oN):t)}function Ko(t){if(t instanceof IDBRequest)return $ee(t);if(K1.has(t))return K1.get(t);const e=Bee(t);return e!==t&&(K1.set(t,e),z2.set(e,t)),e}const Y1=t=>z2.get(t);function Uee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Ko(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ko(a.result),c.oldVersion,c.newVersion,Ko(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const zee=["get","getKey","getAll","getAllKeys","count"],Wee=["put","add","delete","clear"],Q1=new Map;function TI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Q1.get(e))return Q1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Wee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zee.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return Q1.set(e,s),s}Fee(t=>({...t,get:(e,n,r)=>TI(e,n)||t.get(e,n,r),has:(e,n)=>!!TI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gee(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Gee(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lN="@firebase/app",kI="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Nb("@firebase/app"),qee="@firebase/app-compat",Kee="@firebase/analytics-compat",Yee="@firebase/analytics",Qee="@firebase/app-check-compat",Xee="@firebase/app-check",Jee="@firebase/auth",Zee="@firebase/auth-compat",ete="@firebase/database",tte="@firebase/data-connect",nte="@firebase/database-compat",rte="@firebase/functions",ite="@firebase/functions-compat",ste="@firebase/installations",ate="@firebase/installations-compat",ote="@firebase/messaging",lte="@firebase/messaging-compat",cte="@firebase/performance",ute="@firebase/performance-compat",dte="@firebase/remote-config",hte="@firebase/remote-config-compat",fte="@firebase/storage",mte="@firebase/storage-compat",pte="@firebase/firestore",gte="@firebase/ai",yte="@firebase/firestore-compat",vte="firebase",xte="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="[DEFAULT]",bte={[lN]:"fire-core",[qee]:"fire-core-compat",[Yee]:"fire-analytics",[Kee]:"fire-analytics-compat",[Xee]:"fire-app-check",[Qee]:"fire-app-check-compat",[Jee]:"fire-auth",[Zee]:"fire-auth-compat",[ete]:"fire-rtdb",[tte]:"fire-data-connect",[nte]:"fire-rtdb-compat",[rte]:"fire-fn",[ite]:"fire-fn-compat",[ste]:"fire-iid",[ate]:"fire-iid-compat",[ote]:"fire-fcm",[lte]:"fire-fcm-compat",[cte]:"fire-perf",[ute]:"fire-perf-compat",[dte]:"fire-rc",[hte]:"fire-rc-compat",[fte]:"fire-gcs",[mte]:"fire-gcs-compat",[pte]:"fire-fst",[yte]:"fire-fst-compat",[gte]:"fire-vertex","fire-js":"fire-js",[vte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map,wte=new Map,uN=new Map;function PI(t,e){try{t.container.addComponent(e)}catch(n){Oa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bc(t){const e=t.name;if(uN.has(e))return Oa.debug(`There were multiple attempts to register component ${e}.`),!1;uN.set(e,t);for(const n of ov.values())PI(n,t);for(const n of wte.values())PI(n,t);return!0}function jb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _te={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new sg("app","Firebase",_te);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=xte;function _8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cN,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Yo.create("bad-app-name",{appName:String(i)});if(n||(n=m8()),!n)throw Yo.create("no-options");const s=ov.get(i);if(s){if(Ws(n,s.options)&&Ws(r,s.config))return s;throw Yo.create("duplicate-app",{appName:i})}const a=new Tee(i);for(const c of uN.values())a.addComponent(c);const l=new Ste(n,r,a);return ov.set(i,l),l}function W2(t=cN){const e=ov.get(t);if(!e&&t===cN&&m8())return _8();if(!e)throw Yo.create("no-app",{appName:t});return e}function Ms(t,e,n){var r;let i=(r=bte[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oa.warn(l.join(" "));return}bc(new ll(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte="firebase-heartbeat-database",jte=1,Jm="firebase-heartbeat-store";let X1=null;function S8(){return X1||(X1=Uee(Nte,jte,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),X1}async function Ete(t){try{const n=(await S8()).transaction(Jm),r=await n.objectStore(Jm).get(N8(t));return await n.done,r}catch(e){if(e instanceof Ha)Oa.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oa.warn(n.message)}}}async function II(t,e){try{const r=(await S8()).transaction(Jm,"readwrite");await r.objectStore(Jm).put(e,N8(t)),await r.done}catch(n){if(n instanceof Ha)Oa.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Oa.warn(r.message)}}}function N8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cte=1024,Ate=30;class Tte{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Pte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=OI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Ate){const a=Ite(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Oa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=OI(),{heartbeatsToSend:r,unsentEntries:i}=kte(this._heartbeatsCache.heartbeats),s=iv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Oa.warn(n),""}}}function OI(){return new Date().toISOString().substring(0,10)}function kte(t,e=Cte){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),RI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Pte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mee()?pee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ete(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return II(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return II(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function RI(t){return iv(JSON.stringify({version:2,heartbeats:t})).length}function Ite(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ote(t){bc(new ll("platform-logger",e=>new Hee(e),"PRIVATE")),bc(new ll("heartbeat",e=>new Tte(e),"PRIVATE")),Ms(lN,kI,t),Ms(lN,kI,"esm2017"),Ms("fire-js","")}Ote("");var Ts=function(){return Ts=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ts.apply(this,arguments)};function ag(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Rte(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function j8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mte=j8,E8=new sg("auth","Firebase",j8());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=new Nb("@firebase/auth");function Dte(t,...e){lv.logLevel<=rt.WARN&&lv.warn(`Auth (${Fc}): ${t}`,...e)}function u0(t,...e){lv.logLevel<=rt.ERROR&&lv.error(`Auth (${Fc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,...e){throw G2(t,...e)}function cs(t,...e){return G2(t,...e)}function H2(t,e,n){const r=Object.assign(Object.assign({},Mte()),{[e]:n});return new sg("auth","Firebase",r).create(e,{appName:t.name})}function wa(t){return H2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $te(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Mi(t,"argument-error"),H2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function G2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return E8.create(t,...e)}function Ue(t,e,...n){if(!t)throw G2(e,...n)}function ma(t){const e="INTERNAL ASSERTION FAILED: "+t;throw u0(e),new Error(e)}function Ra(t,e){t||ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Lte(){return MI()==="http:"||MI()==="https:"}function MI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lte()||dee()||"connection"in navigator)?navigator.onLine:!0}function Vte(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ra(n>e,"Short delay should be less than long delay!"),this.isMobile=B2()||y8()}get(){return Fte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t,e){Ra(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ute=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zte=new og(3e4,6e4);function wl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qa(t,e,n,r,i={}){return A8(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=wh(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return uee()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&bl(t.emulatorConfig.host)&&(u.credentials="include"),C8.fetch()(await T8(t,t.config.apiHost,n,l),u)})}async function A8(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Bte),e);try{const i=new Hte(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw by(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw by(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw by(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw by(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw H2(t,h,u);Mi(t,h)}}catch(i){if(i instanceof Ha)throw i;Mi(t,"network-request-failed",{message:String(i)})}}async function lg(t,e,n,r,i={}){const s=await qa(t,e,n,r,i);return"mfaPendingCredential"in s&&Mi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function T8(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?q2(t.config,i):`${t.config.apiScheme}://${i}`;return Ute.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Wte(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hte{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cs(this.auth,"network-request-failed")),zte.get())})}}function by(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cs(t,e,r);return i.customData._tokenResponse=n,i}function DI(t){return t!==void 0&&t.enterprise!==void 0}class Gte{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Wte(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qte(t,e){return qa(t,"GET","/v2/recaptchaConfig",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kte(t,e){return qa(t,"POST","/v1/accounts:delete",e)}async function cv(t,e){return qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Yte(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=K2(r);Ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:am(J1(i.auth_time)),issuedAtTime:am(J1(i.iat)),expirationTime:am(J1(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function J1(t){return Number(t)*1e3}function K2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return u0("JWT malformed, contained fewer than 3 sections"),null;try{const i=sv(n);return i?JSON.parse(i):(u0("Failed to decode base64 JWT payload"),null)}catch(i){return u0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $I(t){const e=K2(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ha&&Qte(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Qte({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=am(this.lastLoginAt),this.creationTime=am(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uv(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Sd(t,cv(n,{idToken:r}));Ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?k8(s.providerUserInfo):[],l=Zte(t.providerData,a),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new hN(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function Jte(t){const e=Ot(t);await uv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function k8(t){return t.map(e=>{var{providerId:n}=e,r=ag(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ene(t,e){const n=await A8(t,{},async()=>{const r=wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await T8(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&bl(t.emulatorConfig.host)&&(c.credentials="include"),C8.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tne(t,e){return qa(t,"POST","/v2/accounts:revokeToken",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$I(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=$I(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ene(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Bu;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ue(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Sd(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Yte(this,e)}reload(){return Jte(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await Sd(this,Kte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,c,u,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:N,isAnonymous:S,providerData:P,stsTokenManager:j}=n;Ue(w&&j,e,"internal-error");const _=Bu.fromJSON(this.name,j);Ue(typeof w=="string",e,"internal-error"),uo(d,e.name),uo(f,e.name),Ue(typeof N=="boolean",e,"internal-error"),Ue(typeof S=="boolean",e,"internal-error"),uo(m,e.name),uo(g,e.name),uo(v,e.name),uo(y,e.name),uo(x,e.name),uo(b,e.name);const k=new rs({uid:w,auth:e,email:f,emailVerified:N,displayName:d,isAnonymous:S,photoURL:g,phoneNumber:m,tenantId:v,stsTokenManager:_,createdAt:x,lastLoginAt:b});return P&&Array.isArray(P)&&(k.providerData=P.map(E=>Object.assign({},E))),y&&(k._redirectEventId=y),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Bu;i.updateFromServerResponse(n);const s=new rs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uv(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ue(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?k8(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Bu;l.updateFromIdToken(r);const c=new rs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hN(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new Map;function pa(t){Ra(t instanceof Function,"Expected a class definition");let e=LI.get(t);return e?(Ra(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P8.type="NONE";const FI=P8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t,e,n){return`firebase:${t}:${e}:${n}`}class Uu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=d0(this.userKey,i.apiKey,s),this.fullPersistenceKey=d0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cv(this.auth,{idToken:e}).catch(()=>{});return n?rs._fromGetAccountInfoResponse(this.auth,n,e):null}return rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uu(pa(FI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||pa(FI);const a=d0(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(a);if(h){let d;if(typeof h=="string"){const f=await cv(e,{idToken:h}).catch(()=>{});if(!f)break;d=await rs._fromGetAccountInfoResponse(e,f,h)}else d=rs._fromJSON(e,h);u!==s&&(l=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Uu(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Uu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($8(e))return"Blackberry";if(L8(e))return"Webos";if(O8(e))return"Safari";if((e.includes("chrome/")||R8(e))&&!e.includes("edge/"))return"Chrome";if(D8(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function I8(t=xr()){return/firefox\//i.test(t)}function O8(t=xr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R8(t=xr()){return/crios\//i.test(t)}function M8(t=xr()){return/iemobile/i.test(t)}function D8(t=xr()){return/android/i.test(t)}function $8(t=xr()){return/blackberry/i.test(t)}function L8(t=xr()){return/webos/i.test(t)}function Y2(t=xr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nne(t=xr()){var e;return Y2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rne(){return hee()&&document.documentMode===10}function F8(t=xr()){return Y2(t)||D8(t)||L8(t)||$8(t)||/windows phone/i.test(t)||M8(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t,e=[]){let n;switch(t){case"Browser":n=VI(xr());break;case"Worker":n=`${VI(xr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sne(t,e={}){return qa(t,"GET","/v2/passwordPolicy",wl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ane=6;class one{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:ane,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BI(this),this.idTokenSubscription=new BI(this),this.beforeStateQueue=new ine(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pa(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Uu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cv(this,{idToken:e}),r=await rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Vte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fr(this.app))return Promise.reject(wa(this));const n=e?Ot(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fr(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sne(this),n=new one(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tne(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pa(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Uu.create(this,[pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Dte(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _l(t){return Ot(t)}class BI{constructor(e){this.auth=e,this.observer=null,this.addObserver=_ee(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cne(t){Eb=t}function B8(t){return Eb.loadJS(t)}function une(){return Eb.recaptchaEnterpriseScript}function dne(){return Eb.gapiScript}function hne(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fne{constructor(){this.enterprise=new mne}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mne{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pne="recaptcha-enterprise",U8="NO_RECAPTCHA";class gne{constructor(e){this.type=pne,this.auth=_l(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{qte(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Gte(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;DI(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(U8)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fne().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&DI(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=une();c.length!==0&&(c+=l),B8(c).then(()=>{i(l,s,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function UI(t,e,n,r=!1,i=!1){const s=new gne(t);let a;if(i)a=U8;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function fN(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await UI(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await UI(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yne(t,e){const n=jb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ws(s,e??{}))return i;Mi(i,"already-initialized")}return n.initialize({options:e})}function vne(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xne(t,e,n){const r=_l(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=z8(e),{host:a,port:l}=bne(e),c=l===null?"":`:${l}`,u={url:`${s}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Ws(u,r.config.emulator)&&Ws(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,bl(a)?(F2(`${s}//${a}${c}`),V2("Auth",!0)):wne()}function z8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bne(t){const e=z8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zI(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:zI(a)}}}function zI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wne(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ma("not implemented")}_getIdTokenResponse(e){return ma("not implemented")}_linkToIdToken(e,n){return ma("not implemented")}_getReauthenticationResolver(e){return ma("not implemented")}}async function _ne(t,e){return qa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sne(t,e){return lg(t,"POST","/v1/accounts:signInWithPassword",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nne(t,e){return lg(t,"POST","/v1/accounts:signInWithEmailLink",wl(t,e))}async function jne(t,e){return lg(t,"POST","/v1/accounts:signInWithEmailLink",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends Q2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Zm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fN(e,n,"signInWithPassword",Sne);case"emailLink":return Nne(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fN(e,r,"signUpPassword",_ne);case"emailLink":return jne(e,{idToken:n,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t,e){return lg(t,"POST","/v1/accounts:signInWithIdp",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene="http://localhost";class wc extends Q2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ag(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new wc(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return zu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zu(e,n)}buildRequest(){const e={requestUri:Ene,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ane(t){const e=Vf(Bf(t)).link,n=e?Vf(Bf(e)).deep_link_id:null,r=Vf(Bf(t)).deep_link_id;return(r?Vf(Bf(r)).link:null)||r||n||e||t}class X2{constructor(e){var n,r,i,s,a,l;const c=Vf(Bf(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,d=Cne((i=c.mode)!==null&&i!==void 0?i:null);Ue(u&&h&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Ane(e);try{return new X2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this.providerId=_h.PROVIDER_ID}static credential(e,n){return Zm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=X2.parseLink(n);return Ue(r,"argument-error"),Zm._fromEmailAndCode(e,r.code,r.tenantId)}}_h.PROVIDER_ID="password";_h.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_h.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends J2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends cg{constructor(){super("facebook.com")}static credential(e){return wc._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends cg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wc._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return la.credential(n,r)}catch{return null}}}la.GOOGLE_SIGN_IN_METHOD="google.com";la.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends cg{constructor(){super("github.com")}static credential(e){return wc._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends cg{constructor(){super("twitter.com")}static credential(e,n){return wc._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return So.credential(n,r)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tne(t,e){return lg(t,"POST","/v1/accounts:signUp",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await rs._fromIdTokenResponse(e,r,i),a=WI(r);return new _c({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=WI(r);return new _c({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function WI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends Ha{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dv.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dv(e,n,r,i)}}function W8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dv._fromErrorAndOperation(t,s,e,r):s})}async function kne(t,e,n=!1){const r=await Sd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _c._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pne(t,e,n=!1){const{auth:r}=t;if(Fr(r.app))return Promise.reject(wa(r));const i="reauthenticate";try{const s=await Sd(t,W8(r,i,e,t),n);Ue(s.idToken,r,"internal-error");const a=K2(s.idToken);Ue(a,r,"internal-error");const{sub:l}=a;return Ue(t.uid===l,r,"user-mismatch"),_c._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8(t,e,n=!1){if(Fr(t.app))return Promise.reject(wa(t));const r="signIn",i=await W8(t,r,e),s=await _c._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Ine(t,e){return H8(_l(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(t){const e=_l(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function One(t,e,n){if(Fr(t.app))return Promise.reject(wa(t));const r=_l(t),a=await fN(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tne).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&G8(t),c}),l=await _c._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function Rne(t,e,n){return Fr(t.app)?Promise.reject(wa(t)):Ine(Ot(t),_h.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&G8(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mne(t,e){return qa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dne(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ot(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Sd(r,Mne(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function $ne(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function Lne(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function Fne(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function Vne(t){return Ot(t).signOut()}const hv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hv,"1"),this.storage.removeItem(hv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne=1e3,Une=10;class K8 extends q8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);rne()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Une):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Bne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K8.type="LOCAL";const zne=K8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8 extends q8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y8.type="SESSION";const Q8=Y8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async u=>u(n.origin,s)),c=await Wne(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=Z2("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(){return window}function Gne(t){Ds().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(){return typeof Ds().WorkerGlobalScope<"u"&&typeof Ds().importScripts=="function"}async function qne(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kne(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Yne(){return X8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8="firebaseLocalStorageDb",Qne=1,fv="firebaseLocalStorage",Z8="fbase_key";class ug{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ab(t,e){return t.transaction([fv],e?"readwrite":"readonly").objectStore(fv)}function Xne(){const t=indexedDB.deleteDatabase(J8);return new ug(t).toPromise()}function mN(){const t=indexedDB.open(J8,Qne);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fv,{keyPath:Z8})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fv)?e(r):(r.close(),await Xne(),e(await mN()))})})}async function HI(t,e,n){const r=Ab(t,!0).put({[Z8]:e,value:n});return new ug(r).toPromise()}async function Jne(t,e){const n=Ab(t,!1).get(e),r=await new ug(n).toPromise();return r===void 0?null:r.value}function GI(t,e){const n=Ab(t,!0).delete(e);return new ug(n).toPromise()}const Zne=800,ere=3;class eF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ere)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cb._getInstance(Yne()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qne(),!this.activeServiceWorker)return;this.sender=new Hne(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mN();return await HI(e,hv,"1"),await GI(e,hv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>HI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Jne(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ab(i,!1).getAll();return new ug(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eF.type="LOCAL";const tre=eF;new og(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t,e){return e?pa(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC extends Q2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nre(t){return H8(t.auth,new eC(t),t.bypassAuthState)}function rre(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),Pne(n,new eC(t),t.bypassAuthState)}async function ire(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),kne(n,new eC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nre;case"linkViaPopup":case"linkViaRedirect":return ire;case"reauthViaPopup":case"reauthViaRedirect":return rre;default:Mi(this.auth,"internal-error")}}resolve(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sre=new og(2e3,1e4);async function are(t,e,n){if(Fr(t.app))return Promise.reject(cs(t,"operation-not-supported-in-this-environment"));const r=_l(t);$te(t,e,J2);const i=tF(r,n);return new Yl(r,"signInViaPopup",e,i).executeNotNull()}class Yl extends nF{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Ra(this.filter.length===1,"Popup operations only handle one event");const e=Z2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sre.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ore="pendingRedirect",h0=new Map;class lre extends nF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=h0.get(this.auth._key());if(!e){try{const r=await cre(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}h0.set(this.auth._key(),e)}return this.bypassAuthState||h0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cre(t,e){const n=hre(e),r=dre(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ure(t,e){h0.set(t._key(),e)}function dre(t){return pa(t._redirectPersistence)}function hre(t){return d0(ore,t.config.apiKey,t.name)}async function fre(t,e,n=!1){if(Fr(t.app))return Promise.reject(wa(t));const r=_l(t),i=tF(r,e),a=await new lre(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mre=10*60*1e3;class pre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gre(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mre&&this.cachedEventUids.clear(),this.cachedEventUids.has(qI(e))}saveEventToCache(e){this.cachedEventUids.add(qI(e)),this.lastProcessedEventTime=Date.now()}}function qI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gre(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yre(t,e={}){return qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xre=/^https?/;async function bre(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yre(t);for(const n of e)try{if(wre(n))return}catch{}Mi(t,"unauthorized-domain")}function wre(t){const e=dN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!xre.test(n))return!1;if(vre.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _re=new og(3e4,6e4);function KI(){const t=Ds().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Sre(t){return new Promise((e,n)=>{var r,i,s;function a(){KI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KI(),n(cs(t,"network-request-failed"))},timeout:_re.get()})}if(!((i=(r=Ds().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ds().gapi)===null||s===void 0)&&s.load)a();else{const l=hne("iframefcb");return Ds()[l]=()=>{gapi.load?a():n(cs(t,"network-request-failed"))},B8(`${dne()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw f0=null,e})}let f0=null;function Nre(t){return f0=f0||Sre(t),f0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jre=new og(5e3,15e3),Ere="__/auth/iframe",Cre="emulator/auth/iframe",Are={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kre(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?q2(e,Cre):`https://${t.config.authDomain}/${Ere}`,r={apiKey:e.apiKey,appName:t.name,v:Fc},i=Tre.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wh(r).slice(1)}`}async function Pre(t){const e=await Nre(t),n=Ds().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:kre(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Are,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=cs(t,"network-request-failed"),l=Ds().setTimeout(()=>{s(a)},jre.get());function c(){Ds().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ire={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ore=500,Rre=600,Mre="_blank",Dre="http://localhost";class YI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $re(t,e,n,r=Ore,i=Rre){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Ire),{width:r.toString(),height:i.toString(),top:s,left:a}),u=xr().toLowerCase();n&&(l=R8(u)?Mre:n),I8(u)&&(e=e||Dre,c.scrollbars="yes");const h=Object.entries(c).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(nne(u)&&l!=="_self")return Lre(e||"",l),new YI(null);const d=window.open(e||"",l,h);Ue(d,t,"popup-blocked");try{d.focus()}catch{}return new YI(d)}function Lre(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fre="__/auth/handler",Vre="emulator/auth/handler",Bre=encodeURIComponent("fac");async function QI(t,e,n,r,i,s){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fc,eventId:i};if(e instanceof J2){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",sN(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))a[h]=d}if(e instanceof cg){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${Bre}=${encodeURIComponent(c)}`:"";return`${Ure(t)}?${wh(l).slice(1)}${u}`}function Ure({config:t}){return t.emulator?q2(t,Vre):`https://${t.authDomain}/${Fre}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="webStorageSupport";class zre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q8,this._completeRedirectFn=fre,this._overrideRedirectResult=ure}async _openPopup(e,n,r,i){var s;Ra((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await QI(e,n,r,dN(),i);return $re(e,a,Z2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await QI(e,n,r,dN(),i);return Gne(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ra(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Pre(e),r=new pre(e);return n.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Z1,{type:Z1},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Z1];a!==void 0&&n(!!a),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bre(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F8()||O8()||Y2()}}const Wre=zre;var XI="@firebase/auth",JI="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qre(t){bc(new ll("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ue(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V8(t)},u=new lne(r,i,s,c);return vne(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bc(new ll("auth-internal",e=>{const n=_l(e.getProvider("auth").getImmediate());return(r=>new Hre(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(XI,JI,Gre(t)),Ms(XI,JI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre=5*60,Yre=p8("authIdTokenMaxAge")||Kre;let ZI=null;const Qre=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Yre)return;const i=n==null?void 0:n.token;ZI!==i&&(ZI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Xre(t=W2()){const e=jb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yne(t,{popupRedirectResolver:Wre,persistence:[tre,zne,Q8]}),r=p8("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Qre(s.toString());Lne(n,a,()=>a(n.currentUser)),$ne(n,l=>a(l))}}const i=h8("auth");return i&&xne(n,`http://${i}`),n}function Jre(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cne({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Jre().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qre("Browser");var eO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,iF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,_){function k(){}k.prototype=_.prototype,j.D=_.prototype,j.prototype=new k,j.prototype.constructor=j,j.C=function(E,A,I){for(var R=Array(arguments.length-2),$=2;$<arguments.length;$++)R[$-2]=arguments[$];return _.prototype[A].apply(E,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,_,k){k||(k=0);var E=Array(16);if(typeof _=="string")for(var A=0;16>A;++A)E[A]=_.charCodeAt(k++)|_.charCodeAt(k++)<<8|_.charCodeAt(k++)<<16|_.charCodeAt(k++)<<24;else for(A=0;16>A;++A)E[A]=_[k++]|_[k++]<<8|_[k++]<<16|_[k++]<<24;_=j.g[0],k=j.g[1],A=j.g[2];var I=j.g[3],R=_+(I^k&(A^I))+E[0]+3614090360&4294967295;_=k+(R<<7&4294967295|R>>>25),R=I+(A^_&(k^A))+E[1]+3905402710&4294967295,I=_+(R<<12&4294967295|R>>>20),R=A+(k^I&(_^k))+E[2]+606105819&4294967295,A=I+(R<<17&4294967295|R>>>15),R=k+(_^A&(I^_))+E[3]+3250441966&4294967295,k=A+(R<<22&4294967295|R>>>10),R=_+(I^k&(A^I))+E[4]+4118548399&4294967295,_=k+(R<<7&4294967295|R>>>25),R=I+(A^_&(k^A))+E[5]+1200080426&4294967295,I=_+(R<<12&4294967295|R>>>20),R=A+(k^I&(_^k))+E[6]+2821735955&4294967295,A=I+(R<<17&4294967295|R>>>15),R=k+(_^A&(I^_))+E[7]+4249261313&4294967295,k=A+(R<<22&4294967295|R>>>10),R=_+(I^k&(A^I))+E[8]+1770035416&4294967295,_=k+(R<<7&4294967295|R>>>25),R=I+(A^_&(k^A))+E[9]+2336552879&4294967295,I=_+(R<<12&4294967295|R>>>20),R=A+(k^I&(_^k))+E[10]+4294925233&4294967295,A=I+(R<<17&4294967295|R>>>15),R=k+(_^A&(I^_))+E[11]+2304563134&4294967295,k=A+(R<<22&4294967295|R>>>10),R=_+(I^k&(A^I))+E[12]+1804603682&4294967295,_=k+(R<<7&4294967295|R>>>25),R=I+(A^_&(k^A))+E[13]+4254626195&4294967295,I=_+(R<<12&4294967295|R>>>20),R=A+(k^I&(_^k))+E[14]+2792965006&4294967295,A=I+(R<<17&4294967295|R>>>15),R=k+(_^A&(I^_))+E[15]+1236535329&4294967295,k=A+(R<<22&4294967295|R>>>10),R=_+(A^I&(k^A))+E[1]+4129170786&4294967295,_=k+(R<<5&4294967295|R>>>27),R=I+(k^A&(_^k))+E[6]+3225465664&4294967295,I=_+(R<<9&4294967295|R>>>23),R=A+(_^k&(I^_))+E[11]+643717713&4294967295,A=I+(R<<14&4294967295|R>>>18),R=k+(I^_&(A^I))+E[0]+3921069994&4294967295,k=A+(R<<20&4294967295|R>>>12),R=_+(A^I&(k^A))+E[5]+3593408605&4294967295,_=k+(R<<5&4294967295|R>>>27),R=I+(k^A&(_^k))+E[10]+38016083&4294967295,I=_+(R<<9&4294967295|R>>>23),R=A+(_^k&(I^_))+E[15]+3634488961&4294967295,A=I+(R<<14&4294967295|R>>>18),R=k+(I^_&(A^I))+E[4]+3889429448&4294967295,k=A+(R<<20&4294967295|R>>>12),R=_+(A^I&(k^A))+E[9]+568446438&4294967295,_=k+(R<<5&4294967295|R>>>27),R=I+(k^A&(_^k))+E[14]+3275163606&4294967295,I=_+(R<<9&4294967295|R>>>23),R=A+(_^k&(I^_))+E[3]+4107603335&4294967295,A=I+(R<<14&4294967295|R>>>18),R=k+(I^_&(A^I))+E[8]+1163531501&4294967295,k=A+(R<<20&4294967295|R>>>12),R=_+(A^I&(k^A))+E[13]+2850285829&4294967295,_=k+(R<<5&4294967295|R>>>27),R=I+(k^A&(_^k))+E[2]+4243563512&4294967295,I=_+(R<<9&4294967295|R>>>23),R=A+(_^k&(I^_))+E[7]+1735328473&4294967295,A=I+(R<<14&4294967295|R>>>18),R=k+(I^_&(A^I))+E[12]+2368359562&4294967295,k=A+(R<<20&4294967295|R>>>12),R=_+(k^A^I)+E[5]+4294588738&4294967295,_=k+(R<<4&4294967295|R>>>28),R=I+(_^k^A)+E[8]+2272392833&4294967295,I=_+(R<<11&4294967295|R>>>21),R=A+(I^_^k)+E[11]+1839030562&4294967295,A=I+(R<<16&4294967295|R>>>16),R=k+(A^I^_)+E[14]+4259657740&4294967295,k=A+(R<<23&4294967295|R>>>9),R=_+(k^A^I)+E[1]+2763975236&4294967295,_=k+(R<<4&4294967295|R>>>28),R=I+(_^k^A)+E[4]+1272893353&4294967295,I=_+(R<<11&4294967295|R>>>21),R=A+(I^_^k)+E[7]+4139469664&4294967295,A=I+(R<<16&4294967295|R>>>16),R=k+(A^I^_)+E[10]+3200236656&4294967295,k=A+(R<<23&4294967295|R>>>9),R=_+(k^A^I)+E[13]+681279174&4294967295,_=k+(R<<4&4294967295|R>>>28),R=I+(_^k^A)+E[0]+3936430074&4294967295,I=_+(R<<11&4294967295|R>>>21),R=A+(I^_^k)+E[3]+3572445317&4294967295,A=I+(R<<16&4294967295|R>>>16),R=k+(A^I^_)+E[6]+76029189&4294967295,k=A+(R<<23&4294967295|R>>>9),R=_+(k^A^I)+E[9]+3654602809&4294967295,_=k+(R<<4&4294967295|R>>>28),R=I+(_^k^A)+E[12]+3873151461&4294967295,I=_+(R<<11&4294967295|R>>>21),R=A+(I^_^k)+E[15]+530742520&4294967295,A=I+(R<<16&4294967295|R>>>16),R=k+(A^I^_)+E[2]+3299628645&4294967295,k=A+(R<<23&4294967295|R>>>9),R=_+(A^(k|~I))+E[0]+4096336452&4294967295,_=k+(R<<6&4294967295|R>>>26),R=I+(k^(_|~A))+E[7]+1126891415&4294967295,I=_+(R<<10&4294967295|R>>>22),R=A+(_^(I|~k))+E[14]+2878612391&4294967295,A=I+(R<<15&4294967295|R>>>17),R=k+(I^(A|~_))+E[5]+4237533241&4294967295,k=A+(R<<21&4294967295|R>>>11),R=_+(A^(k|~I))+E[12]+1700485571&4294967295,_=k+(R<<6&4294967295|R>>>26),R=I+(k^(_|~A))+E[3]+2399980690&4294967295,I=_+(R<<10&4294967295|R>>>22),R=A+(_^(I|~k))+E[10]+4293915773&4294967295,A=I+(R<<15&4294967295|R>>>17),R=k+(I^(A|~_))+E[1]+2240044497&4294967295,k=A+(R<<21&4294967295|R>>>11),R=_+(A^(k|~I))+E[8]+1873313359&4294967295,_=k+(R<<6&4294967295|R>>>26),R=I+(k^(_|~A))+E[15]+4264355552&4294967295,I=_+(R<<10&4294967295|R>>>22),R=A+(_^(I|~k))+E[6]+2734768916&4294967295,A=I+(R<<15&4294967295|R>>>17),R=k+(I^(A|~_))+E[13]+1309151649&4294967295,k=A+(R<<21&4294967295|R>>>11),R=_+(A^(k|~I))+E[4]+4149444226&4294967295,_=k+(R<<6&4294967295|R>>>26),R=I+(k^(_|~A))+E[11]+3174756917&4294967295,I=_+(R<<10&4294967295|R>>>22),R=A+(_^(I|~k))+E[2]+718787259&4294967295,A=I+(R<<15&4294967295|R>>>17),R=k+(I^(A|~_))+E[9]+3951481745&4294967295,j.g[0]=j.g[0]+_&4294967295,j.g[1]=j.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+A&4294967295,j.g[3]=j.g[3]+I&4294967295}r.prototype.u=function(j,_){_===void 0&&(_=j.length);for(var k=_-this.blockSize,E=this.B,A=this.h,I=0;I<_;){if(A==0)for(;I<=k;)i(this,j,I),I+=this.blockSize;if(typeof j=="string"){for(;I<_;)if(E[A++]=j.charCodeAt(I++),A==this.blockSize){i(this,E),A=0;break}}else for(;I<_;)if(E[A++]=j[I++],A==this.blockSize){i(this,E),A=0;break}}this.h=A,this.o+=_},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var _=1;_<j.length-8;++_)j[_]=0;var k=8*this.o;for(_=j.length-8;_<j.length;++_)j[_]=k&255,k/=256;for(this.u(j),j=Array(16),_=k=0;4>_;++_)for(var E=0;32>E;E+=8)j[k++]=this.g[_]>>>E&255;return j};function s(j,_){var k=l;return Object.prototype.hasOwnProperty.call(k,j)?k[j]:k[j]=_(j)}function a(j,_){this.h=_;for(var k=[],E=!0,A=j.length-1;0<=A;A--){var I=j[A]|0;E&&I==_||(k[A]=I,E=!1)}this.g=k}var l={};function c(j){return-128<=j&&128>j?s(j,function(_){return new a([_|0],0>_?-1:0)}):new a([j|0],0>j?-1:0)}function u(j){if(isNaN(j)||!isFinite(j))return d;if(0>j)return y(u(-j));for(var _=[],k=1,E=0;j>=k;E++)_[E]=j/k|0,k*=4294967296;return new a(_,0)}function h(j,_){if(j.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(j.charAt(0)=="-")return y(h(j.substring(1),_));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(_,8)),E=d,A=0;A<j.length;A+=8){var I=Math.min(8,j.length-A),R=parseInt(j.substring(A,A+I),_);8>I?(I=u(Math.pow(_,I)),E=E.j(I).add(u(R))):(E=E.j(k),E=E.add(u(R)))}return E}var d=c(0),f=c(1),m=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-y(this).m();for(var j=0,_=1,k=0;k<this.g.length;k++){var E=this.i(k);j+=(0<=E?E:4294967296+E)*_,_*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(g(this))return"0";if(v(this))return"-"+y(this).toString(j);for(var _=u(Math.pow(j,6)),k=this,E="";;){var A=N(k,_).g;k=x(k,A.j(_));var I=((0<k.g.length?k.g[0]:k.h)>>>0).toString(j);if(k=A,g(k))return I+E;for(;6>I.length;)I="0"+I;E=I+E}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function g(j){if(j.h!=0)return!1;for(var _=0;_<j.g.length;_++)if(j.g[_]!=0)return!1;return!0}function v(j){return j.h==-1}t.l=function(j){return j=x(this,j),v(j)?-1:g(j)?0:1};function y(j){for(var _=j.g.length,k=[],E=0;E<_;E++)k[E]=~j.g[E];return new a(k,~j.h).add(f)}t.abs=function(){return v(this)?y(this):this},t.add=function(j){for(var _=Math.max(this.g.length,j.g.length),k=[],E=0,A=0;A<=_;A++){var I=E+(this.i(A)&65535)+(j.i(A)&65535),R=(I>>>16)+(this.i(A)>>>16)+(j.i(A)>>>16);E=R>>>16,I&=65535,R&=65535,k[A]=R<<16|I}return new a(k,k[k.length-1]&-2147483648?-1:0)};function x(j,_){return j.add(y(_))}t.j=function(j){if(g(this)||g(j))return d;if(v(this))return v(j)?y(this).j(y(j)):y(y(this).j(j));if(v(j))return y(this.j(y(j)));if(0>this.l(m)&&0>j.l(m))return u(this.m()*j.m());for(var _=this.g.length+j.g.length,k=[],E=0;E<2*_;E++)k[E]=0;for(E=0;E<this.g.length;E++)for(var A=0;A<j.g.length;A++){var I=this.i(E)>>>16,R=this.i(E)&65535,$=j.i(A)>>>16,W=j.i(A)&65535;k[2*E+2*A]+=R*W,b(k,2*E+2*A),k[2*E+2*A+1]+=I*W,b(k,2*E+2*A+1),k[2*E+2*A+1]+=R*$,b(k,2*E+2*A+1),k[2*E+2*A+2]+=I*$,b(k,2*E+2*A+2)}for(E=0;E<_;E++)k[E]=k[2*E+1]<<16|k[2*E];for(E=_;E<2*_;E++)k[E]=0;return new a(k,0)};function b(j,_){for(;(j[_]&65535)!=j[_];)j[_+1]+=j[_]>>>16,j[_]&=65535,_++}function w(j,_){this.g=j,this.h=_}function N(j,_){if(g(_))throw Error("division by zero");if(g(j))return new w(d,d);if(v(j))return _=N(y(j),_),new w(y(_.g),y(_.h));if(v(_))return _=N(j,y(_)),new w(y(_.g),_.h);if(30<j.g.length){if(v(j)||v(_))throw Error("slowDivide_ only works with positive integers.");for(var k=f,E=_;0>=E.l(j);)k=S(k),E=S(E);var A=P(k,1),I=P(E,1);for(E=P(E,2),k=P(k,2);!g(E);){var R=I.add(E);0>=R.l(j)&&(A=A.add(k),I=R),E=P(E,1),k=P(k,1)}return _=x(j,A.j(_)),new w(A,_)}for(A=d;0<=j.l(_);){for(k=Math.max(1,Math.floor(j.m()/_.m())),E=Math.ceil(Math.log(k)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),I=u(k),R=I.j(_);v(R)||0<R.l(j);)k-=E,I=u(k),R=I.j(_);g(I)&&(I=f),A=A.add(I),j=x(j,R)}return new w(A,j)}t.A=function(j){return N(this,j).h},t.and=function(j){for(var _=Math.max(this.g.length,j.g.length),k=[],E=0;E<_;E++)k[E]=this.i(E)&j.i(E);return new a(k,this.h&j.h)},t.or=function(j){for(var _=Math.max(this.g.length,j.g.length),k=[],E=0;E<_;E++)k[E]=this.i(E)|j.i(E);return new a(k,this.h|j.h)},t.xor=function(j){for(var _=Math.max(this.g.length,j.g.length),k=[],E=0;E<_;E++)k[E]=this.i(E)^j.i(E);return new a(k,this.h^j.h)};function S(j){for(var _=j.g.length+1,k=[],E=0;E<_;E++)k[E]=j.i(E)<<1|j.i(E-1)>>>31;return new a(k,j.h)}function P(j,_){var k=_>>5;_%=32;for(var E=j.g.length-k,A=[],I=0;I<E;I++)A[I]=0<_?j.i(I+k)>>>_|j.i(I+k+1)<<32-_:j.i(I+k);return new a(A,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iF=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,Qo=a}).apply(typeof eO<"u"?eO:typeof self<"u"?self:typeof window<"u"?window:{});var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sF,Uf,aF,m0,pN,oF,lF,cF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,T,O){return p==Array.prototype||p==Object.prototype||(p[T]=O.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof wy=="object"&&wy];for(var T=0;T<p.length;++T){var O=p[T];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(p,T){if(T)e:{var O=r;p=p.split(".");for(var L=0;L<p.length-1;L++){var K=p[L];if(!(K in O))break e;O=O[K]}p=p[p.length-1],L=O[p],T=T(L),T!=L&&T!=null&&e(O,p,{configurable:!0,writable:!0,value:T})}}function s(p,T){p instanceof String&&(p+="");var O=0,L=!1,K={next:function(){if(!L&&O<p.length){var J=O++;return{value:T(J,p[J]),done:!1}}return L=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(p){return p||function(){return s(this,function(T,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(p){var T=typeof p;return T=T!="object"?T:p?Array.isArray(p)?"array":T:"null",T=="array"||T=="object"&&typeof p.length=="number"}function u(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function h(p,T,O){return p.call.apply(p.bind,arguments)}function d(p,T,O){if(!p)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,L),p.apply(T,K)}}return function(){return p.apply(T,arguments)}}function f(p,T,O){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function m(p,T){var O=Array.prototype.slice.call(arguments,1);return function(){var L=O.slice();return L.push.apply(L,arguments),p.apply(this,L)}}function g(p,T){function O(){}O.prototype=T.prototype,p.aa=T.prototype,p.prototype=new O,p.prototype.constructor=p,p.Qb=function(L,K,J){for(var xe=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)xe[Pt-2]=arguments[Pt];return T.prototype[K].apply(L,xe)}}function v(p){const T=p.length;if(0<T){const O=Array(T);for(let L=0;L<T;L++)O[L]=p[L];return O}return[]}function y(p,T){for(let O=1;O<arguments.length;O++){const L=arguments[O];if(c(L)){const K=p.length||0,J=L.length||0;p.length=K+J;for(let xe=0;xe<J;xe++)p[K+xe]=L[xe]}else p.push(L)}}class x{constructor(T,O){this.i=T,this.j=O,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function b(p){return/^[\s\xa0]*$/.test(p)}function w(){var p=l.navigator;return p&&(p=p.userAgent)?p:""}function N(p){return N[" "](p),p}N[" "]=function(){};var S=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function P(p,T,O){for(const L in p)T.call(O,p[L],L,p)}function j(p,T){for(const O in p)T.call(void 0,p[O],O,p)}function _(p){const T={};for(const O in p)T[O]=p[O];return T}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(p,T){let O,L;for(let K=1;K<arguments.length;K++){L=arguments[K];for(O in L)p[O]=L[O];for(let J=0;J<k.length;J++)O=k[J],Object.prototype.hasOwnProperty.call(L,O)&&(p[O]=L[O])}}function A(p){var T=1;p=p.split(":");const O=[];for(;0<T&&p.length;)O.push(p.shift()),T--;return p.length&&O.push(p.join(":")),O}function I(p){l.setTimeout(()=>{throw p},0)}function R(){var p=U;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class ${constructor(){this.h=this.g=null}add(T,O){const L=W.get();L.set(T,O),this.h?this.h.next=L:this.g=L,this.h=L}}var W=new x(()=>new H,p=>p.reset());class H{constructor(){this.next=this.g=this.h=null}set(T,O){this.h=T,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let M,F=!1,U=new $,X=()=>{const p=l.Promise.resolve(void 0);M=()=>{p.then(z)}};var z=()=>{for(var p;p=R();){try{p.h.call(p.g)}catch(O){I(O)}var T=W;T.j(p),100>T.h&&(T.h++,p.next=T.g,T.g=p)}F=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const O=()=>{};l.addEventListener("test",O,T),l.removeEventListener("test",O,T)}catch{}return p}();function ye(p,T){if(q.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var O=this.type=p.type,L=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget){if(S){e:{try{N(T.nodeName);var K=!0;break e}catch{}K=!1}K||(T=null)}}else O=="mouseover"?T=p.fromElement:O=="mouseout"&&(T=p.toElement);this.relatedTarget=T,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ie[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ye.aa.h.call(this)}}g(ye,q);var ie={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),Q=0;function Z(p,T,O,L,K){this.listener=p,this.proxy=null,this.src=T,this.type=O,this.capture=!!L,this.ha=K,this.key=++Q,this.da=this.fa=!1}function ue(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function pe(p){this.src=p,this.g={},this.h=0}pe.prototype.add=function(p,T,O,L,K){var J=p.toString();p=this.g[J],p||(p=this.g[J]=[],this.h++);var xe=le(p,T,L,K);return-1<xe?(T=p[xe],O||(T.fa=!1)):(T=new Z(T,this.src,J,!!L,K),T.fa=O,p.push(T)),T};function V(p,T){var O=T.type;if(O in p.g){var L=p.g[O],K=Array.prototype.indexOf.call(L,T,void 0),J;(J=0<=K)&&Array.prototype.splice.call(L,K,1),J&&(ue(T),p.g[O].length==0&&(delete p.g[O],p.h--))}}function le(p,T,O,L){for(var K=0;K<p.length;++K){var J=p[K];if(!J.da&&J.listener==T&&J.capture==!!O&&J.ha==L)return K}return-1}var we="closure_lm_"+(1e6*Math.random()|0),Ae={};function tt(p,T,O,L,K){if(Array.isArray(T)){for(var J=0;J<T.length;J++)tt(p,T[J],O,L,K);return null}return O=Se(O),p&&p[B]?p.K(T,O,u(L)?!!L.capture:!!L,K):Xt(p,T,O,!1,L,K)}function Xt(p,T,O,L,K,J){if(!T)throw Error("Invalid event type");var xe=u(K)?!!K.capture:!!K,Pt=Le(p);if(Pt||(p[we]=Pt=new pe(p)),O=Pt.add(T,O,L,xe,J),O.proxy)return O;if(L=me(),O.proxy=L,L.src=p,L.listener=O,p.addEventListener)ae||(K=xe),K===void 0&&(K=!1),p.addEventListener(T.toString(),L,K);else if(p.attachEvent)p.attachEvent(ve(T.toString()),L);else if(p.addListener&&p.removeListener)p.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return O}function me(){function p(O){return T.call(p.src,p.listener,O)}const T=De;return p}function be(p,T,O,L,K){if(Array.isArray(T))for(var J=0;J<T.length;J++)be(p,T[J],O,L,K);else L=u(L)?!!L.capture:!!L,O=Se(O),p&&p[B]?(p=p.i,T=String(T).toString(),T in p.g&&(J=p.g[T],O=le(J,O,L,K),-1<O&&(ue(J[O]),Array.prototype.splice.call(J,O,1),J.length==0&&(delete p.g[T],p.h--)))):p&&(p=Le(p))&&(T=p.g[T.toString()],p=-1,T&&(p=le(T,O,L,K)),(O=-1<p?T[p]:null)&&de(O))}function de(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[B])V(T.i,p);else{var O=p.type,L=p.proxy;T.removeEventListener?T.removeEventListener(O,L,p.capture):T.detachEvent?T.detachEvent(ve(O),L):T.addListener&&T.removeListener&&T.removeListener(L),(O=Le(T))?(V(O,p),O.h==0&&(O.src=null,T[we]=null)):ue(p)}}}function ve(p){return p in Ae?Ae[p]:Ae[p]="on"+p}function De(p,T){if(p.da)p=!0;else{T=new ye(T,this);var O=p.listener,L=p.ha||p.src;p.fa&&de(p),p=O.call(L,T)}return p}function Le(p){return p=p[we],p instanceof pe?p:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(p){return typeof p=="function"?p:(p[$e]||(p[$e]=function(T){return p.handleEvent(T)}),p[$e])}function Be(){G.call(this),this.i=new pe(this),this.M=this,this.F=null}g(Be,G),Be.prototype[B]=!0,Be.prototype.removeEventListener=function(p,T,O,L){be(this,p,T,O,L)};function Te(p,T){var O,L=p.F;if(L)for(O=[];L;L=L.F)O.push(L);if(p=p.M,L=T.type||T,typeof T=="string")T=new q(T,p);else if(T instanceof q)T.target=T.target||p;else{var K=T;T=new q(L,p),E(T,K)}if(K=!0,O)for(var J=O.length-1;0<=J;J--){var xe=T.g=O[J];K=sn(xe,L,!0,T)&&K}if(xe=T.g=p,K=sn(xe,L,!0,T)&&K,K=sn(xe,L,!1,T)&&K,O)for(J=0;J<O.length;J++)xe=T.g=O[J],K=sn(xe,L,!1,T)&&K}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var p=this.i,T;for(T in p.g){for(var O=p.g[T],L=0;L<O.length;L++)ue(O[L]);delete p.g[T],p.h--}}this.F=null},Be.prototype.K=function(p,T,O,L){return this.i.add(String(p),T,!1,O,L)},Be.prototype.L=function(p,T,O,L){return this.i.add(String(p),T,!0,O,L)};function sn(p,T,O,L){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();for(var K=!0,J=0;J<T.length;++J){var xe=T[J];if(xe&&!xe.da&&xe.capture==O){var Pt=xe.listener,Un=xe.ha||xe.src;xe.fa&&V(p.i,xe),K=Pt.call(Un,L)!==!1&&K}}return K&&!L.defaultPrevented}function Bi(p,T,O){if(typeof p=="function")O&&(p=f(p,O));else if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:l.setTimeout(p,T||0)}function Yh(p){p.g=Bi(()=>{p.g=null,p.i&&(p.i=!1,Yh(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class Qw extends G{constructor(T,O){super(),this.m=T,this.l=O,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Yh(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(p){G.call(this),this.h=p,this.g={}}g(no,G);var Qh=[];function Rg(p){P(p.g,function(T,O){this.g.hasOwnProperty(O)&&de(T)},p),p.g={}}no.prototype.N=function(){no.aa.N.call(this),Rg(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tl=l.JSON.stringify,xs=l.JSON.parse,Xw=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function qe(){}qe.prototype.h=null;function Ct(p){return p.h||(p.h=p.i())}function Nt(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dr(){q.call(this,"d")}g(Dr,q);function ro(){q.call(this,"c")}g(ro,q);var Js={},$T=null;function Mg(){return $T=$T||new Be}Js.La="serverreachability";function LT(p){q.call(this,Js.La,p)}g(LT,q);function Xh(p){const T=Mg();Te(T,new LT(T))}Js.STAT_EVENT="statevent";function FT(p,T){q.call(this,Js.STAT_EVENT,p),this.stat=T}g(FT,q);function br(p){const T=Mg();Te(T,new FT(T,p))}Js.Ma="timingevent";function VT(p,T){q.call(this,Js.Ma,p),this.size=T}g(VT,q);function Jh(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},T)}function Zh(){this.g=!0}Zh.prototype.xa=function(){this.g=!1};function CH(p,T,O,L,K,J){p.info(function(){if(p.g)if(J)for(var xe="",Pt=J.split("&"),Un=0;Un<Pt.length;Un++){var pt=Pt[Un].split("=");if(1<pt.length){var Zn=pt[0];pt=pt[1];var er=Zn.split("_");xe=2<=er.length&&er[1]=="type"?xe+(Zn+"="+pt+"&"):xe+(Zn+"=redacted&")}}else xe=null;else xe=J;return"XMLHTTP REQ ("+L+") [attempt "+K+"]: "+T+`
`+O+`
`+xe})}function AH(p,T,O,L,K,J,xe){p.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+K+"]: "+T+`
`+O+`
`+J+" "+xe})}function Xc(p,T,O,L){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+kH(p,O)+(L?" "+L:"")})}function TH(p,T){p.info(function(){return"TIMEOUT: "+T})}Zh.prototype.info=function(){};function kH(p,T){if(!p.g)return T;if(!T)return null;try{var O=JSON.parse(T);if(O){for(p=0;p<O.length;p++)if(Array.isArray(O[p])){var L=O[p];if(!(2>L.length)){var K=L[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var xe=1;xe<K.length;xe++)K[xe]=""}}}}return Tl(O)}catch{return T}}var Dg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},BT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jw;function $g(){}g($g,qe),$g.prototype.g=function(){return new XMLHttpRequest},$g.prototype.i=function(){return{}},Jw=new $g;function io(p,T,O,L){this.j=p,this.i=T,this.l=O,this.R=L||1,this.U=new no(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new UT}function UT(){this.i=null,this.g="",this.h=!1}var zT={},Zw={};function e1(p,T,O){p.L=1,p.v=Bg(Zs(T)),p.m=O,p.P=!0,WT(p,null)}function WT(p,T){p.F=Date.now(),Lg(p),p.A=Zs(p.v);var O=p.A,L=p.R;Array.isArray(L)||(L=[String(L)]),ik(O.i,"t",L),p.C=0,O=p.j.J,p.h=new UT,p.g=_k(p.j,O?T:null,!p.m),0<p.O&&(p.M=new Qw(f(p.Y,p,p.g),p.O)),T=p.U,O=p.g,L=p.ca;var K="readystatechange";Array.isArray(K)||(K&&(Qh[0]=K.toString()),K=Qh);for(var J=0;J<K.length;J++){var xe=tt(O,K[J],L||T.handleEvent,!1,T.h||T);if(!xe)break;T.g[xe.key]=xe}T=p.H?_(p.H):{},p.m?(p.u||(p.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,T)):(p.u="GET",p.g.ea(p.A,p.u,null,T)),Xh(),CH(p.i,p.u,p.A,p.l,p.R,p.m)}io.prototype.ca=function(p){p=p.target;const T=this.M;T&&ea(p)==3?T.j():this.Y(p)},io.prototype.Y=function(p){try{if(p==this.g)e:{const er=ea(this.g);var T=this.g.Ba();const eu=this.g.Z();if(!(3>er)&&(er!=3||this.g&&(this.h.h||this.g.oa()||dk(this.g)))){this.J||er!=4||T==7||(T==8||0>=eu?Xh(3):Xh(2)),t1(this);var O=this.g.Z();this.X=O;t:if(HT(this)){var L=dk(this.g);p="";var K=L.length,J=ea(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kl(this),ef(this);var xe="";break t}this.h.i=new l.TextDecoder}for(T=0;T<K;T++)this.h.h=!0,p+=this.h.i.decode(L[T],{stream:!(J&&T==K-1)});L.length=0,this.h.g+=p,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=O==200,AH(this.i,this.u,this.A,this.l,this.R,er,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,Un=this.g;if((Pt=Un.g?Un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Pt)){var pt=Pt;break t}}pt=null}if(O=pt)Xc(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,n1(this,O);else{this.o=!1,this.s=3,br(12),kl(this),ef(this);break e}}if(this.P){O=!0;let Ui;for(;!this.J&&this.C<xe.length;)if(Ui=PH(this,xe),Ui==Zw){er==4&&(this.s=4,br(14),O=!1),Xc(this.i,this.l,null,"[Incomplete Response]");break}else if(Ui==zT){this.s=4,br(15),Xc(this.i,this.l,xe,"[Invalid Chunk]"),O=!1;break}else Xc(this.i,this.l,Ui,null),n1(this,Ui);if(HT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),er!=4||xe.length!=0||this.h.h||(this.s=1,br(16),O=!1),this.o=this.o&&O,!O)Xc(this.i,this.l,xe,"[Invalid Chunked Response]"),kl(this),ef(this);else if(0<xe.length&&!this.W){this.W=!0;var Zn=this.j;Zn.g==this&&Zn.ba&&!Zn.M&&(Zn.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),l1(Zn),Zn.M=!0,br(11))}}else Xc(this.i,this.l,xe,null),n1(this,xe);er==4&&kl(this),this.o&&!this.J&&(er==4?vk(this.j,this):(this.o=!1,Lg(this)))}else KH(this.g),O==400&&0<xe.indexOf("Unknown SID")?(this.s=3,br(12)):(this.s=0,br(13)),kl(this),ef(this)}}}catch{}finally{}};function HT(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function PH(p,T){var O=p.C,L=T.indexOf(`
`,O);return L==-1?Zw:(O=Number(T.substring(O,L)),isNaN(O)?zT:(L+=1,L+O>T.length?Zw:(T=T.slice(L,L+O),p.C=L+O,T)))}io.prototype.cancel=function(){this.J=!0,kl(this)};function Lg(p){p.S=Date.now()+p.I,GT(p,p.I)}function GT(p,T){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Jh(f(p.ba,p),T)}function t1(p){p.B&&(l.clearTimeout(p.B),p.B=null)}io.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(TH(this.i,this.A),this.L!=2&&(Xh(),br(17)),kl(this),this.s=2,ef(this)):GT(this,this.S-p)};function ef(p){p.j.G==0||p.J||vk(p.j,p)}function kl(p){t1(p);var T=p.M;T&&typeof T.ma=="function"&&T.ma(),p.M=null,Rg(p.U),p.g&&(T=p.g,p.g=null,T.abort(),T.ma())}function n1(p,T){try{var O=p.j;if(O.G!=0&&(O.g==p||r1(O.h,p))){if(!p.K&&r1(O.h,p)&&O.G==3){try{var L=O.Da.g.parse(T)}catch{L=null}if(Array.isArray(L)&&L.length==3){var K=L;if(K[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<p.F)qg(O),Hg(O);else break e;o1(O),br(18)}}else O.za=K[1],0<O.za-O.T&&37500>K[2]&&O.F&&O.v==0&&!O.C&&(O.C=Jh(f(O.Za,O),6e3));if(1>=YT(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Il(O,11)}else if((p.K||O.g==p)&&qg(O),!b(T))for(K=O.Da.g.parse(T),T=0;T<K.length;T++){let pt=K[T];if(O.T=pt[0],pt=pt[1],O.G==2)if(pt[0]=="c"){O.K=pt[1],O.ia=pt[2];const Zn=pt[3];Zn!=null&&(O.la=Zn,O.j.info("VER="+O.la));const er=pt[4];er!=null&&(O.Aa=er,O.j.info("SVER="+O.Aa));const eu=pt[5];eu!=null&&typeof eu=="number"&&0<eu&&(L=1.5*eu,O.L=L,O.j.info("backChannelRequestTimeoutMs_="+L)),L=O;const Ui=p.g;if(Ui){const Yg=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yg){var J=L.h;J.g||Yg.indexOf("spdy")==-1&&Yg.indexOf("quic")==-1&&Yg.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(i1(J,J.h),J.h=null))}if(L.D){const c1=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;c1&&(L.ya=c1,$t(L.I,L.D,c1))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-p.F,O.j.info("Handshake RTT: "+O.R+"ms")),L=O;var xe=p;if(L.qa=wk(L,L.J?L.ia:null,L.W),xe.K){QT(L.h,xe);var Pt=xe,Un=L.L;Un&&(Pt.I=Un),Pt.B&&(t1(Pt),Lg(Pt)),L.g=xe}else gk(L);0<O.i.length&&Gg(O)}else pt[0]!="stop"&&pt[0]!="close"||Il(O,7);else O.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Il(O,7):a1(O):pt[0]!="noop"&&O.l&&O.l.ta(pt),O.v=0)}}Xh(4)}catch{}}var IH=class{constructor(p,T){this.g=p,this.map=T}};function qT(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function KT(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function YT(p){return p.h?1:p.g?p.g.size:0}function r1(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function i1(p,T){p.g?p.g.add(T):p.h=T}function QT(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}qT.prototype.cancel=function(){if(this.i=XT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function XT(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const O of p.g.values())T=T.concat(O.D);return T}return v(p.i)}function OH(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var T=[],O=p.length,L=0;L<O;L++)T.push(p[L]);return T}T=[],O=0;for(L in p)T[O++]=p[L];return T}function RH(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var T=[];p=p.length;for(var O=0;O<p;O++)T.push(O);return T}T=[],O=0;for(const L in p)T[O++]=L;return T}}}function JT(p,T){if(p.forEach&&typeof p.forEach=="function")p.forEach(T,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,T,void 0);else for(var O=RH(p),L=OH(p),K=L.length,J=0;J<K;J++)T.call(void 0,L[J],O&&O[J],p)}var ZT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MH(p,T){if(p){p=p.split("&");for(var O=0;O<p.length;O++){var L=p[O].indexOf("="),K=null;if(0<=L){var J=p[O].substring(0,L);K=p[O].substring(L+1)}else J=p[O];T(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Pl(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Pl){this.h=p.h,Fg(this,p.j),this.o=p.o,this.g=p.g,Vg(this,p.s),this.l=p.l;var T=p.i,O=new rf;O.i=T.i,T.g&&(O.g=new Map(T.g),O.h=T.h),ek(this,O),this.m=p.m}else p&&(T=String(p).match(ZT))?(this.h=!1,Fg(this,T[1]||"",!0),this.o=tf(T[2]||""),this.g=tf(T[3]||"",!0),Vg(this,T[4]),this.l=tf(T[5]||"",!0),ek(this,T[6]||"",!0),this.m=tf(T[7]||"")):(this.h=!1,this.i=new rf(null,this.h))}Pl.prototype.toString=function(){var p=[],T=this.j;T&&p.push(nf(T,tk,!0),":");var O=this.g;return(O||T=="file")&&(p.push("//"),(T=this.o)&&p.push(nf(T,tk,!0),"@"),p.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&p.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&p.push("/"),p.push(nf(O,O.charAt(0)=="/"?LH:$H,!0))),(O=this.i.toString())&&p.push("?",O),(O=this.m)&&p.push("#",nf(O,VH)),p.join("")};function Zs(p){return new Pl(p)}function Fg(p,T,O){p.j=O?tf(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function Vg(p,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);p.s=T}else p.s=null}function ek(p,T,O){T instanceof rf?(p.i=T,BH(p.i,p.h)):(O||(T=nf(T,FH)),p.i=new rf(T,p.h))}function $t(p,T,O){p.i.set(T,O)}function Bg(p){return $t(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function tf(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function nf(p,T,O){return typeof p=="string"?(p=encodeURI(p).replace(T,DH),O&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function DH(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var tk=/[#\/\?@]/g,$H=/[#\?:]/g,LH=/[#\?]/g,FH=/[#\?@]/g,VH=/#/g;function rf(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function so(p){p.g||(p.g=new Map,p.h=0,p.i&&MH(p.i,function(T,O){p.add(decodeURIComponent(T.replace(/\+/g," ")),O)}))}t=rf.prototype,t.add=function(p,T){so(this),this.i=null,p=Jc(this,p);var O=this.g.get(p);return O||this.g.set(p,O=[]),O.push(T),this.h+=1,this};function nk(p,T){so(p),T=Jc(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function rk(p,T){return so(p),T=Jc(p,T),p.g.has(T)}t.forEach=function(p,T){so(this),this.g.forEach(function(O,L){O.forEach(function(K){p.call(T,K,L,this)},this)},this)},t.na=function(){so(this);const p=Array.from(this.g.values()),T=Array.from(this.g.keys()),O=[];for(let L=0;L<T.length;L++){const K=p[L];for(let J=0;J<K.length;J++)O.push(T[L])}return O},t.V=function(p){so(this);let T=[];if(typeof p=="string")rk(this,p)&&(T=T.concat(this.g.get(Jc(this,p))));else{p=Array.from(this.g.values());for(let O=0;O<p.length;O++)T=T.concat(p[O])}return T},t.set=function(p,T){return so(this),this.i=null,p=Jc(this,p),rk(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},t.get=function(p,T){return p?(p=this.V(p),0<p.length?String(p[0]):T):T};function ik(p,T,O){nk(p,T),0<O.length&&(p.i=null,p.g.set(Jc(p,T),v(O)),p.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(var O=0;O<T.length;O++){var L=T[O];const J=encodeURIComponent(String(L)),xe=this.V(L);for(L=0;L<xe.length;L++){var K=J;xe[L]!==""&&(K+="="+encodeURIComponent(String(xe[L]))),p.push(K)}}return this.i=p.join("&")};function Jc(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function BH(p,T){T&&!p.j&&(so(p),p.i=null,p.g.forEach(function(O,L){var K=L.toLowerCase();L!=K&&(nk(this,L),ik(this,K,O))},p)),p.j=T}function UH(p,T){const O=new Zh;if(l.Image){const L=new Image;L.onload=m(ao,O,"TestLoadImage: loaded",!0,T,L),L.onerror=m(ao,O,"TestLoadImage: error",!1,T,L),L.onabort=m(ao,O,"TestLoadImage: abort",!1,T,L),L.ontimeout=m(ao,O,"TestLoadImage: timeout",!1,T,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=p}else T(!1)}function zH(p,T){const O=new Zh,L=new AbortController,K=setTimeout(()=>{L.abort(),ao(O,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:L.signal}).then(J=>{clearTimeout(K),J.ok?ao(O,"TestPingServer: ok",!0,T):ao(O,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(K),ao(O,"TestPingServer: error",!1,T)})}function ao(p,T,O,L,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),L(O)}catch{}}function WH(){this.g=new Xw}function HH(p,T,O){const L=O||"";try{JT(p,function(K,J){let xe=K;u(K)&&(xe=Tl(K)),T.push(L+J+"="+encodeURIComponent(xe))})}catch(K){throw T.push(L+"type="+encodeURIComponent("_badmap")),K}}function Ug(p){this.l=p.Ub||null,this.j=p.eb||!1}g(Ug,qe),Ug.prototype.g=function(){return new zg(this.l,this.j)},Ug.prototype.i=function(p){return function(){return p}}({});function zg(p,T){Be.call(this),this.D=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(zg,Be),t=zg.prototype,t.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=T,this.readyState=1,af(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(T.body=p),(this.D||l).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sf(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,af(this)),this.g&&(this.readyState=3,af(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sk(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function sk(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?sf(this):af(this),this.readyState==3&&sk(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,sf(this))},t.Qa=function(p){this.g&&(this.response=p,sf(this))},t.ga=function(){this.g&&sf(this)};function sf(p){p.readyState=4,p.l=null,p.j=null,p.v=null,af(p)}t.setRequestHeader=function(p,T){this.u.append(p,T)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var O=T.next();!O.done;)O=O.value,p.push(O[0]+": "+O[1]),O=T.next();return p.join(`\r
`)};function af(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(zg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ak(p){let T="";return P(p,function(O,L){T+=L,T+=":",T+=O,T+=`\r
`}),T}function s1(p,T,O){e:{for(L in O){var L=!1;break e}L=!0}L||(O=ak(O),typeof p=="string"?O!=null&&encodeURIComponent(String(O)):$t(p,T,O))}function an(p){Be.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(an,Be);var GH=/^https?$/i,qH=["POST","PUT"];t=an.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,T,O,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jw.g(),this.v=this.o?Ct(this.o):Ct(Jw),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(J){ok(this,J);return}if(p=O||"",O=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var K in L)O.set(K,L[K]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const J of L.keys())O.set(J,L.get(J));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(O.keys()).find(J=>J.toLowerCase()=="content-type"),K=l.FormData&&p instanceof l.FormData,!(0<=Array.prototype.indexOf.call(qH,T,void 0))||L||K||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,xe]of O)this.g.setRequestHeader(J,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uk(this),this.u=!0,this.g.send(p),this.u=!1}catch(J){ok(this,J)}};function ok(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.m=5,lk(p),Wg(p)}function lk(p){p.A||(p.A=!0,Te(p,"complete"),Te(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Te(this,"complete"),Te(this,"abort"),Wg(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wg(this,!0)),an.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ck(this):this.bb())},t.bb=function(){ck(this)};function ck(p){if(p.h&&typeof a<"u"&&(!p.v[1]||ea(p)!=4||p.Z()!=2)){if(p.u&&ea(p)==4)Bi(p.Ea,0,p);else if(Te(p,"readystatechange"),ea(p)==4){p.h=!1;try{const xe=p.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var O;if(!(O=T)){var L;if(L=xe===0){var K=String(p.D).match(ZT)[1]||null;!K&&l.self&&l.self.location&&(K=l.self.location.protocol.slice(0,-1)),L=!GH.test(K?K.toLowerCase():"")}O=L}if(O)Te(p,"complete"),Te(p,"success");else{p.m=6;try{var J=2<ea(p)?p.g.statusText:""}catch{J=""}p.l=J+" ["+p.Z()+"]",lk(p)}}finally{Wg(p)}}}}function Wg(p,T){if(p.g){uk(p);const O=p.g,L=p.v[0]?()=>{}:null;p.g=null,p.v=null,T||Te(p,"ready");try{O.onreadystatechange=L}catch{}}}function uk(p){p.I&&(l.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function ea(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<ea(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),xs(T)}};function dk(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function KH(p){const T={};p=(p.g&&2<=ea(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<p.length;L++){if(b(p[L]))continue;var O=A(p[L]);const K=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const J=T[K]||[];T[K]=J,J.push(O)}j(T,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function of(p,T,O){return O&&O.internalChannelParams&&O.internalChannelParams[p]||T}function hk(p){this.Aa=0,this.i=[],this.j=new Zh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=of("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=of("baseRetryDelayMs",5e3,p),this.cb=of("retryDelaySeedMs",1e4,p),this.Wa=of("forwardChannelMaxRetries",2,p),this.wa=of("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new qT(p&&p.concurrentRequestLimit),this.Da=new WH,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hk.prototype,t.la=8,t.G=1,t.connect=function(p,T,O,L){br(0),this.W=p,this.H=T||{},O&&L!==void 0&&(this.H.OSID=O,this.H.OAID=L),this.F=this.X,this.I=wk(this,null,this.W),Gg(this)};function a1(p){if(fk(p),p.G==3){var T=p.U++,O=Zs(p.I);if($t(O,"SID",p.K),$t(O,"RID",T),$t(O,"TYPE","terminate"),lf(p,O),T=new io(p,p.j,T),T.L=2,T.v=Bg(Zs(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(T.v.toString(),"")}catch{}!O&&l.Image&&(new Image().src=T.v,O=!0),O||(T.g=_k(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Lg(T)}bk(p)}function Hg(p){p.g&&(l1(p),p.g.cancel(),p.g=null)}function fk(p){Hg(p),p.u&&(l.clearTimeout(p.u),p.u=null),qg(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&l.clearTimeout(p.s),p.s=null)}function Gg(p){if(!KT(p.h)&&!p.s){p.s=!0;var T=p.Ga;M||X(),F||(M(),F=!0),U.add(T,p),p.B=0}}function YH(p,T){return YT(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=T.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Jh(f(p.Ga,p,T),xk(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const K=new io(this,this.j,p);let J=this.o;if(this.S&&(J?(J=_(J),E(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var T=0,O=0;O<this.i.length;O++){t:{var L=this.i[O];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(T+=L,4096<T){T=O;break e}if(T===4096||O===this.i.length-1){T=O+1;break e}}T=1e3}else T=1e3;T=pk(this,K,T),O=Zs(this.I),$t(O,"RID",p),$t(O,"CVER",22),this.D&&$t(O,"X-HTTP-Session-Id",this.D),lf(this,O),J&&(this.O?T="headers="+encodeURIComponent(String(ak(J)))+"&"+T:this.m&&s1(O,this.m,J)),i1(this.h,K),this.Ua&&$t(O,"TYPE","init"),this.P?($t(O,"$req",T),$t(O,"SID","null"),K.T=!0,e1(K,O,null)):e1(K,O,T),this.G=2}}else this.G==3&&(p?mk(this,p):this.i.length==0||KT(this.h)||mk(this))};function mk(p,T){var O;T?O=T.l:O=p.U++;const L=Zs(p.I);$t(L,"SID",p.K),$t(L,"RID",O),$t(L,"AID",p.T),lf(p,L),p.m&&p.o&&s1(L,p.m,p.o),O=new io(p,p.j,O,p.B+1),p.m===null&&(O.H=p.o),T&&(p.i=T.D.concat(p.i)),T=pk(p,O,1e3),O.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),i1(p.h,O),e1(O,L,T)}function lf(p,T){p.H&&P(p.H,function(O,L){$t(T,L,O)}),p.l&&JT({},function(O,L){$t(T,L,O)})}function pk(p,T,O){O=Math.min(p.i.length,O);var L=p.l?f(p.l.Na,p.l,p):null;e:{var K=p.i;let J=-1;for(;;){const xe=["count="+O];J==-1?0<O?(J=K[0].g,xe.push("ofs="+J)):J=0:xe.push("ofs="+J);let Pt=!0;for(let Un=0;Un<O;Un++){let pt=K[Un].g;const Zn=K[Un].map;if(pt-=J,0>pt)J=Math.max(0,K[Un].g-100),Pt=!1;else try{HH(Zn,xe,"req"+pt+"_")}catch{L&&L(Zn)}}if(Pt){L=xe.join("&");break e}}}return p=p.i.splice(0,O),T.D=p,L}function gk(p){if(!p.g&&!p.u){p.Y=1;var T=p.Fa;M||X(),F||(M(),F=!0),U.add(T,p),p.v=0}}function o1(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Jh(f(p.Fa,p),xk(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,yk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Jh(f(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,br(10),Hg(this),yk(this))};function l1(p){p.A!=null&&(l.clearTimeout(p.A),p.A=null)}function yk(p){p.g=new io(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var T=Zs(p.qa);$t(T,"RID","rpc"),$t(T,"SID",p.K),$t(T,"AID",p.T),$t(T,"CI",p.F?"0":"1"),!p.F&&p.ja&&$t(T,"TO",p.ja),$t(T,"TYPE","xmlhttp"),lf(p,T),p.m&&p.o&&s1(T,p.m,p.o),p.L&&(p.g.I=p.L);var O=p.g;p=p.ia,O.L=1,O.v=Bg(Zs(T)),O.m=null,O.P=!0,WT(O,p)}t.Za=function(){this.C!=null&&(this.C=null,Hg(this),o1(this),br(19))};function qg(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function vk(p,T){var O=null;if(p.g==T){qg(p),l1(p),p.g=null;var L=2}else if(r1(p.h,T))O=T.D,QT(p.h,T),L=1;else return;if(p.G!=0){if(T.o)if(L==1){O=T.m?T.m.length:0,T=Date.now()-T.F;var K=p.B;L=Mg(),Te(L,new VT(L,O)),Gg(p)}else gk(p);else if(K=T.s,K==3||K==0&&0<T.X||!(L==1&&YH(p,T)||L==2&&o1(p)))switch(O&&0<O.length&&(T=p.h,T.i=T.i.concat(O)),K){case 1:Il(p,5);break;case 4:Il(p,10);break;case 3:Il(p,6);break;default:Il(p,2)}}}function xk(p,T){let O=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(O*=2),O*T}function Il(p,T){if(p.j.info("Error code "+T),T==2){var O=f(p.fb,p),L=p.Xa;const K=!L;L=new Pl(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Fg(L,"https"),Bg(L),K?UH(L.toString(),O):zH(L.toString(),O)}else br(2);p.G=0,p.l&&p.l.sa(T),bk(p),fk(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),br(2)):(this.j.info("Failed to ping google.com"),br(1))};function bk(p){if(p.G=0,p.ka=[],p.l){const T=XT(p.h);(T.length!=0||p.i.length!=0)&&(y(p.ka,T),y(p.ka,p.i),p.h.i.length=0,v(p.i),p.i.length=0),p.l.ra()}}function wk(p,T,O){var L=O instanceof Pl?Zs(O):new Pl(O);if(L.g!="")T&&(L.g=T+"."+L.g),Vg(L,L.s);else{var K=l.location;L=K.protocol,T=T?T+"."+K.hostname:K.hostname,K=+K.port;var J=new Pl(null);L&&Fg(J,L),T&&(J.g=T),K&&Vg(J,K),O&&(J.l=O),L=J}return O=p.D,T=p.ya,O&&T&&$t(L,O,T),$t(L,"VER",p.la),lf(p,L),L}function _k(p,T,O){if(T&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Ca&&!p.pa?new an(new Ug({eb:O})):new an(p.pa),T.Ha(p.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sk(){}t=Sk.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kg(){}Kg.prototype.g=function(p,T){return new ti(p,T)};function ti(p,T){Be.call(this),this.g=new hk(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(p?p["X-WebChannel-Client-Profile"]=T.va:p={"X-WebChannel-Client-Profile":T.va}),this.g.S=p,(p=T&&T.Sb)&&!b(p)&&(this.g.m=p),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!b(T)&&(this.g.D=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new Zc(this)}g(ti,Be),ti.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ti.prototype.close=function(){a1(this.g)},ti.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var O={};O.__data__=p,p=O}else this.u&&(O={},O.__data__=Tl(p),p=O);T.i.push(new IH(T.Ya++,p)),T.G==3&&Gg(T)},ti.prototype.N=function(){this.g.l=null,delete this.j,a1(this.g),delete this.g,ti.aa.N.call(this)};function Nk(p){Dr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const O in T){p=O;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}g(Nk,Dr);function jk(){ro.call(this),this.status=1}g(jk,ro);function Zc(p){this.g=p}g(Zc,Sk),Zc.prototype.ua=function(){Te(this.g,"a")},Zc.prototype.ta=function(p){Te(this.g,new Nk(p))},Zc.prototype.sa=function(p){Te(this.g,new jk)},Zc.prototype.ra=function(){Te(this.g,"b")},Kg.prototype.createWebChannel=Kg.prototype.g,ti.prototype.send=ti.prototype.o,ti.prototype.open=ti.prototype.m,ti.prototype.close=ti.prototype.close,cF=function(){return new Kg},lF=function(){return Mg()},oF=Js,pN={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dg.NO_ERROR=0,Dg.TIMEOUT=8,Dg.HTTP_ERROR=6,m0=Dg,BT.COMPLETE="complete",aF=BT,Nt.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Be.prototype.listen=Be.prototype.K,Uf=Nt,an.prototype.listenOnce=an.prototype.L,an.prototype.getLastError=an.prototype.Ka,an.prototype.getLastErrorCode=an.prototype.Ba,an.prototype.getStatus=an.prototype.Z,an.prototype.getResponseJson=an.prototype.Oa,an.prototype.getResponseText=an.prototype.oa,an.prototype.send=an.prototype.ea,an.prototype.setWithCredentials=an.prototype.Ha,sF=an}).apply(typeof wy<"u"?wy:typeof self<"u"?self:typeof window<"u"?window:{});const tO="@firebase/firestore",nO="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Nb("@firebase/firestore");function du(){return Sc.logLevel}function ke(t,...e){if(Sc.logLevel<=rt.DEBUG){const n=e.map(tC);Sc.debug(`Firestore (${Sh}): ${t}`,...n)}}function Ma(t,...e){if(Sc.logLevel<=rt.ERROR){const n=e.map(tC);Sc.error(`Firestore (${Sh}): ${t}`,...n)}}function Nd(t,...e){if(Sc.logLevel<=rt.WARN){const n=e.map(tC);Sc.warn(`Firestore (${Sh}): ${t}`,...n)}}function tC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uF(t,r,n)}function uF(t,e,n){let r=`FIRESTORE (${Sh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ma(r),new Error(r)}function St(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||uF(e,i,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ha{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lr.UNAUTHENTICATED))}shutdown(){}}class eie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tie{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){St(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _a,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _a)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string",31837,{l:r}),new dF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string",2055,{h:e}),new lr(e)}}class nie{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rie{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new nie(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iie{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){St(this.o===void 0,3512);const r=s=>{s.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=sie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function gN(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return nt(r,i);{const s=hF(),a=aie(s.encode(iO(t,n)),s.encode(iO(e,n)));return a!==0?a:nt(r,i)}}n+=r>65535?2:1}return nt(t.length,e.length)}function iO(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function aie(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return nt(t[n],e[n]);return nt(t.length,e.length)}function jd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=-62135596800,aO=1e6;class Pn{static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aO);return new Pn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sO)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aO}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Pn(0,0))}static max(){return new Ke(new Pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="__name__";class _s{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _s.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _s?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=_s.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return nt(e.length,n.length)}static compareSegments(e,n){const r=_s.isNumericId(e),i=_s.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_s.extractNumericId(e).compare(_s.extractNumericId(n)):gN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qo.fromString(e.substring(4,e.length-2))}}class Wt extends _s{construct(e,n,r){return new Wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Wt(n)}static emptyPath(){return new Wt([])}}const oie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends _s{construct(e,n,r){return new qn(e,n,r)}static isValidIdentifier(e){return oie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oO}static keyField(){return new qn([oO])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ee(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ee(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ee(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Ee(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(n)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Wt.fromString(e))}static fromName(e){return new Fe(Wt.fromString(e).popFirst(5))}static empty(){return new Fe(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=-1;function lie(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new Pn(n+1,0):new Pn(n,r));return new cl(i,Fe.empty(),e)}function cie(t){return new cl(t.readTime,t.key,ep)}class cl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cl(Ke.min(),Fe.empty(),ep)}static max(){return new cl(Ke.max(),Fe.empty(),ep)}}function uie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Fe.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const die="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==die)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new se((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(h=>{a[u]=h,++l,l===s&&r(a)},h=>i(h))}})}static doWhile(e,n){return new se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function fie(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Tb.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=-1;function kb(t){return t==null}function mv(t){return t===0&&1/t==-1/0}function mie(t){return typeof t=="number"&&Number.isInteger(t)&&!mv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="";function pie(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lO(e)),e=gie(t.get(n),e);return lO(e)}function gie(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case mF:n+="";break;default:n+=s}}return n}function lO(t){return t+mF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wn=class yN{constructor(e,n){this.comparator=e,this.root=n||Xo.EMPTY}insert(e,n){return new yN(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xo.BLACK,null,null))}remove(e){return new yN(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _y(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _y(this.root,e,this.comparator,!1)}getReverseIterator(){return new _y(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _y(this.root,e,this.comparator,!0)}},_y=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Xo=class ia{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ia.RED,this.left=i??ia.EMPTY,this.right=s??ia.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ia(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ia.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ia.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ia.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ia.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}};Xo.EMPTY=null,Xo.RED=!0,Xo.BLACK=!1;Xo.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Xo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uO(this.data.getIterator())}getIteratorFrom(e){return new uO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new In(this.comparator);return n.data=e,n}}class uO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new di([])}unionWith(e){let n=new In(qn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gF("Invalid base64 string: "+s):s}}(e);return new Xn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const yie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(t){if(St(!!t,39018),typeof t=="string"){let e=0;const n=yie.exec(t);if(St(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dn(t.seconds),nanos:dn(t.nanos)}}function dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dl(t){return typeof t=="string"?Xn.fromBase64String(t):Xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF="server_timestamp",vF="__type__",xF="__previous_value__",bF="__local_write_time__";function rC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vF])===null||n===void 0?void 0:n.stringValue)===yF}function Pb(t){const e=t.mapValue.fields[xF];return rC(e)?Pb(e):e}function tp(t){const e=ul(t.mapValue.fields[bF].timestampValue);return new Pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(e,n,r,i,s,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const pv="(default)";class np{constructor(e,n){this.projectId=e,this.database=n||pv}static empty(){return new np("","")}get isDefaultDatabase(){return this.database===pv}isEqual(e){return e instanceof np&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="__type__",_F="__max__",Sy={mapValue:{fields:{__type__:{stringValue:_F}}}},SF="__vector__",gv="value";function hl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rC(t)?4:bie(t)?9007199254740991:xie(t)?10:11:ze(28295,{value:t})}function Hs(t,e){if(t===e)return!0;const n=hl(t);if(n!==hl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tp(t).isEqual(tp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ul(i.timestampValue),l=ul(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return dl(i.bytesValue).isEqual(dl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dn(i.geoPointValue.latitude)===dn(s.geoPointValue.latitude)&&dn(i.geoPointValue.longitude)===dn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dn(i.integerValue)===dn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=dn(i.doubleValue),l=dn(s.doubleValue);return a===l?mv(a)===mv(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return jd(t.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(cO(a)!==cO(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Hs(a[c],l[c])))return!1;return!0}(t,e);default:return ze(52216,{left:t})}}function rp(t,e){return(t.values||[]).find(n=>Hs(n,e))!==void 0}function Ed(t,e){if(t===e)return 0;const n=hl(t),r=hl(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=dn(s.integerValue||s.doubleValue),c=dn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return dO(t.timestampValue,e.timestampValue);case 4:return dO(tp(t),tp(e));case 5:return gN(t.stringValue,e.stringValue);case 6:return function(s,a){const l=dl(s),c=dl(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=nt(l[u],c[u]);if(h!==0)return h}return nt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=nt(dn(s.latitude),dn(a.latitude));return l!==0?l:nt(dn(s.longitude),dn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hO(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,c,u,h;const d=s.fields||{},f=a.fields||{},m=(l=d[gv])===null||l===void 0?void 0:l.arrayValue,g=(c=f[gv])===null||c===void 0?void 0:c.arrayValue,v=nt(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=g==null?void 0:g.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:hO(m,g)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Sy.mapValue&&a===Sy.mapValue)return 0;if(s===Sy.mapValue)return 1;if(a===Sy.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let d=0;d<c.length&&d<h.length;++d){const f=gN(c[d],h[d]);if(f!==0)return f;const m=Ed(l[c[d]],u[h[d]]);if(m!==0)return m}return nt(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ze(23264,{Pe:n})}}function dO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=ul(t),r=ul(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function hO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ed(n[i],r[i]);if(s)return s}return nt(n.length,r.length)}function Cd(t){return vN(t)}function vN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ul(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=vN(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${vN(n.fields[a])}`;return i+"}"}(t.mapValue):ze(61005,{value:t})}function p0(t){switch(hl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pb(t);return e?16+p0(e):16;case 5:return 2*t.stringValue.length;case 6:return dl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+p0(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Sl(r.fields,(s,a)=>{i+=s.length+p0(a)}),i}(t.mapValue);default:throw ze(13486,{value:t})}}function fO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xN(t){return!!t&&"integerValue"in t}function iC(t){return!!t&&"arrayValue"in t}function mO(t){return!!t&&"nullValue"in t}function pO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function g0(t){return!!t&&"mapValue"in t}function xie(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wF])===null||n===void 0?void 0:n.stringValue)===SF}function om(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=om(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=om(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bie(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_F}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!g0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=om(n)}setAll(e){let n=qn.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=om(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());g0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];g0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Sl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vr(om(this.value))}}function NF(t){const e=[];return Sl(t.fields,(n,r)=>{const i=new qn([n]);if(g0(r)){const s=NF(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ur(e,0,Ke.min(),Ke.min(),Ke.min(),Vr.empty(),0)}static newFoundDocument(e,n,r,i){return new ur(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new ur(e,2,n,Ke.min(),Ke.min(),Vr.empty(),0)}static newUnknownDocument(e,n){return new ur(e,3,n,Ke.min(),Ke.min(),Vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n){this.position=e,this.inclusive=n}}function gO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Fe.comparator(Fe.fromName(a.referenceValue),n.key):r=Ed(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function yO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n="asc"){this.field=e,this.dir=n}}function wie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{}class yn extends jF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sie(e,n,r):n==="array-contains"?new Eie(e,r):n==="in"?new Cie(e,r):n==="not-in"?new Aie(e,r):n==="array-contains-any"?new Tie(e,r):new yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Nie(e,r):new jie(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ed(n,this.value)):n!==null&&hl(this.value)===hl(n)&&this.matchesComparison(Ed(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gs extends jF{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new gs(e,n)}matches(e){return EF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function EF(t){return t.op==="and"}function CF(t){return _ie(t)&&EF(t)}function _ie(t){for(const e of t.filters)if(e instanceof gs)return!1;return!0}function bN(t){if(t instanceof yn)return t.field.canonicalString()+t.op.toString()+Cd(t.value);if(CF(t))return t.filters.map(e=>bN(e)).join(",");{const e=t.filters.map(n=>bN(n)).join(",");return`${t.op}(${e})`}}function AF(t,e){return t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.field.isEqual(i.field)&&Hs(r.value,i.value)}(t,e):t instanceof gs?function(r,i){return i instanceof gs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&AF(a,i.filters[l]),!0):!1}(t,e):void ze(19439)}function TF(t){return t instanceof yn?function(n){return`${n.field.canonicalString()} ${n.op} ${Cd(n.value)}`}(t):t instanceof gs?function(n){return n.op.toString()+" {"+n.getFilters().map(TF).join(" ,")+"}"}(t):"Filter"}class Sie extends yn{constructor(e,n,r){super(e,n,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const n=Fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nie extends yn{constructor(e,n){super(e,"in",n),this.keys=kF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jie extends yn{constructor(e,n){super(e,"not-in",n),this.keys=kF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Fe.fromName(r.referenceValue))}class Eie extends yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iC(n)&&rp(n.arrayValue,this.value)}}class Cie extends yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rp(this.value.arrayValue,n)}}class Aie extends yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(rp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rp(this.value.arrayValue,n)}}class Tie extends yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function vO(t,e=null,n=[],r=[],i=null,s=null,a=null){return new kie(t,e,n,r,i,s,a)}function sC(t){const e=Ye(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bN(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),kb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cd(r)).join(",")),e.Ie=n}return e.Ie}function aC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yO(t.startAt,e.startAt)&&yO(t.endAt,e.endAt)}function wN(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Pie(t,e,n,r,i,s,a,l){return new Eh(t,e,n,r,i,s,a,l)}function Ib(t){return new Eh(t)}function xO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PF(t){return t.collectionGroup!==null}function lm(t){const e=Ye(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new In(qn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new ip(s,r))}),n.has(qn.keyField().canonicalString())||e.Ee.push(new ip(qn.keyField(),r))}return e.Ee}function $s(t){const e=Ye(t);return e.de||(e.de=Iie(e,lm(t))),e.de}function Iie(t,e){if(t.limitType==="F")return vO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ip(i.field,s)});const n=t.endAt?new yv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yv(t.startAt.position,t.startAt.inclusive):null;return vO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _N(t,e){const n=t.filters.concat([e]);return new Eh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vv(t,e,n){return new Eh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ob(t,e){return aC($s(t),$s(e))&&t.limitType===e.limitType}function IF(t){return`${sC($s(t))}|lt:${t.limitType}`}function hu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TF(i)).join(", ")}]`),kb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Cd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Cd(i)).join(",")),`Target(${r})`}($s(t))}; limitType=${t.limitType})`}function Rb(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of lm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const u=gO(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,lm(r),i)||r.endAt&&!function(a,l,c){const u=gO(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,lm(r),i))}(t,e)}function Oie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OF(t){return(e,n)=>{let r=!1;for(const i of lm(t)){const s=Rie(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Rie(t,e,n){const r=t.field.isKeyField()?Fe.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Ed(c,u):ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mie=new wn(Fe.comparator);function Da(){return Mie}const RF=new wn(Fe.comparator);function zf(...t){let e=RF;for(const n of t)e=e.insert(n.key,n);return e}function MF(t){let e=RF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ql(){return cm()}function DF(){return cm()}function cm(){return new Vc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Die=new wn(Fe.comparator),$ie=new In(Fe.comparator);function ot(...t){let e=$ie;for(const n of t)e=e.add(n);return e}const Lie=new In(nt);function Fie(){return Lie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mv(e)?"-0":e}}function $F(t){return{integerValue:""+t}}function LF(t,e){return mie(e)?$F(e):oC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this._=void 0}}function Vie(t,e,n){return t instanceof sp?function(i,s){const a={fields:{[vF]:{stringValue:yF},[bF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&rC(s)&&(s=Pb(s)),s&&(a.fields[xF]=s),{mapValue:a}}(n,e):t instanceof Ad?VF(t,e):t instanceof Td?BF(t,e):function(i,s){const a=FF(i,s),l=bO(a)+bO(i.Re);return xN(a)&&xN(i.Re)?$F(l):oC(i.serializer,l)}(t,e)}function Bie(t,e,n){return t instanceof Ad?VF(t,e):t instanceof Td?BF(t,e):n}function FF(t,e){return t instanceof ap?function(r){return xN(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class sp extends Mb{}class Ad extends Mb{constructor(e){super(),this.elements=e}}function VF(t,e){const n=UF(e);for(const r of t.elements)n.some(i=>Hs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Td extends Mb{constructor(e){super(),this.elements=e}}function BF(t,e){let n=UF(e);for(const r of t.elements)n=n.filter(i=>!Hs(i,r));return{arrayValue:{values:n}}}class ap extends Mb{constructor(e,n){super(),this.serializer=e,this.Re=n}}function bO(t){return dn(t.integerValue||t.doubleValue)}function UF(t){return iC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.field=e,this.transform=n}}function Uie(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ad&&i instanceof Ad||r instanceof Td&&i instanceof Td?jd(r.elements,i.elements,Hs):r instanceof ap&&i instanceof ap?Hs(r.Re,i.Re):r instanceof sp&&i instanceof sp}(t.transform,e.transform)}class zie{constructor(e,n){this.version=e,this.transformResults=n}}class Pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function y0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $b{}function zF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lb(t.key,Pr.none()):new dg(t.key,t.data,Pr.none());{const n=t.data,r=Vr.empty();let i=new In(qn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Nl(t.key,r,new di(i.toArray()),Pr.none())}}function Wie(t,e,n){t instanceof dg?function(i,s,a){const l=i.value.clone(),c=_O(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Nl?function(i,s,a){if(!y0(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=_O(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(WF(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function um(t,e,n,r){return t instanceof dg?function(s,a,l,c){if(!y0(s.precondition,a))return l;const u=s.value.clone(),h=SO(s.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Nl?function(s,a,l,c){if(!y0(s.precondition,a))return l;const u=SO(s.fieldTransforms,c,a),h=a.data;return h.setAll(WF(s)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,a,l){return y0(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Hie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FF(r.transform,i||null);s!=null&&(n===null&&(n=Vr.empty()),n.set(r.field,s))}return n||null}function wO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jd(r,i,(s,a)=>Uie(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dg extends $b{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nl extends $b{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _O(t,e,n){const r=new Map;St(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,Bie(a,l,n[i]))}return r}function SO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Vie(s,a,e))}return r}class Lb extends $b{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gie extends $b{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qie{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Wie(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=um(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=um(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DF();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=zF(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&jd(this.mutations,e.mutations,(n,r)=>wO(n,r))&&jd(this.baseMutations,e.baseMutations,(n,r)=>wO(n,r))}}class lC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){St(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Die}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new lC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kie=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yie{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,ct;function Qie(t){switch(t){case re.OK:return ze(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function HF(t){if(t===void 0)return Ma("GRPC error has no .code"),re.UNKNOWN;switch(t){case mn.OK:return re.OK;case mn.CANCELLED:return re.CANCELLED;case mn.UNKNOWN:return re.UNKNOWN;case mn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case mn.INTERNAL:return re.INTERNAL;case mn.UNAVAILABLE:return re.UNAVAILABLE;case mn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case mn.NOT_FOUND:return re.NOT_FOUND;case mn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case mn.ABORTED:return re.ABORTED;case mn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case mn.DATA_LOSS:return re.DATA_LOSS;default:return ze(39323,{code:t})}}(ct=mn||(mn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie=new Qo([4294967295,4294967295],0);function NO(t){const e=hF().encode(t),n=new iF;return n.update(e),new Uint8Array(n.digest())}function jO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([i,s],0)]}class cC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wf(`Invalid padding: ${n}`);if(r<0)throw new Wf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wf(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Qo.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Qo.fromNumber(r)));return i.compare(Xie)===1&&(i=new Qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=NO(e),[r,i]=jO(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);if(!this.be(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new cC(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=NO(e),[r,i]=jO(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fb(Ke.min(),i,new wn(nt),Da(),ot())}}class hg{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hg(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class GF{constructor(e,n){this.targetId=e,this.Ce=n}}class qF{constructor(e,n,r=Xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class EO{constructor(){this.Fe=0,this.Me=CO(),this.xe=Xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ot(),n=ot(),r=ot();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ze(38017,{changeType:s})}}),new hg(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=CO()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,St(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Jie{constructor(e){this.ze=e,this.je=new Map,this.He=Da(),this.Je=Ny(),this.Ye=Ny(),this.Ze=new wn(nt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(wN(s))if(r===0){const a=new Fe(s.path);this.tt(n,a,ur.newNoDocument(a,Ke.min()))}else St(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=dl(r).toUint8Array()}catch(c){if(c instanceof gF)return Nd("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new cC(a,i,s)}catch(c){return Nd(c instanceof Wf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&wN(l.target)){const c=new Fe(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,ur.newNoDocument(c,e))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let r=ot();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const i=new Fb(e,n,this.Ze,this.He,r);return this.He=Da(),this.Je=Ny(),this.Ye=Ny(),this.Ze=new wn(nt),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new EO,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new In(nt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new In(nt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new EO),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ny(){return new wn(Fe.comparator)}function CO(){return new wn(Fe.comparator)}const Zie={asc:"ASCENDING",desc:"DESCENDING"},ese={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tse={and:"AND",or:"OR"};class nse{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function SN(t,e){return t.useProto3Json||kb(e)?e:{value:e}}function xv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rse(t,e){return xv(t,e.toTimestamp())}function Ls(t){return St(!!t,49232),Ke.fromTimestamp(function(n){const r=ul(n);return new Pn(r.seconds,r.nanos)}(t))}function uC(t,e){return NN(t,e).canonicalString()}function NN(t,e){const n=function(i){return new Wt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YF(t){const e=Wt.fromString(t);return St(e7(e),10190,{key:e.toString()}),e}function jN(t,e){return uC(t.databaseId,e.path)}function e_(t,e){const n=YF(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fe(XF(n))}function QF(t,e){return uC(t.databaseId,e)}function ise(t){const e=YF(t);return e.length===4?Wt.emptyPath():XF(e)}function EN(t){return new Wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XF(t){return St(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AO(t,e,n){return{name:jN(t,e),fields:n.value.mapValue.fields}}function sse(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ze(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(St(h===void 0||typeof h=="string",58123),Xn.fromBase64String(h||"")):(St(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Xn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const h=u.code===void 0?re.UNKNOWN:HF(u.code);return new Ee(h,u.message||"")}(a);n=new qF(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=e_(t,r.document.name),s=Ls(r.document.updateTime),a=r.document.createTime?Ls(r.document.createTime):Ke.min(),l=new Vr({mapValue:{fields:r.document.fields}}),c=ur.newFoundDocument(i,s,a,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new v0(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=e_(t,r.document),s=r.readTime?Ls(r.readTime):Ke.min(),a=ur.newNoDocument(i,s),l=r.removedTargetIds||[];n=new v0([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=e_(t,r.document),s=r.removedTargetIds||[];n=new v0([],s,i,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Yie(i,s),l=r.targetId;n=new GF(l,a)}}return n}function ase(t,e){let n;if(e instanceof dg)n={update:AO(t,e.key,e.value)};else if(e instanceof Lb)n={delete:jN(t,e.key)};else if(e instanceof Nl)n={update:AO(t,e.key,e.data),updateMask:pse(e.fieldMask)};else{if(!(e instanceof Gie))return ze(16599,{ft:e.type});n={verify:jN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof sp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ad)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Td)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ap)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw ze(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:rse(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ze(27497)}(t,e.precondition)),n}function ose(t,e){return t&&t.length>0?(St(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Ls(i.updateTime):Ls(s);return a.isEqual(Ke.min())&&(a=Ls(s)),new zie(a,i.transformResults||[])}(n,e))):[]}function lse(t,e){return{documents:[QF(t,e.path)]}}function cse(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QF(t,i);const s=function(u){if(u.length!==0)return ZF(gs.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:fu(f.field),direction:hse(f.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=SN(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function use(t){let e=ise(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){St(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=JF(d);return f instanceof gs&&CF(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(f=>function(g){return new ip(mu(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(d){let f;return f=typeof d=="object"?d.value:d,kb(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(d){const f=!!d.before,m=d.values||[];return new yv(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,m=d.values||[];return new yv(m,f)}(n.endAt)),Pie(e,i,a,s,l,"F",c,u)}function dse(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mu(n.unaryFilter.field);return yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mu(n.unaryFilter.field);return yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mu(n.unaryFilter.field);return yn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=mu(n.unaryFilter.field);return yn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return yn.create(mu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gs.create(n.compositeFilter.filters.map(r=>JF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(n.compositeFilter.op))}(t):ze(30097,{filter:t})}function hse(t){return Zie[t]}function fse(t){return ese[t]}function mse(t){return tse[t]}function fu(t){return{fieldPath:t.canonicalString()}}function mu(t){return qn.fromServerFormat(t.fieldPath)}function ZF(t){return t instanceof yn?function(n){if(n.op==="=="){if(pO(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NAN"}};if(mO(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pO(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NAN"}};if(mO(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(n.field),op:fse(n.op),value:n.value}}}(t):t instanceof gs?function(n){const r=n.getFilters().map(i=>ZF(i));return r.length===1?r[0]:{compositeFilter:{op:mse(n.op),filters:r}}}(t):ze(54877,{filter:t})}function pse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function e7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n,r,i,s=Ke.min(),a=Ke.min(),l=Xn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e){this.wt=e}}function yse(t){const e=use({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vse{constructor(){this.Cn=new xse}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(cl.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(cl.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class xse{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new In(Wt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new In(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t7=41943040;class $r{static withCacheSize(e){return new $r(e,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(t7,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new kd(0)}static lr(){return new kd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="LruGarbageCollector",bse=1048576;function PO([t,e],[n,r]){const i=nt(t,n);return i===0?nt(e,r):i}class wse{constructor(e){this.Er=e,this.buffer=new In(PO),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();PO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _se{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ke(kO,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jh(n)?ke(kO,"Ignoring IndexedDB error during garbage collection: ",n):await Nh(n)}await this.mr(3e5)})}}class Sse{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Tb.le);const r=new wse(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(TO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TO):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,a,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,l=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),du()<=rt.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function Nse(t,e){return new Sse(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jse{constructor(){this.changes=new Vc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&um(r.mutation,i,di.empty(),Pn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=Ql();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=zf();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ql();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=Da();const a=cm(),l=function(){return cm()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Nl)?s=s.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),um(h.mutation,u,h.mutation.getFieldMask(),Pn.now())):a.set(u.key,di.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var d;return l.set(u,new Ese(h,(d=a.get(u))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,n){const r=cm();let i=new wn((a,l)=>a-l),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||di.empty();h=l.applyToLocalView(u,h),r.set(c,h);const d=(i.get(l.batchId)||ot()).add(c);i=i.insert(l.batchId,d)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,d=DF();h.forEach(f=>{if(!s.has(f)){const m=zF(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return se.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):se.resolve(Ql());let l=ep,c=s;return a.next(u=>se.forEach(u,(h,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),s.get(h)?se.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{c=c.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ot())).next(h=>({batchId:l,changes:MF(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Fe(n)).next(r=>{let i=zf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=zf();return this.indexManager.getCollectionParents(e,s).next(l=>se.forEach(l,c=>{const u=function(d,f){return new Eh(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{a=a.insert(d,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,ur.newInvalidDocument(h)))});let l=zf();return a.forEach((c,u)=>{const h=s.get(c);h!==void 0&&um(h.mutation,u,di.empty(),Pn.now()),Rb(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return se.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ls(i.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:yse(i.bundledQuery),readTime:Ls(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse{constructor(){this.overlays=new wn(Fe.comparator),this.Qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ql();return se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=Ql(),s=n.length+1,a=new Fe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new wn((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Ql(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Ql(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=i)););return se.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Kie(n,r));let s=this.Qr.get(n);s===void 0&&(s=ot(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.$r=new In(Mn.Ur),this.Kr=new In(Mn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Mn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Mn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Fe(new Wt([])),r=new Mn(n,e),i=new Mn(n,e+1),s=[];return this.Kr.forEachInRange([r,i],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Fe(new Wt([])),r=new Mn(n,e),i=new Mn(n,e+1);let s=ot();return this.Kr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Mn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Fe.comparator(e.key,n.key)||nt(e.Zr,n.Zr)}static Wr(e,n){return nt(e.Zr,n.Zr)||Fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new In(Mn.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new qie(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Xr=this.Xr.add(new Mn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return se.resolve(a)}lookupMutationBatch(e,n){return se.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?nC:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mn(n,0),i=new Mn(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],a=>{const l=this.ei(a.Zr);s.push(l)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new In(nt);return n.forEach(i=>{const s=new Mn(i,0),a=new Mn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{r=r.add(l.Zr)})}),se.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Fe.isDocumentKey(s)||(s=s.child(""));const a=new Mn(new Fe(s),0);let l=new In(nt);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Zr)),!0)},a),se.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){St(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return se.forEach(n.mutations,i=>{const s=new Mn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Mn(n,0),i=this.Xr.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{constructor(e){this.ii=e,this.docs=function(){return new wn(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():ur.newInvalidDocument(n))}getEntries(e,n){let r=Da();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ur.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Da();const a=n.path,l=new Fe(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||uie(cie(h),r)<=0||(i.has(h.key)||Rb(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ze(9500)}si(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ose(this)}getSize(e){return se.resolve(this.size)}}class Ose extends jse{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(e){this.persistence=e,this.oi=new Vc(n=>sC(n),aC),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this._i=0,this.ai=new dC,this.targetCount=0,this.ui=kd.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),se.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new kd(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Tr(n),se.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n){this.ci={},this.overlays={},this.li=new Tb(0),this.hi=!1,this.hi=!0,this.Pi=new kse,this.referenceDelegate=e(this),this.Ti=new Rse(this),this.indexManager=new vse,this.remoteDocumentCache=function(i){return new Ise(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new gse(n),this.Ei=new Ase(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new Pse(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new Mse(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return se.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Mse extends hie{constructor(e){super(),this.currentSequenceNumber=e}}class hC{constructor(e){this.persistence=e,this.Vi=new dC,this.mi=null}static fi(e){return new hC(e)}get gi(){if(this.mi)return this.mi;throw ze(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,r=>{const i=Fe.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,Ke.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return se.or([()=>se.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class bv{constructor(e,n){this.persistence=e,this.yi=new Vc(r=>pie(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Nse(this,n)}static fi(e,n){return new bv(e,n)}di(){}Ai(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return se.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?se.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,a=>this.Dr(e,a,n).next(l=>{l||(r++,s.removeEntry(a,Ke.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=p0(e.data.value)),n}Dr(e,n,r){return se.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ot(),i=ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return fee()?8:fie(xr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Dse;return this.Ss(e,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(du()<=rt.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(du()<=rt.DEBUG&&ke("QueryEngine","Query:",hu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(du()<=rt.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$s(n))):se.resolve())}ws(e,n){if(xO(n))return se.resolve(null);let r=$s(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vv(n,null,"F"),r=$s(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=ot(...s);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,a,c.readTime)?this.ws(e,vv(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,i){return xO(n)||i.isEqual(Ke.min())?se.resolve(null):this.ys.getDocuments(e,r).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,r,i)?se.resolve(null):(du()<=rt.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hu(n)),this.Fs(e,a,n,lie(i,ep)).next(l=>l))})}vs(e,n){let r=new In(OF(e));return n.forEach((i,s)=>{Rb(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return du()<=rt.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",hu(n)),this.ys.getDocumentsMatchingQuery(e,n,cl.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="LocalStore",Lse=3e8;class Fse{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new wn(nt),this.Os=new Vc(s=>sC(s),aC),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cse(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function Vse(t,e,n,r){return new Fse(t,e,n,r)}async function r7(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=ot();for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:a,addedBatchIds:l}))})})}function Bse(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const d=u.batch,f=d.keys();let m=se.resolve();return f.forEach(g=>{m=m.next(()=>h.getEntry(c,g)).next(v=>{const y=u.docVersions.get(g);St(y!==null,48541),v.version.compareTo(y)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),h.addEntry(v)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ot();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function i7(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Use(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const l=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;l.push(n.Ti.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(s,h.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Xn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(d,m),function(v,y,x){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Lse?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,m,h)&&l.push(n.Ti.updateTargetData(s,m))});let c=Da(),u=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),l.push(zse(s,a,e.documentUpdates).next(h=>{c=h.qs,u=h.Qs})),!r.isEqual(Ke.min())){const h=n.Ti.getLastRemoteSnapshotVersion(s).next(d=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(h)}return se.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.xs=i,s))}function zse(t,e,n){let r=ot(),i=ot();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Da();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ke.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):ke(mC,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:a,Qs:i}})}function Wse(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=nC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hse(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,se.resolve(i)):n.Ti.allocateTargetId(r).next(a=>(i=new Oo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function CN(t,e,n){const r=Ye(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!jh(a))throw a;ke(mC,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function IO(t,e,n){const r=Ye(t);let i=Ke.min(),s=ot();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,h){const d=Ye(c),f=d.Os.get(h);return f!==void 0?se.resolve(d.xs.get(f)):d.Ti.getTargetData(u,h)}(r,a,$s(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,n?i:Ke.min(),n?s:ot())).next(l=>(Gse(r,Oie(e),l),{documents:l,$s:s})))}function Gse(t,e,n){let r=t.Ns.get(e)||Ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class OO{constructor(){this.activeTargetIds=Fie()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qse{constructor(){this.xo=new OO,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new OO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="ConnectivityMonitor";class MO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ke(RO,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ke(RO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jy=null;function AN(){return jy===null?jy=function(){return 268435456+Math.round(2147483648*Math.random())}():jy++,"0x"+jy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="RestConnection",Yse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qse{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===pv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const a=AN(),l=this.jo(e,n.toUriEncodedString());ke(t_,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,s);const{host:u}=new URL(l),h=bl(u);return this.Jo(e,l,c,r,h).then(d=>(ke(t_,`Received RPC '${e}' ${a}: `,d),d),d=>{throw Nd(t_,`RPC '${e}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Yo(e,n,r,i,s,a){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=Yse[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class Jse extends Qse{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=AN();return new Promise((l,c)=>{const u=new sF;u.setWithCredentials(!0),u.listenOnce(aF.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case m0.NO_ERROR:const d=u.getResponseJson();ke(sr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),l(d);break;case m0.TIMEOUT:ke(sr,`RPC '${e}' ${a} timed out`),c(new Ee(re.DEADLINE_EXCEEDED,"Request time out"));break;case m0.HTTP_ERROR:const f=u.getStatus();if(ke(sr,`RPC '${e}' ${a} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const v=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(b)>=0?b:re.UNKNOWN}(g.status);c(new Ee(v,g.message))}else c(new Ee(re.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Ee(re.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{h_:e,streamId:a,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{ke(sr,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);ke(sr,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",h,r,15)})}I_(e,n,r){const i=AN(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=cF(),l=lF(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");ke(sr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const d=a.createWebChannel(h,c);this.E_(d);let f=!1,m=!1;const g=new Xse({Zo:y=>{m?ke(sr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(ke(sr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ke(sr,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},Xo:()=>d.close()}),v=(y,x,b)=>{y.listen(x,w=>{try{b(w)}catch(N){setTimeout(()=>{throw N},0)}})};return v(d,Uf.EventType.OPEN,()=>{m||(ke(sr,`RPC '${e}' stream ${i} transport opened.`),g.__())}),v(d,Uf.EventType.CLOSE,()=>{m||(m=!0,ke(sr,`RPC '${e}' stream ${i} transport closed`),g.u_(),this.d_(d))}),v(d,Uf.EventType.ERROR,y=>{m||(m=!0,Nd(sr,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),g.u_(new Ee(re.UNAVAILABLE,"The operation could not be completed")))}),v(d,Uf.EventType.MESSAGE,y=>{var x;if(!m){const b=y.data[0];St(!!b,16349);const w=b,N=(w==null?void 0:w.error)||((x=w[0])===null||x===void 0?void 0:x.error);if(N){ke(sr,`RPC '${e}' stream ${i} received error:`,N);const S=N.status;let P=function(k){const E=mn[k];if(E!==void 0)return HF(E)}(S),j=N.message;P===void 0&&(P=re.INTERNAL,j="Unknown error status: "+S+" with message "+N.message),m=!0,g.u_(new Ee(P,j)),d.close()}else ke(sr,`RPC '${e}' stream ${i} received:`,b),g.c_(b)}}),v(l,oF.STAT_EVENT,y=>{y.stat===pN.PROXY?ke(sr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===pN.NOPROXY&&ke(sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.a_()},0),g}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function n_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){return new nse(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="PersistentStream";class a7{constructor(e,n,r,i,s,a,l,c){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new s7(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ma(n.toString()),Ma("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new Ee(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ke(DO,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ke(DO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zse extends a7{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=sse(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ke.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ke.min():a.readTime?Ls(a.readTime):Ke.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=EN(this.serializer),n.addTarget=function(s,a){let l;const c=a.target;if(l=wN(c)?{documents:lse(s,c)}:{query:cse(s,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=KF(s,a.resumeToken);const u=SN(s,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ke.min())>0){l.readTime=xv(s,a.snapshotVersion.toTimestamp());const u=SN(s,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=dse(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=EN(this.serializer),n.removeTarget=e,this.Q_(n)}}class eae extends a7{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return St(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){St(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=ose(e.writeResults,e.commitTime),r=Ls(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=EN(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ase(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{}class nae extends tae{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(e,NN(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ee(re.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,NN(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(re.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class rae{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ma(n),this.ua=!1):ke("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="RemoteStore";class iae{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{r.enqueueAndForget(async()=>{Bc(this)&&(ke(Nc,"Restarting streams for network reachability change."),await async function(c){const u=Ye(c);u.da.add(4),await fg(u),u.Va.set("Unknown"),u.da.delete(4),await Bb(u)}(this))})}),this.Va=new rae(r,i)}}async function Bb(t){if(Bc(t))for(const e of t.Aa)await e(!0)}async function fg(t){for(const e of t.Aa)await e(!1)}function o7(t,e){const n=Ye(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),vC(n)?yC(n):Ch(n).N_()&&gC(n,e))}function pC(t,e){const n=Ye(t),r=Ch(n);n.Ea.delete(e),r.N_()&&l7(n,e),n.Ea.size===0&&(r.N_()?r.k_():Bc(n)&&n.Va.set("Unknown"))}function gC(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ch(t).Z_(e)}function l7(t,e){t.ma.Ke(e),Ch(t).X_(e)}function yC(t){t.ma=new Jie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ch(t).start(),t.Va.ca()}function vC(t){return Bc(t)&&!Ch(t).O_()&&t.Ea.size>0}function Bc(t){return Ye(t).da.size===0}function c7(t){t.ma=void 0}async function sae(t){t.Va.set("Online")}async function aae(t){t.Ea.forEach((e,n)=>{gC(t,e)})}async function oae(t,e){c7(t),vC(t)?(t.Va.Pa(e),yC(t)):t.Va.set("Unknown")}async function lae(t,e,n){if(t.Va.set("Online"),e instanceof qF&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ea.delete(l),i.ma.removeTarget(l))}(t,e)}catch(r){ke(Nc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wv(t,r)}else if(e instanceof v0?t.ma.Xe(e):e instanceof GF?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ke.min()))try{const r=await i7(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.Ea.get(u);h&&s.Ea.set(u,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const h=s.Ea.get(c);if(!h)return;s.Ea.set(c,h.withResumeToken(Xn.EMPTY_BYTE_STRING,h.snapshotVersion)),l7(s,c);const d=new Oo(h.target,c,u,h.sequenceNumber);gC(s,d)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ke(Nc,"Failed to raise snapshot:",r),await wv(t,r)}}async function wv(t,e,n){if(!jh(e))throw e;t.da.add(1),await fg(t),t.Va.set("Offline"),n||(n=()=>i7(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke(Nc,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Bb(t)})}function u7(t,e){return e().catch(n=>wv(t,n,e))}async function Ub(t){const e=Ye(t),n=fl(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:nC;for(;cae(e);)try{const i=await Wse(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,uae(e,i)}catch(i){await wv(e,i)}d7(e)&&h7(e)}function cae(t){return Bc(t)&&t.Ia.length<10}function uae(t,e){t.Ia.push(e);const n=fl(t);n.N_()&&n.ea&&n.ta(e.mutations)}function d7(t){return Bc(t)&&!fl(t).O_()&&t.Ia.length>0}function h7(t){fl(t).start()}async function dae(t){fl(t).ia()}async function hae(t){const e=fl(t);for(const n of t.Ia)e.ta(n.mutations)}async function fae(t,e,n){const r=t.Ia.shift(),i=lC.from(r,e,n);await u7(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ub(t)}async function mae(t,e){e&&fl(t).ea&&await async function(r,i){if(function(a){return Qie(a)&&a!==re.ABORTED}(i.code)){const s=r.Ia.shift();fl(r).L_(),await u7(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ub(r)}}(t,e),d7(t)&&h7(t)}async function $O(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),ke(Nc,"RemoteStore received new credentials");const r=Bc(n);n.da.add(3),await fg(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Bb(n)}async function pae(t,e){const n=Ye(t);e?(n.da.delete(2),await Bb(n)):e||(n.da.add(2),await fg(n),n.Va.set("Unknown"))}function Ch(t){return t.fa||(t.fa=function(n,r,i){const s=Ye(n);return s.oa(),new Zse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:sae.bind(null,t),n_:aae.bind(null,t),i_:oae.bind(null,t),Y_:lae.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),vC(t)?yC(t):t.Va.set("Unknown")):(await t.fa.stop(),c7(t))})),t.fa}function fl(t){return t.ga||(t.ga=function(n,r,i){const s=Ye(n);return s.oa(),new eae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:dae.bind(null,t),i_:mae.bind(null,t),na:hae.bind(null,t),ra:fae.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Ub(t)):(await t.ga.stop(),t.Ia.length>0&&(ke(Nc,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new xC(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bC(t,e){if(Ma("AsyncQueue",`${e}: ${t}`),jh(t))return new Ee(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{static emptySet(e){return new Wu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Fe.comparator(n.key,r.key):(n,r)=>Fe.comparator(n.key,r.key),this.keyedMap=zf(),this.sortedSet=new wn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.pa=new wn(Fe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pd{constructor(e,n,r,i,s,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Pd(e,n,Wu.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ob(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class yae{constructor(){this.queries=FO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ye(n),s=i.queries;i.queries=FO(),s.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new Ee(re.ABORTED,"Firestore shutting down"))}}function FO(){return new Vc(t=>IF(t),Ob)}async function wC(t,e){const n=Ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new gae,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=bC(a,`Initialization of query '${hu(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&SC(n)}async function _C(t,e){const n=Ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vae(t,e){const n=Ye(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(i)&&(r=!0);a.ba=i}}r&&SC(n)}function xae(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function SC(t){t.Ca.forEach(e=>{e.next()})}var TN,VO;(VO=TN||(TN={})).xa="default",VO.Cache="cache";class NC{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Pd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==TN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e){this.key=e}}class m7{constructor(e){this.key=e}}class bae{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ot(),this.mutatedKeys=ot(),this.Za=OF(e),this.Xa=new Wu(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new LO,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),m=Rb(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;f&&m?f.data.isEqual(m.data)?g!==v&&(r.track({type:3,doc:m}),y=!0):this.ru(f,m)||(r.track({type:2,doc:m}),y=!0,(c&&this.Za(m,c)>0||u&&this.Za(m,u)<0)&&(l=!0)):!f&&m?(r.track({type:0,doc:m}),y=!0):f&&!m&&(r.track({type:1,doc:f}),y=!0,(c||u)&&(l=!0)),y&&(m?(a=a.add(m),s=v?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Xa:a,nu:r,Cs:l,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((h,d)=>function(m,g){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:y})}};return v(m)-v(g)}(h.type,d.type)||this.Za(h.doc,d.doc)),this.iu(r),i=i!=null&&i;const l=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Ja;return this.Ja=c,a.length!==0||u?{snapshot:new Pd(this.query,e.Xa,s,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new LO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ot(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new m7(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new f7(r))}),n}au(e){this.Ha=e.$s,this.Ya=ot();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Pd.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const jC="SyncEngine";class wae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _ae{constructor(e){this.key=e,this.cu=!1}}class Sae{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Vc(l=>IF(l),Ob),this.Pu=new Map,this.Tu=new Set,this.Iu=new wn(Fe.comparator),this.Eu=new Map,this.du=new dC,this.Au={},this.Ru=new Map,this.Vu=kd.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Nae(t,e,n=!0){const r=b7(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await p7(r,e,n,!0),i}async function jae(t,e){const n=b7(t);await p7(n,e,!0,!1)}async function p7(t,e,n,r){const i=await Hse(t.localStore,$s(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await Eae(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&o7(t.remoteStore,i),l}async function Eae(t,e,n,r,i){t.fu=(d,f,m)=>async function(v,y,x,b){let w=y.view.tu(x);w.Cs&&(w=await IO(v.localStore,y.query,!1).then(({documents:j})=>y.view.tu(j,w)));const N=b&&b.targetChanges.get(y.targetId),S=b&&b.targetMismatches.get(y.targetId)!=null,P=y.view.applyChanges(w,v.isPrimaryClient,N,S);return UO(v,y.targetId,P.ou),P.snapshot}(t,d,f,m);const s=await IO(t.localStore,e,!0),a=new bae(e,s.$s),l=a.tu(s.documents),c=hg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(l,t.isPrimaryClient,c);UO(t,n,u.ou);const h=new wae(e,n,a);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function Cae(t,e,n){const r=Ye(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(a=>!Ob(a,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await CN(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pC(r.remoteStore,i.targetId),kN(r,i.targetId)}).catch(Nh)):(kN(r,i.targetId),await CN(r.localStore,i.targetId,!0))}async function Aae(t,e){const n=Ye(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pC(n.remoteStore,r.targetId))}async function Tae(t,e,n){const r=Dae(t);try{const i=await function(a,l){const c=Ye(a),u=Pn.now(),h=l.reduce((m,g)=>m.add(g.key),ot());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Da(),v=ot();return c.Bs.getEntries(m,h).next(y=>{g=y,g.forEach((x,b)=>{b.isValidDocument()||(v=v.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,g)).next(y=>{d=y;const x=[];for(const b of l){const w=Hie(b,d.get(b.key).overlayedDocument);w!=null&&x.push(new Nl(b.key,w,NF(w.value.mapValue),Pr.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,x,l)}).next(y=>{f=y;const x=y.applyToLocalDocumentSet(d,v);return c.documentOverlayCache.saveOverlays(m,y.batchId,x)})}).then(()=>({batchId:f.batchId,changes:MF(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let u=a.Au[a.currentUser.toKey()];u||(u=new wn(nt)),u=u.insert(l,c),a.Au[a.currentUser.toKey()]=u}(r,i.batchId,n),await mg(r,i.changes),await Ub(r.remoteStore)}catch(i){const s=bC(i,"Failed to persist write");n.reject(s)}}async function g7(t,e){const n=Ye(t);try{const r=await Use(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Eu.get(s);a&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.cu=!0:i.modifiedDocuments.size>0?St(a.cu,14607):i.removedDocuments.size>0&&(St(a.cu,42227),a.cu=!1))}),await mg(n,r,e)}catch(r){await Nh(r)}}function BO(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,a)=>{const l=a.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=Ye(a);c.onlineState=l;let u=!1;c.queries.forEach((h,d)=>{for(const f of d.Sa)f.Fa(l)&&(u=!0)}),u&&SC(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kae(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new wn(Fe.comparator);a=a.insert(s,ur.newNoDocument(s,Ke.min()));const l=ot().add(s),c=new Fb(Ke.min(),new Map,new wn(nt),a,l);await g7(r,c),r.Iu=r.Iu.remove(s),r.Eu.delete(e),EC(r)}else await CN(r.localStore,e,!1).then(()=>kN(r,e,n)).catch(Nh)}async function Pae(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await Bse(n.localStore,e);v7(n,r,null),y7(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mg(n,i)}catch(i){await Nh(i)}}async function Iae(t,e,n){const r=Ye(t);try{const i=await function(a,l){const c=Ye(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(d=>(St(d!==null,37113),h=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);v7(r,e,n),y7(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mg(r,i)}catch(i){await Nh(i)}}function y7(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function v7(t,e,n){const r=Ye(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function kN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||x7(t,r)})}function x7(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(pC(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),EC(t))}function UO(t,e,n){for(const r of n)r instanceof f7?(t.du.addReference(r.key,e),Oae(t,r)):r instanceof m7?(ke(jC,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||x7(t,r.key)):ze(19791,{pu:r})}function Oae(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(ke(jC,"New document in limbo: "+n),t.Tu.add(r),EC(t))}function EC(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Fe(Wt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new _ae(n)),t.Iu=t.Iu.insert(n,r),o7(t.remoteStore,new Oo($s(Ib(n.path)),r,"TargetPurposeLimboResolution",Tb.le))}}async function mg(t,e,n){const r=Ye(t),i=[],s=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{a.push(r.fu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){i.push(u);const d=fC.Rs(c.targetId,u);s.push(d)}}))}),await Promise.all(a),r.lu.Y_(i),await async function(c,u){const h=Ye(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>se.forEach(u,f=>se.forEach(f.ds,m=>h.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>se.forEach(f.As,m=>h.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!jh(d))throw d;ke(mC,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const m=h.xs.get(f),g=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(g);h.xs=h.xs.insert(f,v)}}}(r.localStore,s))}async function Rae(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){ke(jC,"User change. New user:",e.toKey());const r=await r7(n.localStore,e);n.currentUser=e,function(s,a){s.Ru.forEach(l=>{l.forEach(c=>{c.reject(new Ee(re.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mg(n,r.ks)}}function Mae(t,e){const n=Ye(t),r=n.Eu.get(e);if(r&&r.cu)return ot().add(r.key);{let i=ot();const s=n.Pu.get(e);if(!s)return i;for(const a of s){const l=n.hu.get(a);i=i.unionWith(l.view.eu)}return i}}function b7(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=g7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kae.bind(null,e),e.lu.Y_=vae.bind(null,e.eventManager),e.lu.gu=xae.bind(null,e.eventManager),e}function Dae(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iae.bind(null,e),e}class _v{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vb(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return Vse(this.persistence,new $se,e.initialUser,this.serializer)}Su(e){return new n7(hC.fi,this.serializer)}bu(e){return new qse}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_v.provider={build:()=>new _v};class $ae extends _v{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){St(this.persistence.referenceDelegate instanceof bv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _se(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new n7(r=>bv.fi(r,n),this.serializer)}}class PN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rae.bind(null,this.syncEngine),await pae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yae}()}createDatastore(e){const n=Vb(e.databaseInfo.databaseId),r=function(s){return new Jse(s)}(e.databaseInfo);return function(s,a,l,c){return new nae(s,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new iae(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>BO(this.syncEngine,n,0),function(){return MO.C()?new MO:new Kse}())}createSyncEngine(e,n){return function(i,s,a,l,c,u,h){const d=new Sae(i,s,a,l,c,u);return h&&(d.mu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ye(i);ke(Nc,"RemoteStore shutting down."),s.da.add(5),await fg(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}PN.provider={build:()=>new PN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ma("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="FirestoreClient";class Lae{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lr.UNAUTHENTICATED,this.clientId=fF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{ke(ml,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ke(ml,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function r_(t,e){t.asyncQueue.verifyOperationInProgress(),ke(ml,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await r7(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Fae(t);ke(ml,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$O(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$O(e.remoteStore,i)),t._onlineComponents=e}async function Fae(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(ml,"Using user provided OfflineComponentProvider");try{await r_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Nd("Error using user provided cache. Falling back to memory cache: "+n),await r_(t,new _v)}}else ke(ml,"Using default OfflineComponentProvider"),await r_(t,new $ae(void 0));return t._offlineComponents}async function w7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(ml,"Using user provided OnlineComponentProvider"),await zO(t,t._uninitializedComponentsProvider._online)):(ke(ml,"Using default OnlineComponentProvider"),await zO(t,new PN))),t._onlineComponents}function Vae(t){return w7(t).then(e=>e.syncEngine)}async function Sv(t){const e=await w7(t),n=e.eventManager;return n.onListen=Nae.bind(null,e.syncEngine),n.onUnlisten=Cae.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jae.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Aae.bind(null,e.syncEngine),n}function Bae(t,e,n={}){const r=new _a;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,u){const h=new CC({next:f=>{h.xu(),a.enqueueAndForget(()=>_C(s,d));const m=f.docs.has(l);!m&&f.fromCache?u.reject(new Ee(re.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?u.reject(new Ee(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new NC(Ib(l.path),h,{includeMetadataChanges:!0,Qa:!0});return wC(s,d)}(await Sv(t),t.asyncQueue,e,n,r)),r.promise}function Uae(t,e,n={}){const r=new _a;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,u){const h=new CC({next:f=>{h.xu(),a.enqueueAndForget(()=>_C(s,d)),f.fromCache&&c.source==="server"?u.reject(new Ee(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new NC(l,h,{includeMetadataChanges:!0,Qa:!0});return wC(s,d)}(await Sv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t,e,n){if(!n)throw new Ee(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zae(t,e,n,r){if(e===!0&&r===!0)throw new Ee(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HO(t){if(!Fe.isDocumentKey(t))throw new Ee(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GO(t){if(Fe.isDocumentKey(t))throw new Ee(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function Ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zb(t);throw new Ee(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7="firestore.googleapis.com",qO=!0;class KO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N7,this.ssl=qO}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:qO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bse)throw new Ee(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_7((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zre;switch(r.type){case"firstParty":return new rie(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WO.get(n);r&&(ke("ComponentProvider","Removing Datastore"),WO.delete(n),r.terminate())}(this),Promise.resolve()}}function Wae(t,e,n,r={}){var i;t=Ir(t,Wb);const s=bl(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s&&(F2(`https://${c}`),V2("Firestore",!0)),a.host!==N7&&a.host!==c&&Nd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:s,emulatorOptions:r});if(!Ws(u,l)&&(t._setSettings(u),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=lr.MOCK_USER;else{h=g8(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Ee(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new lr(f)}t._authCredentials=new eie(new dF(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ka(this.firestore,e,this._query)}}class pr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class Jo extends Ka{constructor(e,n,r){super(e,n,Ib(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new Fe(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function gt(t,e,...n){if(t=Ot(t),S7("collection","path",e),t instanceof Wb){const r=Wt.fromString(e,...n);return GO(r),new Jo(t,null,r)}{if(!(t instanceof pr||t instanceof Jo))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return GO(r),new Jo(t.firestore,null,r)}}function Re(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=fF.newId()),S7("doc","path",e),t instanceof Wb){const r=Wt.fromString(e,...n);return HO(r),new pr(t,null,new Fe(r))}{if(!(t instanceof pr||t instanceof Jo))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return HO(r),new pr(t.firestore,t instanceof Jo?t.converter:null,new Fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="AsyncQueue";class QO{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new s7(this,"async_queue_retry"),this.rc=()=>{const r=n_();r&&ke(YO,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=n_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=n_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new _a;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!jh(e))throw e;ke(YO,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Ma("INTERNAL UNHANDLED ERROR: ",XO(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=xC.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&ze(47125,{cc:XO(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function XO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Gs extends Wb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new QO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QO(e),this._firestoreClient=void 0,await e}}}function Hae(t,e){const n=typeof t=="object"?t:W2(),r=typeof t=="string"?t:pv,i=jb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=f8("firestore");s&&Wae(i,...s)}return i}function pg(t){if(t._terminated)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Gae(t),t._firestoreClient}function Gae(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,h){return new vie(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,_7(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Lae(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Id(Xn.fromBase64String(e))}catch(n){throw new Ee(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Id(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qae=/^__.*__$/;class Kae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nl(e,this.data,this.fieldMask,n,this.fieldTransforms):new dg(e,this.data,n,this.fieldTransforms)}}class j7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Nl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function E7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ic:t})}}class Hb{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Hb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Nv(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(E7(this.Ic)&&qae.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Yae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vb(e)}bc(e,n,r,i=!1){return new Hb({Ic:e,methodName:n,wc:r,path:qn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yg(t){const e=t._freezeSettings(),n=Vb(t._databaseId);return new Yae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kC(t,e,n,r,i,s={}){const a=t.bc(s.merge||s.mergeFields?2:0,e,n,i);MC("Data must be an object, but it was:",a,r);const l=k7(r,a);let c,u;if(s.merge)c=new di(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=IN(e,d,n);if(!a.contains(f))throw new Ee(re.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);I7(h,f)||h.push(f)}c=new di(h),u=a.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=a.fieldTransforms;return new Kae(new Vr(l),c,u)}class Gb extends Uc{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gb}}function C7(t,e,n){return new Hb({Ic:3,wc:e.settings.wc,methodName:t._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class PC extends Uc{_toFieldTransform(e){return new Db(e.path,new sp)}isEqual(e){return e instanceof PC}}class IC extends Uc{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=C7(this,e,!0),r=this.Sc.map(s=>zc(s,n)),i=new Ad(r);return new Db(e.path,i)}isEqual(e){return e instanceof IC&&Ws(this.Sc,e.Sc)}}class OC extends Uc{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=C7(this,e,!0),r=this.Sc.map(s=>zc(s,n)),i=new Td(r);return new Db(e.path,i)}isEqual(e){return e instanceof OC&&Ws(this.Sc,e.Sc)}}class RC extends Uc{constructor(e,n){super(e),this.Dc=n}_toFieldTransform(e){const n=new ap(e.serializer,LF(e.serializer,this.Dc));return new Db(e.path,n)}isEqual(e){return e instanceof RC&&this.Dc===e.Dc}}function A7(t,e,n,r){const i=t.bc(1,e,n);MC("Data must be an object, but it was:",i,r);const s=[],a=Vr.empty();Sl(r,(c,u)=>{const h=DC(e,c,n);u=Ot(u);const d=i.mc(h);if(u instanceof Gb)s.push(h);else{const f=zc(u,d);f!=null&&(s.push(h),a.set(h,f))}});const l=new di(s);return new j7(a,l,i.fieldTransforms)}function T7(t,e,n,r,i,s){const a=t.bc(1,e,n),l=[IN(e,r,n)],c=[i];if(s.length%2!=0)throw new Ee(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)l.push(IN(e,s[f])),c.push(s[f+1]);const u=[],h=Vr.empty();for(let f=l.length-1;f>=0;--f)if(!I7(u,l[f])){const m=l[f];let g=c[f];g=Ot(g);const v=a.mc(m);if(g instanceof Gb)u.push(m);else{const y=zc(g,v);y!=null&&(u.push(m),h.set(m,y))}}const d=new di(u);return new j7(h,d,a.fieldTransforms)}function Qae(t,e,n,r=!1){return zc(n,t.bc(r?4:3,e))}function zc(t,e){if(P7(t=Ot(t)))return MC("Unsupported field value:",e,t),k7(t,e);if(t instanceof Uc)return function(r,i){if(!E7(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let c=zc(l,i.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pn.fromDate(r);return{timestampValue:xv(i.serializer,s)}}if(r instanceof Pn){const s=new Pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xv(i.serializer,s)}}if(r instanceof AC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Id)return{bytesValue:KF(i.serializer,r._byteString)};if(r instanceof pr){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof TC)return function(a,l){return{mapValue:{fields:{[wF]:{stringValue:SF},[gv]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return oC(l.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${zb(r)}`)}(t,e)}function k7(t,e){const n={};return pF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sl(t,(r,i)=>{const s=zc(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function P7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pn||t instanceof AC||t instanceof Id||t instanceof pr||t instanceof Uc||t instanceof TC)}function MC(t,e,n){if(!P7(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=zb(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function IN(t,e,n){if((e=Ot(e))instanceof gg)return e._internalPath;if(typeof e=="string")return DC(t,e);throw Nv("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xae=new RegExp("[~\\*/\\[\\]]");function DC(t,e,n){if(e.search(Xae)>=0)throw Nv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gg(...e.split("."))._internalPath}catch{throw Nv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nv(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Ee(re.INVALID_ARGUMENT,l+t+c)}function I7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jae extends O7{data(){return super.data()}}function qb(t,e){return typeof e=="string"?DC(t,e):e instanceof gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $C{}class LC extends $C{}function jc(t,e,...n){let r=[];e instanceof $C&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof FC).length,l=s.filter(c=>c instanceof Kb).length;if(a>1||a>0&&l>0)throw new Ee(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kb extends LC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kb(e,n,r)}_apply(e){const n=this._parse(e);return M7(e._query,n),new Ka(e.firestore,e.converter,_N(e._query,n))}_parse(e){const n=yg(e.firestore);return function(s,a,l,c,u,h,d){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ee(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){eR(d,h);const g=[];for(const v of d)g.push(ZO(c,s,v));f={arrayValue:{values:g}}}else f=ZO(c,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||eR(d,h),f=Qae(l,a,d,h==="in"||h==="not-in");return yn.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zae(t,e,n){const r=e,i=qb("where",t);return Kb._create(i,r,n)}class FC extends $C{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new FC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const c of l)M7(a,c),a=_N(a,c)}(e._query,n),new Ka(e.firestore,e.converter,_N(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class VC extends LC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new VC(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Ee(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ee(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ip(s,a)}(e._query,this._field,this._direction);return new Ka(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Eh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Od(t,e="asc"){const n=e,r=qb("orderBy",t);return VC._create(r,n)}class BC extends LC{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new BC(e,n,r)}_apply(e){return new Ka(e.firestore,e.converter,vv(e._query,this._limit,this._limitType))}}function eoe(t){return BC._create("limit",t,"F")}function ZO(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new Ee(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PF(e)&&n.indexOf("/")!==-1)throw new Ee(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Wt.fromString(n));if(!Fe.isDocumentKey(r))throw new Ee(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fO(t,new Fe(r))}if(n instanceof pr)return fO(t,n._key);throw new Ee(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zb(n)}.`)}function eR(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M7(t,e){const n=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ee(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class toe{convertValue(e,n="none"){switch(hl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[gv].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>dn(a.doubleValue));return new TC(s)}convertGeoPoint(e){return new AC(dn(e.latitude),dn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tp(e));default:return null}}convertTimestamp(e){const n=ul(e);return new Pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Wt.fromString(e);St(e7(r),9688,{name:e});const i=new np(r.get(1),r.get(3)),s=new Fe(r.popFirst(5));return i.isEqual(n)||Ma(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class D7 extends O7{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new x0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class x0 extends D7{data(e={}){return super.data(e)}}class $7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new x0(this._firestore,this._userDataWriter,r.key,r,new Hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new x0(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new x0(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:noe(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function noe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){t=Ir(t,pr);const e=Ir(t.firestore,Gs);return Bae(pg(e),t._key).then(n=>F7(e,t,n))}class zC extends toe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Id(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,n)}}function Nn(t){t=Ir(t,Ka);const e=Ir(t.firestore,Gs),n=pg(e),r=new zC(e);return R7(t._query),Uae(n,t._query).then(i=>new $7(e,r,t,i))}function Zt(t,e,n){t=Ir(t,pr);const r=Ir(t.firestore,Gs),i=UC(t.converter,e,n);return vg(r,[kC(yg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pr.none())])}function un(t,e,n,...r){t=Ir(t,pr);const i=Ir(t.firestore,Gs),s=yg(i);let a;return a=typeof(e=Ot(e))=="string"||e instanceof gg?T7(s,"updateDoc",t._key,e,n,r):A7(s,"updateDoc",t._key,e),vg(i,[a.toMutation(t._key,Pr.exists(!0))])}function L7(t){return vg(Ir(t.firestore,Gs),[new Lb(t._key,Pr.none())])}function Rd(t,e){const n=Ir(t.firestore,Gs),r=Re(t),i=UC(t.converter,e);return vg(n,[kC(yg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pr.exists(!1))]).then(()=>r)}function Or(t,...e){var n,r,i;t=Ot(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||JO(e[a])||(s=e[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(JO(e[a])){const d=e[a];e[a]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[a+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,h;if(t instanceof pr)u=Ir(t.firestore,Gs),h=Ib(t._key.path),c={next:d=>{e[a]&&e[a](F7(u,t,d))},error:e[a+1],complete:e[a+2]};else{const d=Ir(t,Ka);u=Ir(d.firestore,Gs),h=d._query;const f=new zC(u);c={next:m=>{e[a]&&e[a](new $7(u,f,d,m))},error:e[a+1],complete:e[a+2]},R7(t._query)}return function(f,m,g,v){const y=new CC(v),x=new NC(m,y,g);return f.asyncQueue.enqueueAndForget(async()=>wC(await Sv(f),x)),()=>{y.xu(),f.asyncQueue.enqueueAndForget(async()=>_C(await Sv(f),x))}}(pg(u),h,l,c)}function vg(t,e){return function(r,i){const s=new _a;return r.asyncQueue.enqueueAndForget(async()=>Tae(await Vae(r),i,s)),s.promise}(pg(t),e)}function F7(t,e,n){const r=n.docs.get(e._key),i=new zC(t);return new D7(t,i,e._key,r,new Hf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yg(e)}set(e,n,r){this._verifyNotCommitted();const i=i_(e,this._firestore),s=UC(i.converter,n,r),a=kC(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Pr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=i_(e,this._firestore);let a;return a=typeof(n=Ot(n))=="string"||n instanceof gg?T7(this._dataReader,"WriteBatch.update",s._key,n,r,i):A7(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=i_(e,this._firestore);return this._mutations=this._mutations.concat(new Lb(n._key,Pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function i_(t,e){if((t=Ot(t)).firestore!==e)throw new Ee(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function jv(){return new PC("serverTimestamp")}function dm(...t){return new IC("arrayUnion",t)}function Ev(...t){return new OC("arrayRemove",t)}function tR(t){return new RC("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){return pg(t=Ir(t,Gs)),new roe(t,e=>vg(t,e))}(function(e,n=!0){(function(i){Sh=i})(Fc),bc(new ll("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Gs(new tie(r.getProvider("auth-internal")),new iie(a,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ee(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new np(u.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ms(tO,nO,e),Ms(tO,nO,"esm2017")})();var ioe="firebase",soe="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms(ioe,soe,"app");var nR={};const rR="@firebase/database",iR="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V7="";function aoe(t){V7=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ooe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Gn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xm(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class loe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ga(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ooe(e)}}catch{}return new loe},Xl=B7("localStorage"),coe=B7("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Nb("@firebase/database"),uoe=function(){let t=1;return function(){return t++}}(),U7=function(t){const e=jee(t),n=new wee;n.update(e);const r=n.digest();return L2.encodeByteArray(r)},xg=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=xg.apply(null,r):typeof r=="object"?e+=Gn(r):e+=r,e+=" "}return e};let hm=null,sR=!0;const doe=function(t,e){_e(!e,"Can't turn on custom loggers persistently."),Hu.logLevel=rt.VERBOSE,hm=Hu.log.bind(Hu)},dr=function(...t){if(sR===!0&&(sR=!1,hm===null&&coe.get("logging_enabled")===!0&&doe()),hm){const e=xg.apply(null,t);hm(e)}},bg=function(t){return function(...e){dr(t,...e)}},ON=function(...t){const e="FIREBASE INTERNAL ERROR: "+xg(...t);Hu.error(e)},$a=function(...t){const e=`FIREBASE FATAL ERROR: ${xg(...t)}`;throw Hu.error(e),new Error(e)},Yr=function(...t){const e="FIREBASE WARNING: "+xg(...t);Hu.warn(e)},hoe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Yr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},z7=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},foe=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Md="[MIN_NAME]",Ec="[MAX_NAME]",Ah=function(t,e){if(t===e)return 0;if(t===Md||e===Ec)return-1;if(e===Md||t===Ec)return 1;{const n=aR(t),r=aR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},moe=function(t,e){return t===e?0:t<e?-1:1},xf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Gn(e))},WC=function(t){if(typeof t!="object"||t===null)return Gn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Gn(e[r]),n+=":",n+=WC(t[e[r]]);return n+="}",n},W7=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Di(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const H7=function(t){_e(!z7(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,l,c;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const h=u.join("");let d="";for(c=0;c<64;c+=8){let f=parseInt(h.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},poe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},goe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},yoe=new RegExp("^-?(0*)\\d{1,10}$"),voe=-2147483648,xoe=2147483647,aR=function(t){if(yoe.test(t)){const e=Number(t);if(e>=voe&&e<=xoe)return e}return null},Th=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Yr("Exception was thrown by user callback.",n),e},Math.floor(0))}},boe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fm=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class woe{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Fr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Yr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yr(e)}}class b0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}b0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="5",G7="v",q7="s",K7="r",Y7="f",Q7=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X7="ls",J7="p",RN="ac",Z7="websocket",e9="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,r,i,s=!1,a="",l=!1,c=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Soe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function n9(t,e,n){_e(typeof e=="string","typeof type must == string"),_e(typeof n=="object","typeof params must == object");let r;if(e===Z7)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===e9)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Soe(t)&&(n.ns=t.namespace);const i=[];return Di(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(){this.counters_={}}incrementCounter(e,n=1){Ga(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return tee(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_={},a_={};function GC(t){const e=t.toString();return s_[e]||(s_[e]=new Noe),s_[e]}function joe(t,e){const n=t.toString();return a_[n]||(a_[n]=e()),a_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eoe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Th(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="start",Coe="close",Aoe="pLPCommand",Toe="pRTLPCB",r9="id",i9="pw",s9="ser",koe="cb",Poe="seg",Ioe="ts",Ooe="d",Roe="dframe",a9=1870,o9=30,Moe=a9-o9,Doe=25e3,$oe=3e4;class Au{constructor(e,n,r,i,s,a,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bg(e),this.stats_=GC(n),this.urlFn=c=>(this.appCheckToken&&(c[RN]=this.appCheckToken),n9(n,e9,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Eoe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($oe)),foe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qC((...s)=>{const[a,l,c,u,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===oR)this.id=l,this.password=c;else if(a===Coe)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[oR]="t",r[s9]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[koe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[G7]=HC,this.transportSessionId&&(r[q7]=this.transportSessionId),this.lastSessionId&&(r[X7]=this.lastSessionId),this.applicationId&&(r[J7]=this.applicationId),this.appCheckToken&&(r[RN]=this.appCheckToken),typeof location<"u"&&location.hostname&&Q7.test(location.hostname)&&(r[K7]=Y7);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Au.forceAllow_=!0}static forceDisallow(){Au.forceDisallow_=!0}static isAvailable(){return Au.forceAllow_?!0:!Au.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!poe()&&!goe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=u8(n),i=W7(r,Moe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Roe]="t",r[r9]=e,r[i9]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Gn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qC{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uoe(),window[Aoe+this.uniqueCallbackIdentifier]=e,window[Toe+this.uniqueCallbackIdentifier]=n,this.myIFrame=qC.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){dr("frame writing exception"),l.stack&&dr(l.stack),dr(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[r9]=this.myID,e[i9]=this.myPW,e[s9]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+o9+r.length<=a9;){const a=this.pendingSegs.shift();r=r+"&"+Poe+i+"="+a.seg+"&"+Ioe+i+"="+a.ts+"&"+Ooe+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Doe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Loe=16384,Foe=45e3;let Cv=null;typeof MozWebSocket<"u"?Cv=MozWebSocket:typeof WebSocket<"u"&&(Cv=WebSocket);class ts{constructor(e,n,r,i,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bg(this.connId),this.stats_=GC(n),this.connURL=ts.connectionURL_(n,a,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[G7]=HC,typeof location<"u"&&location.hostname&&Q7.test(location.hostname)&&(a[K7]=Y7),n&&(a[q7]=n),r&&(a[X7]=r),i&&(a[RN]=i),s&&(a[J7]=s),n9(e,Z7,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xl.set("previous_websocket_failure",!0);try{let r;v8(),this.mySock=new Cv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ts.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Cv!==null&&!ts.forceDisallow_}static previouslyFailed(){return Xl.isInMemoryStorage||Xl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Xl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Xm(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(_e(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=W7(n,Loe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Foe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ts.responsesRequiredToBeHealthy=2;ts.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{static get ALL_TRANSPORTS(){return[Au,ts]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ts&&ts.isAvailable();let r=n&&!ts.previouslyFailed();if(e.webSocketOnly&&(n||Yr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ts];else{const i=this.transports_=[];for(const s of op.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);op.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}op.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Voe=6e4,Boe=5e3,Uoe=10*1024,zoe=100*1024,o_="t",lR="d",Woe="s",cR="r",Hoe="e",uR="o",dR="a",hR="n",fR="p",Goe="h";class qoe{constructor(e,n,r,i,s,a,l,c,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bg("c:"+this.id+":"),this.transportManager_=new op(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=fm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zoe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Uoe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(o_ in e){const n=e[o_];n===dR?this.upgradeIfSecondaryHealthy_():n===cR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===uR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=xf("t",e),r=xf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:dR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:hR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=xf("t",e),r=xf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=xf(o_,e);if(lR in e){const r=e[lR];if(n===Goe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===hR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Woe?this.onConnectionShutdown_(r):n===cR?this.onReset_(r):n===Hoe?ON("Server Error: "+r):n===uR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ON("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),HC!==r&&Yr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Voe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Boe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c9=class{constructor(e){this.allowedEvents_=e,this.listeners_={},_e(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){_e(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends c9{static getInstance(){return new Av}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!B2()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return _e(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=32,pR=768;let qt=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function kt(){return new qt("")}function at(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pl(t){return t.pieces_.length-t.pieceNum_}function zt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new qt(t.pieces_,e)}function u9(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Koe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function d9(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function h9(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new qt(e,0)}function En(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof qt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new qt(n,0)}function lt(t){return t.pieceNum_>=t.pieces_.length}function Ti(t,e){const n=at(t),r=at(e);if(n===null)return e;if(n===r)return Ti(zt(t),zt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function f9(t,e){if(pl(t)!==pl(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function is(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(pl(t)>pl(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Yoe{constructor(e,n){this.errorPrefix_=n,this.parts_=d9(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sb(this.parts_[r]);m9(this)}}function Qoe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Sb(e),m9(t)}function Xoe(t){const e=t.parts_.pop();t.byteLength_-=Sb(e),t.parts_.length>0&&(t.byteLength_-=1)}function m9(t){if(t.byteLength_>pR)throw new Error(t.errorPrefix_+"has a key path longer than "+pR+" bytes ("+t.byteLength_+").");if(t.parts_.length>mR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+mR+") or object contains a cycle "+Vl(t))}function Vl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC extends c9{static getInstance(){return new KC}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return _e(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=1e3,Joe=60*5*1e3,gR=30*1e3,Zoe=1.3,ele=3e4,tle="server_kill",yR=3;class Sa extends l9{constructor(e,n,r,i,s,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Sa.nextPersistentConnectionId_++,this.log_=bg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bf,this.maxReconnectDelay_=Joe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!v8())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");KC.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Av.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Gn(s)),_e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new _b,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_e(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,l=>{const c=l.d,u=l.s;Sa.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ga(e,"w")){const r=_d(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Yr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bee(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=gR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xee(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ON("Unrecognized action received from server: "+Gn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){_e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ele&&(this.reconnectDelay_=bf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Zoe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Sa.nextConnectionId_++,s=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())},u=function(d){_e(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:c,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?dr("getToken() completed but was canceled"):(dr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new qoe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{Yr(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(tle)},s))}catch(d){this.log_("Failed to get token: "+d),a||(this.repoInfo_.nodeAdmin&&Yr(d),c())}}}interrupt(e){dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],sN(this.interruptReasons_)&&(this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>WC(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new qt(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){dr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=yR&&(this.reconnectDelay_=gR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=yR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+V7.replace(/\./g,"-")]=1,B2()?e["framework.cordova"]=1:y8()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Av.getInstance().currentlyOnline();return sN(this.interruptReasons_)&&e}}Sa.nextPersistentConnectionId_=0;Sa.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ut(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yb=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ut(Md,e),i=new ut(Md,n);return this.compare(r,i)!==0}minPost(){return ut.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ey;class p9 extends Yb{static get __EMPTY_NODE(){return Ey}static set __EMPTY_NODE(e){Ey=e}compare(e,n){return Ah(e.name,n.name)}isDefinedOn(e){throw bh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ut.MIN}maxPost(){return new ut(Ec,Ey)}makePost(e,n){return _e(typeof e=="string","KeyIndex indexValue must always be a string."),new ut(e,Ey)}toString(){return".key"}}const Gu=new p9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ln{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ln.RED,this.left=i??Ur.EMPTY_NODE,this.right=s??Ur.EMPTY_NODE}copy(e,n,r,i,s){return new Ln(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ur.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ur.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ln.RED=!0;Ln.BLACK=!1;class nle{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ln(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ur{constructor(e,n=Ur.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ur(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Ur(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ln.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cy(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Cy(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Cy(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Cy(this.root_,null,this.comparator_,!0,e)}}Ur.EMPTY_NODE=new nle;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rle(t,e){return Ah(t.name,e.name)}function YC(t,e){return Ah(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MN;function ile(t){MN=t}const g9=function(t){return typeof t=="number"?"number:"+H7(t):"string:"+t},y9=function(t){if(t.isLeafNode()){const e=t.val();_e(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ga(e,".sv"),"Priority must be a string or number.")}else _e(t===MN||t.isEmpty(),"priority of unexpected type.");_e(t===MN||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vR;class Rn{static set __childrenNodeConstructor(e){vR=e}static get __childrenNodeConstructor(){return vR}constructor(e,n=Rn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,_e(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),y9(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return lt(e)?this:at(e)===".priority"?this.priorityNode_:Rn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Rn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=at(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(_e(r!==".priority"||pl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Rn.__childrenNodeConstructor.EMPTY_NODE.updateChild(zt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+g9(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=H7(this.value_):e+=this.value_,this.lazyHash_=U7(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rn.__childrenNodeConstructor?-1:(_e(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Rn.VALUE_TYPE_ORDER.indexOf(n),s=Rn.VALUE_TYPE_ORDER.indexOf(r);return _e(i>=0,"Unknown leaf type: "+n),_e(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Rn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v9,x9;function sle(t){v9=t}function ale(t){x9=t}class ole extends Yb{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ah(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ut.MIN}maxPost(){return new ut(Ec,new Rn("[PRIORITY-POST]",x9))}makePost(e,n){const r=v9(e);return new ut(n,new Rn("[PRIORITY-POST]",r))}toString(){return".priority"}}const mr=new ole;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lle=Math.log(2);class cle{constructor(e){const n=s=>parseInt(Math.log(s)/lle,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Tv=function(t,e,n,r){t.sort(e);const i=function(c,u){const h=u-c;let d,f;if(h===0)return null;if(h===1)return d=t[c],f=n?n(d):d,new Ln(f,d.node,Ln.BLACK,null,null);{const m=parseInt(h/2,10)+c,g=i(c,m),v=i(m+1,u);return d=t[m],f=n?n(d):d,new Ln(f,d.node,Ln.BLACK,g,v)}},s=function(c){let u=null,h=null,d=t.length;const f=function(g,v){const y=d-g,x=d;d-=g;const b=i(y+1,x),w=t[y],N=n?n(w):w;m(new Ln(N,w.node,v,null,b))},m=function(g){u?(u.left=g,u=g):(h=g,u=g)};for(let g=0;g<c.count;++g){const v=c.nextBitIsOne(),y=Math.pow(2,c.count-(g+1));v?f(y,Ln.BLACK):(f(y,Ln.BLACK),f(y,Ln.RED))}return h},a=new cle(t.length),l=s(a);return new Ur(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l_;const nu={};class ga{static get Default(){return _e(nu&&mr,"ChildrenNode.ts has not been loaded"),l_=l_||new ga({".priority":nu},{".priority":mr}),l_}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=_d(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ur?n:null}hasIndex(e){return Ga(this.indexSet_,e.toString())}addIndex(e,n){_e(e!==Gu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ut.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let l;i?l=Tv(r,e.getCompare()):l=nu;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const h=Object.assign({},this.indexes_);return h[c]=l,new ga(h,u)}addToIndexes(e,n){const r=av(this.indexes_,(i,s)=>{const a=_d(this.indexSet_,s);if(_e(a,"Missing index implementation for "+s),i===nu)if(a.isDefinedOn(e.node)){const l=[],c=n.getIterator(ut.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),Tv(l,a.getCompare())}else return nu;else{const l=n.get(e.name);let c=i;return l&&(c=c.remove(new ut(e.name,l))),c.insert(e,e.node)}});return new ga(r,this.indexSet_)}removeFromIndexes(e,n){const r=av(this.indexes_,i=>{if(i===nu)return i;{const s=n.get(e.name);return s?i.remove(new ut(e.name,s)):i}});return new ga(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf;class _t{static get EMPTY_NODE(){return wf||(wf=new _t(new Ur(YC),null,ga.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&y9(this.priorityNode_),this.children_.isEmpty()&&_e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wf}updatePriority(e){return this.children_.isEmpty()?this:new _t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wf:n}}getChild(e){const n=at(e);return n===null?this:this.getImmediateChild(n).getChild(zt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(_e(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ut(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?wf:this.priorityNode_;return new _t(i,a,s)}}updateChild(e,n){const r=at(e);if(r===null)return n;{_e(at(e)!==".priority"||pl(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(zt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(mr,(a,l)=>{n[a]=l.val(e),r++,s&&_t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+g9(this.getPriority().val())+":"),this.forEachChild(mr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":U7(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ut(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ut(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ut(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ut.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ut.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wg?-1:0}withIndex(e){if(e===Gu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new _t(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Gu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(mr),i=n.getIterator(mr);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Gu?null:this.indexMap_.get(e.toString())}}_t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ule extends _t{constructor(){super(new Ur(YC),_t.EMPTY_NODE,ga.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _t.EMPTY_NODE}isEmpty(){return!1}}const wg=new ule;Object.defineProperties(ut,{MIN:{value:new ut(Md,_t.EMPTY_NODE)},MAX:{value:new ut(Ec,wg)}});p9.__EMPTY_NODE=_t.EMPTY_NODE;Rn.__childrenNodeConstructor=_t;ile(wg);ale(wg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dle=!0;function Hn(t,e=null){if(t===null)return _t.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),_e(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Rn(n,Hn(e))}if(!(t instanceof Array)&&dle){const n=[];let r=!1;if(Di(t,(a,l)=>{if(a.substring(0,1)!=="."){const c=Hn(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ut(a,c)))}}),n.length===0)return _t.EMPTY_NODE;const s=Tv(n,rle,a=>a.name,YC);if(r){const a=Tv(n,mr.getCompare());return new _t(s,Hn(e),new ga({".priority":a},{".priority":mr}))}else return new _t(s,Hn(e),ga.Default)}else{let n=_t.EMPTY_NODE;return Di(t,(r,i)=>{if(Ga(t,r)&&r.substring(0,1)!=="."){const s=Hn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Hn(e))}}sle(Hn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hle extends Yb{constructor(e){super(),this.indexPath_=e,_e(!lt(e)&&at(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ah(e.name,n.name):s}makePost(e,n){const r=Hn(e),i=_t.EMPTY_NODE.updateChild(this.indexPath_,r);return new ut(n,i)}maxPost(){const e=_t.EMPTY_NODE.updateChild(this.indexPath_,wg);return new ut(Ec,e)}toString(){return d9(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fle extends Yb{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ah(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ut.MIN}maxPost(){return ut.MAX}makePost(e,n){const r=Hn(e);return new ut(n,r)}toString(){return".value"}}const mle=new fle;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ple(t){return{type:"value",snapshotNode:t}}function gle(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function yle(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xR(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function vle(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Md}hasEnd(){return this.endSet_}getIndexEndValue(){return _e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ec}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _e(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mr}copy(){const e=new QC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function bR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===mr?n="$priority":t.index_===mle?n="$value":t.index_===Gu?n="$key":(_e(t.index_ instanceof hle,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Gn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Gn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Gn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Gn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Gn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function wR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==mr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends l9{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(_e(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=bg("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=kv.getListenId_(e,r),l={};this.listens_[a]=l;const c=bR(e._queryParams);this.restRequest_(s+".json",c,(u,h)=>{let d=h;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),_d(this.listens_,a)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=kv.getListenId_(e,n);delete this.listens_[r]}get(e){const n=bR(e._queryParams),r=e._path.toString(),i=new _b;return this.restRequest_(r+".json",n,(s,a)=>{let l=a;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wh(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Xm(l.responseText)}catch{Yr("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Yr("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(){this.rootNode_=_t.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(){return{value:null,children:new Map}}function b9(t,e,n){if(lt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=at(e);t.children.has(r)||t.children.set(r,Pv());const i=t.children.get(r);e=zt(e),b9(i,e,n)}}function DN(t,e,n){t.value!==null?n(e,t.value):ble(t,(r,i)=>{const s=new qt(e.toString()+"/"+r);DN(i,s,n)})}function ble(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wle{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Di(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=10*1e3,_le=30*1e3,Sle=5*60*1e3;class Nle{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new wle(e);const r=_R+(_le-_R)*Math.random();fm(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Di(e,(i,s)=>{s>0&&Ga(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),fm(this.reportStats_.bind(this),Math.floor(Math.random()*2*Sle))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ks||(ks={}));function w9(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _9(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function S9(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ks.ACK_USER_WRITE,this.source=w9()}operationForChild(e){if(lt(this.path)){if(this.affectedTree.value!=null)return _e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new qt(e));return new Iv(kt(),n,this.revert)}}else return _e(at(this.path)===e,"operationForChild called for unrelated child."),new Iv(zt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ks.OVERWRITE}operationForChild(e){return lt(this.path)?new Cc(this.source,kt(),this.snap.getImmediateChild(e)):new Cc(this.source,zt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ks.MERGE}operationForChild(e){if(lt(this.path)){const n=this.children.subtree(new qt(e));return n.isEmpty()?null:n.value?new Cc(this.source,kt(),n.value):new lp(this.source,kt(),n)}else return _e(at(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new lp(this.source,zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(lt(e))return this.isFullyInitialized()&&!this.filtered_;const n=at(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function jle(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(vle(a.childName,a.snapshotNode))}),_f(t,i,"child_removed",e,r,n),_f(t,i,"child_added",e,r,n),_f(t,i,"child_moved",s,r,n),_f(t,i,"child_changed",e,r,n),_f(t,i,"value",e,r,n),i}function _f(t,e,n,r,i,s){const a=r.filter(l=>l.type===n);a.sort((l,c)=>Cle(t,l,c)),a.forEach(l=>{const c=Ele(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function Ele(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Cle(t,e,n){if(e.childName==null||n.childName==null)throw bh("Should only compare child_ events.");const r=new ut(e.childName,e.snapshotNode),i=new ut(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t,e){return{eventCache:t,serverCache:e}}function mm(t,e,n,r){return N9(new XC(e,n,r),t.serverCache)}function j9(t,e,n,r){return N9(t.eventCache,new XC(e,n,r))}function $N(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ac(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_;const Ale=()=>(c_||(c_=new Ur(moe)),c_);class Bt{static fromObject(e){let n=new Bt(null);return Di(e,(r,i)=>{n=n.set(new qt(r),i)}),n}constructor(e,n=Ale()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:kt(),value:this.value};if(lt(e))return null;{const r=at(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(zt(e),n);return s!=null?{path:En(new qt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(lt(e))return this;{const n=at(e),r=this.children.get(n);return r!==null?r.subtree(zt(e)):new Bt(null)}}set(e,n){if(lt(e))return new Bt(n,this.children);{const r=at(e),s=(this.children.get(r)||new Bt(null)).set(zt(e),n),a=this.children.insert(r,s);return new Bt(this.value,a)}}remove(e){if(lt(e))return this.children.isEmpty()?new Bt(null):new Bt(null,this.children);{const n=at(e),r=this.children.get(n);if(r){const i=r.remove(zt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Bt(null):new Bt(this.value,s)}else return this}}get(e){if(lt(e))return this.value;{const n=at(e),r=this.children.get(n);return r?r.get(zt(e)):null}}setTree(e,n){if(lt(e))return n;{const r=at(e),s=(this.children.get(r)||new Bt(null)).setTree(zt(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new Bt(this.value,a)}}fold(e){return this.fold_(kt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(En(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,kt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(lt(e))return null;{const s=at(e),a=this.children.get(s);return a?a.findOnPath_(zt(e),En(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,kt(),n)}foreachOnPath_(e,n,r){if(lt(e))return this;{this.value&&r(n,this.value);const i=at(e),s=this.children.get(i);return s?s.foreachOnPath_(zt(e),En(n,i),r):new Bt(null)}}foreach(e){this.foreach_(kt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(En(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.writeTree_=e}static empty(){return new us(new Bt(null))}}function pm(t,e,n){if(lt(e))return new us(new Bt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=Ti(i,e);return s=s.updateChild(a,n),new us(t.writeTree_.set(i,s))}else{const i=new Bt(n),s=t.writeTree_.setTree(e,i);return new us(s)}}}function SR(t,e,n){let r=t;return Di(n,(i,s)=>{r=pm(r,En(e,i),s)}),r}function NR(t,e){if(lt(e))return us.empty();{const n=t.writeTree_.setTree(e,new Bt(null));return new us(n)}}function LN(t,e){return Wc(t,e)!=null}function Wc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ti(n.path,e)):null}function jR(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(mr,(r,i)=>{e.push(new ut(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ut(r,i.value))}),e}function el(t,e){if(lt(e))return t;{const n=Wc(t,e);return n!=null?new us(new Bt(n)):new us(t.writeTree_.subtree(e))}}function FN(t){return t.writeTree_.isEmpty()}function Dd(t,e){return E9(kt(),t.writeTree_,e)}function E9(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(_e(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=E9(En(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(En(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t,e){return I9(e,t)}function Tle(t,e,n,r,i){_e(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=pm(t.visibleWrites,e,n)),t.lastWriteId=r}function kle(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Ple(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);_e(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&Ile(l,r.path)?i=!1:is(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return Ole(t),!0;if(r.snap)t.visibleWrites=NR(t.visibleWrites,r.path);else{const l=r.children;Di(l,c=>{t.visibleWrites=NR(t.visibleWrites,En(r.path,c))})}return!0}else return!1}function Ile(t,e){if(t.snap)return is(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&is(En(t.path,n),e))return!0;return!1}function Ole(t){t.visibleWrites=A9(t.allWrites,Rle,kt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Rle(t){return t.visible}function A9(t,e,n){let r=us.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let l;if(s.snap)is(n,a)?(l=Ti(n,a),r=pm(r,l,s.snap)):is(a,n)&&(l=Ti(a,n),r=pm(r,kt(),s.snap.getChild(l)));else if(s.children){if(is(n,a))l=Ti(n,a),r=SR(r,l,s.children);else if(is(a,n))if(l=Ti(a,n),lt(l))r=SR(r,kt(),s.children);else{const c=_d(s.children,at(l));if(c){const u=c.getChild(zt(l));r=pm(r,kt(),u)}}}else throw bh("WriteRecord should have .snap or .children")}}return r}function T9(t,e,n,r,i){if(!r&&!i){const s=Wc(t.visibleWrites,e);if(s!=null)return s;{const a=el(t.visibleWrites,e);if(FN(a))return n;if(n==null&&!LN(a,kt()))return null;{const l=n||_t.EMPTY_NODE;return Dd(a,l)}}}else{const s=el(t.visibleWrites,e);if(!i&&FN(s))return n;if(!i&&n==null&&!LN(s,kt()))return null;{const a=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(is(u.path,e)||is(e,u.path))},l=A9(t.allWrites,a,e),c=n||_t.EMPTY_NODE;return Dd(l,c)}}}function Mle(t,e,n){let r=_t.EMPTY_NODE;const i=Wc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(mr,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=el(t.visibleWrites,e);return n.forEachChild(mr,(a,l)=>{const c=Dd(el(s,new qt(a)),l);r=r.updateImmediateChild(a,c)}),jR(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=el(t.visibleWrites,e);return jR(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Dle(t,e,n,r,i){_e(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=En(e,n);if(LN(t.visibleWrites,s))return null;{const a=el(t.visibleWrites,s);return FN(a)?i.getChild(n):Dd(a,i.getChild(n))}}function $le(t,e,n,r){const i=En(e,n),s=Wc(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=el(t.visibleWrites,i);return Dd(a,r.getNode().getImmediateChild(n))}else return null}function Lle(t,e){return Wc(t.visibleWrites,e)}function Fle(t,e,n,r,i,s,a){let l;const c=el(t.visibleWrites,e),u=Wc(c,kt());if(u!=null)l=u;else if(n!=null)l=Dd(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const h=[],d=a.getCompare(),f=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let m=f.getNext();for(;m&&h.length<i;)d(m,r)!==0&&h.push(m),m=f.getNext();return h}else return[]}function Vle(){return{visibleWrites:us.empty(),allWrites:[],lastWriteId:-1}}function VN(t,e,n,r){return T9(t.writeTree,t.treePath,e,n,r)}function k9(t,e){return Mle(t.writeTree,t.treePath,e)}function ER(t,e,n,r){return Dle(t.writeTree,t.treePath,e,n,r)}function Ov(t,e){return Lle(t.writeTree,En(t.treePath,e))}function Ble(t,e,n,r,i,s){return Fle(t.writeTree,t.treePath,e,n,r,i,s)}function JC(t,e,n){return $le(t.writeTree,t.treePath,e,n)}function P9(t,e){return I9(En(t.treePath,e),t.writeTree)}function I9(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ule{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;_e(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_e(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,xR(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,yle(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,gle(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,xR(r,e.snapshotNode,i.oldSnap));else throw bh("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zle{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const O9=new zle;class ZC{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new XC(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return JC(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ac(this.viewCache_),s=Ble(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function Wle(t,e){_e(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),_e(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Hle(t,e,n,r,i){const s=new Ule;let a,l;if(n.type===ks.OVERWRITE){const u=n;u.source.fromUser?a=BN(t,e,u.path,u.snap,r,i,s):(_e(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!lt(u.path),a=Rv(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===ks.MERGE){const u=n;u.source.fromUser?a=qle(t,e,u.path,u.children,r,i,s):(_e(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),a=UN(t,e,u.path,u.children,r,i,l,s))}else if(n.type===ks.ACK_USER_WRITE){const u=n;u.revert?a=Qle(t,e,u.path,r,i,s):a=Kle(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===ks.LISTEN_COMPLETE)a=Yle(t,e,n.path,r,s);else throw bh("Unknown operation type: "+n.type);const c=s.getChanges();return Gle(e,a,c),{viewCache:a,changes:c}}function Gle(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=$N(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ple($N(e)))}}function R9(t,e,n,r,i,s){const a=e.eventCache;if(Ov(r,n)!=null)return e;{let l,c;if(lt(n))if(_e(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ac(e),h=u instanceof _t?u:_t.EMPTY_NODE,d=k9(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=VN(r,Ac(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=at(n);if(u===".priority"){_e(pl(n)===1,"Can't have a priority with additional path components");const h=a.getNode();c=e.serverCache.getNode();const d=ER(r,n,h,c);d!=null?l=t.filter.updatePriority(h,d):l=a.getNode()}else{const h=zt(n);let d;if(a.isCompleteForChild(u)){c=e.serverCache.getNode();const f=ER(r,n,a.getNode(),c);f!=null?d=a.getNode().getImmediateChild(u).updateChild(h,f):d=a.getNode().getImmediateChild(u)}else d=JC(r,u,e.serverCache);d!=null?l=t.filter.updateChild(a.getNode(),u,d,h,i,s):l=a.getNode()}}return mm(e,l,a.isFullyInitialized()||lt(n),t.filter.filtersNodes())}}function Rv(t,e,n,r,i,s,a,l){const c=e.serverCache;let u;const h=a?t.filter:t.filter.getIndexedFilter();if(lt(n))u=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const m=c.getNode().updateChild(n,r);u=h.updateFullNode(c.getNode(),m,null)}else{const m=at(n);if(!c.isCompleteForPath(n)&&pl(n)>1)return e;const g=zt(n),y=c.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?u=h.updatePriority(c.getNode(),y):u=h.updateChild(c.getNode(),m,y,g,O9,null)}const d=j9(e,u,c.isFullyInitialized()||lt(n),h.filtersNodes()),f=new ZC(i,d,s);return R9(t,d,n,i,f,l)}function BN(t,e,n,r,i,s,a){const l=e.eventCache;let c,u;const h=new ZC(i,e,s);if(lt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=mm(e,u,!0,t.filter.filtersNodes());else{const d=at(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=mm(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=zt(n),m=l.getNode().getImmediateChild(d);let g;if(lt(f))g=r;else{const v=h.getCompleteChild(d);v!=null?u9(f)===".priority"&&v.getChild(h9(f)).isEmpty()?g=v:g=v.updateChild(f,r):g=_t.EMPTY_NODE}if(m.equals(g))c=e;else{const v=t.filter.updateChild(l.getNode(),d,g,f,h,a);c=mm(e,v,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function CR(t,e){return t.eventCache.isCompleteForChild(e)}function qle(t,e,n,r,i,s,a){let l=e;return r.foreach((c,u)=>{const h=En(n,c);CR(e,at(h))&&(l=BN(t,l,h,u,i,s,a))}),r.foreach((c,u)=>{const h=En(n,c);CR(e,at(h))||(l=BN(t,l,h,u,i,s,a))}),l}function AR(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function UN(t,e,n,r,i,s,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;lt(n)?u=r:u=new Bt(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(h.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),g=AR(t,m,f);c=Rv(t,c,new qt(d),g,i,s,a,l)}}),u.children.inorderTraversal((d,f)=>{const m=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!h.hasChild(d)&&!m){const g=e.serverCache.getNode().getImmediateChild(d),v=AR(t,g,f);c=Rv(t,c,new qt(d),v,i,s,a,l)}}),c}function Kle(t,e,n,r,i,s,a){if(Ov(i,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(lt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Rv(t,e,n,c.getNode().getChild(n),i,s,l,a);if(lt(n)){let u=new Bt(null);return c.getNode().forEachChild(Gu,(h,d)=>{u=u.set(new qt(h),d)}),UN(t,e,n,u,i,s,l,a)}else return e}else{let u=new Bt(null);return r.foreach((h,d)=>{const f=En(n,h);c.isCompleteForPath(f)&&(u=u.set(h,c.getNode().getChild(f)))}),UN(t,e,n,u,i,s,l,a)}}function Yle(t,e,n,r,i){const s=e.serverCache,a=j9(e,s.getNode(),s.isFullyInitialized()||lt(n),s.isFiltered());return R9(t,a,n,r,O9,i)}function Qle(t,e,n,r,i,s){let a;if(Ov(r,n)!=null)return e;{const l=new ZC(r,e,i),c=e.eventCache.getNode();let u;if(lt(n)||at(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=VN(r,Ac(e));else{const d=e.serverCache.getNode();_e(d instanceof _t,"serverChildren would be complete if leaf node"),h=k9(r,d)}h=h,u=t.filter.updateFullNode(c,h,s)}else{const h=at(n);let d=JC(r,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),d!=null?u=t.filter.updateChild(c,h,d,zt(n),l,s):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(c,h,_t.EMPTY_NODE,zt(n),l,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=VN(r,Ac(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,s)))}return a=e.serverCache.isFullyInitialized()||Ov(r,kt())!=null,mm(e,u,a,t.filter.filtersNodes())}}function Xle(t,e){const n=Ac(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!lt(e)&&!n.getImmediateChild(at(e)).isEmpty())?n.getChild(e):null}function TR(t,e,n,r){e.type===ks.MERGE&&e.source.queryId!==null&&(_e(Ac(t.viewCache_),"We should always have a full cache before handling merges"),_e($N(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Hle(t.processor_,i,e,n,r);return Wle(t.processor_,s.viewCache),_e(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Jle(t,s.changes,s.viewCache.eventCache.getNode())}function Jle(t,e,n,r){const i=t.eventRegistrations_;return jle(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kR;function Zle(t){_e(!kR,"__referenceConstructor has already been defined"),kR=t}function eA(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return _e(s!=null,"SyncTree gave us an op for an invalid query."),TR(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(TR(a,e,n,r));return s}}function tA(t,e){let n=null;for(const r of t.views.values())n=n||Xle(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PR;function ece(t){_e(!PR,"__referenceConstructor has already been defined"),PR=t}class IR{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Bt(null),this.pendingWriteTree_=Vle(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function M9(t,e,n,r,i){return Tle(t.pendingWriteTree_,e,n,r,i),i?Xb(t,new Cc(w9(),e,n)):[]}function Jl(t,e,n=!1){const r=kle(t.pendingWriteTree_,e);if(Ple(t.pendingWriteTree_,e)){let s=new Bt(null);return r.snap!=null?s=s.set(kt(),!0):Di(r.children,a=>{s=s.set(new qt(a),!0)}),Xb(t,new Iv(r.path,s,n))}else return[]}function Qb(t,e,n){return Xb(t,new Cc(_9(),e,n))}function tce(t,e,n){const r=Bt.fromObject(n);return Xb(t,new lp(_9(),e,r))}function nce(t,e,n,r){const i=L9(t,r);if(i!=null){const s=F9(i),a=s.path,l=s.queryId,c=Ti(a,e),u=new Cc(S9(l),c,n);return V9(t,a,u)}else return[]}function rce(t,e,n,r){const i=L9(t,r);if(i){const s=F9(i),a=s.path,l=s.queryId,c=Ti(a,e),u=Bt.fromObject(n),h=new lp(S9(l),c,u);return V9(t,a,h)}else return[]}function nA(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,l)=>{const c=Ti(a,e),u=tA(l,c);if(u)return u});return T9(i,e,s,n,!0)}function Xb(t,e){return D9(e,t.syncPointTree_,null,C9(t.pendingWriteTree_,kt()))}function D9(t,e,n,r){if(lt(t.path))return $9(t,e,n,r);{const i=e.get(kt());n==null&&i!=null&&(n=tA(i,kt()));let s=[];const a=at(t.path),l=t.operationForChild(a),c=e.children.get(a);if(c&&l){const u=n?n.getImmediateChild(a):null,h=P9(r,a);s=s.concat(D9(l,c,u,h))}return i&&(s=s.concat(eA(i,t,r,n))),s}}function $9(t,e,n,r){const i=e.get(kt());n==null&&i!=null&&(n=tA(i,kt()));let s=[];return e.children.inorderTraversal((a,l)=>{const c=n?n.getImmediateChild(a):null,u=P9(r,a),h=t.operationForChild(a);h&&(s=s.concat($9(h,l,c,u)))}),i&&(s=s.concat(eA(i,t,r,n))),s}function L9(t,e){return t.tagToQueryMap.get(e)}function F9(t){const e=t.indexOf("$");return _e(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new qt(t.substr(0,e))}}function V9(t,e,n){const r=t.syncPointTree_.get(e);_e(r,"Missing sync point for query tag that we're tracking");const i=C9(t.pendingWriteTree_,e);return eA(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new rA(n)}node(){return this.node_}}class iA{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=En(this.path_,e);return new iA(this.syncTree_,n)}node(){return nA(this.syncTree_,this.path_)}}const ice=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},OR=function(t,e,n){if(!t||typeof t!="object")return t;if(_e(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return sce(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ace(t[".sv"],e);_e(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},sce=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_e(!1,"Unexpected server value: "+t)}},ace=function(t,e,n){t.hasOwnProperty("increment")||_e(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&_e(!1,"Unexpected increment value: "+r);const i=e.node();if(_e(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},oce=function(t,e,n,r){return sA(e,new iA(n,t),r)},B9=function(t,e,n){return sA(t,new rA(e),n)};function sA(t,e,n){const r=t.getPriority().val(),i=OR(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,l=OR(a.getValue(),e,n);return l!==a.getValue()||i!==a.getPriority().val()?new Rn(l,Hn(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Rn(i))),a.forEachChild(mr,(l,c)=>{const u=sA(c,e.getImmediateChild(l),n);u!==c&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function oA(t,e){let n=e instanceof qt?e:new qt(e),r=t,i=at(n);for(;i!==null;){const s=_d(r.node.children,i)||{children:{},childCount:0};r=new aA(i,r,s),n=zt(n),i=at(n)}return r}function kh(t){return t.node.value}function U9(t,e){t.node.value=e,zN(t)}function z9(t){return t.node.childCount>0}function lce(t){return kh(t)===void 0&&!z9(t)}function Jb(t,e){Di(t.node.children,(n,r)=>{e(new aA(n,t,r))})}function W9(t,e,n,r){n&&!r&&e(t),Jb(t,i=>{W9(i,e,!0,r)}),n&&r&&e(t)}function cce(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function _g(t){return new qt(t.parent===null?t.name:_g(t.parent)+"/"+t.name)}function zN(t){t.parent!==null&&uce(t.parent,t.name,t)}function uce(t,e,n){const r=lce(n),i=Ga(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,zN(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,zN(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dce=/[\[\].#$\/\u0000-\u001F\u007F]/,hce=/[\[\].#$\u0000-\u001F\u007F]/,u_=10*1024*1024,H9=function(t){return typeof t=="string"&&t.length!==0&&!dce.test(t)},G9=function(t){return typeof t=="string"&&t.length!==0&&!hce.test(t)},fce=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),G9(t)},mce=function(t,e,n,r){lA(U2(t,"value"),e,n)},lA=function(t,e,n){const r=n instanceof qt?new Yoe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Vl(r));if(typeof e=="function")throw new Error(t+"contains a function "+Vl(r)+" with contents = "+e.toString());if(z7(e))throw new Error(t+"contains "+e.toString()+" "+Vl(r));if(typeof e=="string"&&e.length>u_/3&&Sb(e)>u_)throw new Error(t+"contains a string greater than "+u_+" utf8 bytes "+Vl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Di(e,(a,l)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!H9(a)))throw new Error(t+" contains an invalid key ("+a+") "+Vl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Qoe(r,a),lA(t,l,r),Xoe(r)}),i&&s)throw new Error(t+' contains ".value" child '+Vl(r)+" in addition to actual children.")}},q9=function(t,e,n,r){if(!G9(n))throw new Error(U2(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pce=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),q9(t,e,n)},gce=function(t,e){if(at(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},yce=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!H9(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!fce(n))throw new Error(U2(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function K9(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!f9(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function La(t,e,n){K9(t,n),xce(t,r=>is(r,e)||is(e,r))}function xce(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(bce(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function bce(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();hm&&dr("event: "+n.toString()),Th(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wce="repo_interrupt",_ce=25;class Sce{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vce,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pv(),this.transactionQueueTree_=new aA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Nce(t,e,n){if(t.stats_=GC(t.repoInfo_),t.forceRestClient_||boe())t.server_=new kv(t.repoInfo_,(r,i,s,a)=>{RR(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>MR(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Sa(t.repoInfo_,e,(r,i,s,a)=>{RR(t,r,i,s,a)},r=>{MR(t,r)},r=>{Ece(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=joe(t.repoInfo_,()=>new Nle(t.stats_,t.server_)),t.infoData_=new xle,t.infoSyncTree_=new IR({startListening:(r,i,s,a)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=Qb(t.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),uA(t,"connected",!1),t.serverSyncTree_=new IR({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(l,c)=>{const u=a(l,c);La(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function jce(t){const n=t.infoData_.getNode(new qt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function cA(t){return ice({timestamp:jce(t)})}function RR(t,e,n,r,i){t.dataUpdateCount++;const s=new qt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const c=av(n,u=>Hn(u));a=rce(t.serverSyncTree_,s,c,i)}else{const c=Hn(n);a=nce(t.serverSyncTree_,s,c,i)}else if(r){const c=av(n,u=>Hn(u));a=tce(t.serverSyncTree_,s,c)}else{const c=Hn(n);a=Qb(t.serverSyncTree_,s,c)}let l=s;a.length>0&&(l=Zb(t,s)),La(t.eventQueue_,l,a)}function MR(t,e){uA(t,"connected",e),e===!1&&Ace(t)}function Ece(t,e){Di(e,(n,r)=>{uA(t,n,r)})}function uA(t,e,n){const r=new qt("/.info/"+e),i=Hn(n);t.infoData_.updateSnapshot(r,i);const s=Qb(t.infoSyncTree_,r,i);La(t.eventQueue_,r,s)}function Y9(t){return t.nextWriteId_++}function Cce(t,e,n,r,i){dA(t,"set",{path:e.toString(),value:n,priority:r});const s=cA(t),a=Hn(n,r),l=nA(t.serverSyncTree_,e),c=B9(a,l,s),u=Y9(t),h=M9(t.serverSyncTree_,e,c,u,!0);K9(t.eventQueue_,h),t.server_.put(e.toString(),a.val(!0),(f,m)=>{const g=f==="ok";g||Yr("set at "+e+" failed: "+f);const v=Jl(t.serverSyncTree_,u,!g);La(t.eventQueue_,e,v),kce(t,i,f,m)});const d=eV(t,e);Zb(t,d),La(t.eventQueue_,d,[])}function Ace(t){dA(t,"onDisconnectEvents");const e=cA(t),n=Pv();DN(t.onDisconnect_,kt(),(i,s)=>{const a=oce(i,s,t.serverSyncTree_,e);b9(n,i,a)});let r=[];DN(n,kt(),(i,s)=>{r=r.concat(Qb(t.serverSyncTree_,i,s));const a=eV(t,i);Zb(t,a)}),t.onDisconnect_=Pv(),La(t.eventQueue_,kt(),r)}function Tce(t){t.persistentConnection_&&t.persistentConnection_.interrupt(wce)}function dA(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dr(n,...e)}function kce(t,e,n,r){e&&Th(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function Q9(t,e,n){return nA(t.serverSyncTree_,e,n)||_t.EMPTY_NODE}function hA(t,e=t.transactionQueueTree_){if(e||ew(t,e),kh(e)){const n=J9(t,e);_e(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Pce(t,_g(e),n)}else z9(e)&&Jb(e,n=>{hA(t,n)})}function Pce(t,e,n){const r=n.map(u=>u.currentWriteId),i=Q9(t,e,r);let s=i;const a=i.hash();for(let u=0;u<n.length;u++){const h=n[u];_e(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=Ti(e,h.path);s=s.updateChild(d,h.currentOutputSnapshotRaw)}const l=s.val(!0),c=e;t.server_.put(c.toString(),l,u=>{dA(t,"transaction put response",{path:c.toString(),status:u});let h=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(Jl(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ew(t,oA(t.transactionQueueTree_,e)),hA(t,t.transactionQueueTree_),La(t.eventQueue_,e,h);for(let f=0;f<d.length;f++)Th(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Yr("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Zb(t,e)}},a)}function Zb(t,e){const n=X9(t,e),r=_g(n),i=J9(t,n);return Ice(t,i,r),r}function Ice(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=Ti(n,c.path);let h=!1,d;if(_e(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,d=c.abortReason,i=i.concat(Jl(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=_ce)h=!0,d="maxretry",i=i.concat(Jl(t.serverSyncTree_,c.currentWriteId,!0));else{const f=Q9(t,c.path,a);c.currentInputSnapshot=f;const m=e[l].update(f.val());if(m!==void 0){lA("transaction failed: Data returned ",m,c.path);let g=Hn(m);typeof m=="object"&&m!=null&&Ga(m,".priority")||(g=g.updatePriority(f.getPriority()));const y=c.currentWriteId,x=cA(t),b=B9(g,f,x);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=b,c.currentWriteId=Y9(t),a.splice(a.indexOf(y),1),i=i.concat(M9(t.serverSyncTree_,c.path,b,c.currentWriteId,c.applyLocally)),i=i.concat(Jl(t.serverSyncTree_,y,!0))}else h=!0,d="nodata",i=i.concat(Jl(t.serverSyncTree_,c.currentWriteId,!0))}La(t.eventQueue_,n,i),i=[],h&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}ew(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Th(r[l]);hA(t,t.transactionQueueTree_)}function X9(t,e){let n,r=t.transactionQueueTree_;for(n=at(e);n!==null&&kh(r)===void 0;)r=oA(r,n),e=zt(e),n=at(e);return r}function J9(t,e){const n=[];return Z9(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Z9(t,e,n){const r=kh(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Jb(e,i=>{Z9(t,i,n)})}function ew(t,e){const n=kh(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,U9(e,n.length>0?n:void 0)}Jb(e,r=>{ew(t,r)})}function eV(t,e){const n=_g(X9(t,e)),r=oA(t.transactionQueueTree_,e);return cce(r,i=>{d_(t,i)}),d_(t,r),W9(r,i=>{d_(t,i)}),n}function d_(t,e){const n=kh(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(_e(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(_e(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Jl(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?U9(e,void 0):n.length=s+1,La(t.eventQueue_,_g(e),i);for(let a=0;a<r.length;a++)Th(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oce(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Rce(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Yr(`Invalid query segment '${n}' in query '${t}'`)}return e}const DR=function(t,e){const n=Mce(t),r=n.namespace;n.domain==="firebase.com"&&$a(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&$a("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||hoe();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new t9(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new qt(n.pathString)}},Mce=function(t){let e="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=Oce(t.substring(h,d)));const f=Rce(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(a=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return lt(this._path)?null:u9(this._path)}get ref(){return new Hc(this._repo,this._path)}get _queryIdentifier(){const e=wR(this._queryParams),n=WC(e);return n==="{}"?"default":n}get _queryObject(){return wR(this._queryParams)}isEqual(e){if(e=Ot(e),!(e instanceof fA))return!1;const n=this._repo===e._repo,r=f9(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Koe(this._path)}}class Hc extends fA{constructor(e,n){super(e,n,new QC,!1)}get parent(){const e=h9(this._path);return e===null?null:new Hc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function Dce(t,e){return t=Ot(t),t._checkNotDeleted("ref"),e!==void 0?$ce(t._root,e):t._root}function $ce(t,e){return t=Ot(t),at(t._path)===null?pce("child","path",e):q9("child","path",e),new Hc(t._repo,En(t._path,e))}function Lce(t,e){t=Ot(t),gce("set",t._path),mce("set",e,t._path);const n=new _b;return Cce(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}Zle(Hc);ece(Hc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fce="FIREBASE_DATABASE_EMULATOR_HOST",WN={};let Vce=!1;function Bce(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=bl(s);t.repoInfo_=new t9(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Uce(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||$a("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=DR(s,i),l=a.repoInfo,c;typeof process<"u"&&nR&&(c=nR[Fce]),c?(s=`http://${c}?ns=${l.namespace}`,a=DR(s,i),l=a.repoInfo):a.repoInfo.secure;const u=new _oe(t.name,t.options,e);yce("Invalid Firebase Database URL",a),lt(a.path)||$a("Database URL must point to the root of a Firebase Database (not including a child path).");const h=Wce(l,t,u,new woe(t,n));return new Hce(h,t)}function zce(t,e){const n=WN[e];(!n||n[t.key]!==t)&&$a(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Tce(t),delete n[t.key]}function Wce(t,e,n,r){let i=WN[e.name];i||(i={},WN[e.name]=i);let s=i[t.toURLString()];return s&&$a("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Sce(t,Vce,n,r),i[t.toURLString()]=s,s}class Hce{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Nce(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hc(this._repo,kt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(zce(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&$a("Cannot call "+e+" on a deleted database.")}}function Gce(t=W2(),e){const n=jb(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=f8("database");r&&qce(n,...r)}return n}function qce(t,e,n,r={}){t=Ot(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Ws(r,s.repoInfo_.emulatorOptions))return;$a("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&$a('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new b0(b0.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:g8(r.mockUserToken,t.app.options.projectId);a=new b0(l)}bl(e)&&(F2(e),V2("Database",!0)),Bce(s,i,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kce(t){aoe(Fc),bc(new ll("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Uce(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ms(rR,iR,t),Ms(rR,iR,"esm2017")}Sa.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Sa.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Kce();const Yce={apiKey:"AIzaSyBsY9cFgrLX7lQlSpsU9uMkhPSYIawqzeI",authDomain:"ecoscope-89cb8.firebaseapp.com",projectId:"ecoscope-89cb8",storageBucket:"ecoscope-89cb8.firebasestorage.app",messagingSenderId:"614859320165",appId:"1:614859320165:web:eeb495360b25a5ba784f8c",measurementId:"G-ZSDT5YRPJ0"},mA=_8(Yce),Ne=Hae(mA),Ss=Xre(mA),Qce=Gce(mA),pA=C.createContext(void 0);function Xce({children:t}){const[e,n]=C.useState(null),[r,i]=C.useState(!1),s=async(h,d)=>{i(!0),localStorage.removeItem("user"),n(null);try{if(!h||!d)throw new Error("Email and password must not be empty.");const m=(await Rne(Ss,h,d)).user,g={id:m.uid,uid:m.uid,name:m.displayName||m.email||"",email:m.email||""};return m&&(n(g),localStorage.setItem("user",JSON.stringify(g))),null}catch(f){return console.error("Login error full object:",f),f.code==="auth/user-not-found"?"User not found. Please register first.":f.code==="auth/wrong-password"?"Incorrect password. Please try again.":f.code==="auth/invalid-email"?"Invalid email address.":f.code==="auth/user-disabled"?"User account is disabled.":f.message?f.message:"Login failed. Please try again."}finally{i(!1)}},a=async(h,d,f)=>{i(!0);try{if(!d||!f||!h)return"Name, email, and password must not be empty.";if(!l(d))return"Invalid email format.";if(f.length<6)return"Password must be at least 6 characters.";const g=(await One(Ss,d,f)).user;return g?(await Dne(g,{displayName:h}),await(async()=>{for(let y=1;y<=3;y++){try{const x=Ss.currentUser;if(x&&x.uid===g.uid){await Zt(Re(Ne,"users",g.uid),{uid:g.uid,name:h,email:g.email}),console.log("Firestore write successful on attempt",y);return}else console.warn("Auth user not ready, attempt",y)}catch(x){if(console.error("Firestore write error during registration attempt",y,x),y===3)throw x}await new Promise(x=>setTimeout(x,1e3))}})(),null):"Registration failed. Please try again."}catch(m){return console.error("Registration error:",m),m.code==="auth/email-already-in-use"?"Email is already in use. Please login or use a different email.":m.message?m.message:"Registration failed. Please try again."}finally{i(!1)}},l=h=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h),c=async()=>{i(!0);try{const h=new la,f=(await are(Ss,h)).user,m={id:f.uid,uid:f.uid,name:f.displayName||"",email:f.email||""};await(async()=>{for(let x=1;x<=3;x++){try{const b=Ss.currentUser;if(b&&b.uid===f.uid){await Zt(Re(Ne,"users",f.uid),{uid:f.uid,name:f.displayName||"",email:f.email||""},{merge:!0}),console.log("Firestore write successful on attempt",x);return}else console.warn("Auth user not ready, attempt",x)}catch(b){if(console.error("Firestore write error during Google login attempt",x,b),x===3)throw b}await new Promise(b=>setTimeout(b,1e3))}})();const v=Re(Ne,"users",f.uid);await(async()=>{const x=[];x.push(Zt(Re(v,"profile","data"),{})),x.push(Zt(Re(v,"cart","items"),{items:[]})),await Promise.all(x)})(),n(m),localStorage.setItem("user",JSON.stringify(m))}catch(h){console.error("Google login error:",h)}finally{i(!1)}},u=async()=>{try{await Vne(Ss),n(null),localStorage.removeItem("user")}catch(h){console.error("Logout error:",h)}};return C.useEffect(()=>{const h=Ss.onAuthStateChanged(d=>{if(d){const f={id:d.uid,uid:d.uid,name:d.displayName||d.email||"",email:d.email||""};n(f),localStorage.setItem("user",JSON.stringify(f))}else n(null),localStorage.removeItem("user")});return()=>h()},[]),o.jsx(pA.Provider,{value:{currentUser:e,user:e,login:s,register:a,loginWithGoogle:c,logout:u,isLoading:r},children:t})}function _n(){const t=C.useContext(pA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const tV=C.createContext(void 0),nV=({children:t})=>{const{currentUser:e}=_n(),[n,r]=C.useState([]),[i,s]=C.useState([]),[a,l]=C.useState({totalPoints:0,level:0,totalScans:0,avgScore:0,co2Saved:0,rank:0,badges:0,weeklyGoal:0,currentWeekScans:0,streakDays:0,coursesCompleted:0,recipesViewed:0,transportTrips:0,esgReports:0,goals:[],investmentsMade:0,totalCarbonFootprint:0,monthlyReduction:0,carbonGoal:0,maxSustainabilityScore:1e3,weeklyFootprint:[0,0,0,0,0,0,0],categoryBreakdown:{transport:0,energy:0,food:0,waste:0},topCategory:"none",monthlyTrend:0,sustainabilityScore:0,achievements:[],communityHelpCount:0}),[c,u]=C.useState(new Set),[h,d]=C.useState(new Map),[f,m]=C.useState(new Set),[g,v]=C.useState(new Set),[y,x]=C.useState(new Set);D.useEffect(()=>{if(!e){u(new Set),d(new Map),m(new Set),v(new Set),x(new Set);return}const me=Re(Ne,"users",e.uid),be=gt(me,"enrolledCourses"),de=gt(me,"courseProgress"),ve=gt(me,"likedArticles"),De=gt(me,"bookmarkedArticles"),Le=gt(me,"registeredWebinars");Nn(be).then($e=>{const Se=new Set;$e.forEach(Be=>{const Te=Be.data();Te.courseId&&Se.add(Te.courseId)}),u(Se)}).catch($e=>{console.error("Error loading enrolled courses:",$e)}),Nn(de).then($e=>{const Se=new Map;$e.forEach(Be=>{const Te=Be.data();Te.courseId&&typeof Te.progress=="number"&&Se.set(Te.courseId,Te.progress)}),d(Se)}).catch($e=>{console.error("Error loading course progress:",$e)}),Nn(ve).then($e=>{const Se=new Set;$e.forEach(Be=>{const Te=Be.data();Te.articleId&&Se.add(Te.articleId)}),m(Se)}).catch($e=>{console.error("Error loading liked articles:",$e)}),Nn(De).then($e=>{const Se=new Set;$e.forEach(Be=>{const Te=Be.data();Te.articleId&&Se.add(Te.articleId)}),v(Se)}).catch($e=>{console.error("Error loading bookmarked articles:",$e)}),Nn(Le).then($e=>{const Se=new Set;$e.forEach(Be=>{const Te=Be.data();Te.webinarId&&Se.add(Te.webinarId)}),x(Se)}).catch($e=>{console.error("Error loading registered webinars:",$e)})},[e]);const b=async me=>{if(!e)return;const be=Re(Ne,"users",e.uid),de=gt(be,"enrolledCourses");try{const ve=await Nn(de),De=pu(Ne);ve.forEach(Le=>{De.delete(Le.ref)}),me.forEach(Le=>{const $e=Re(de);De.set($e,{courseId:Le})}),await De.commit()}catch(ve){console.error("Error updating enrolled courses in Firestore:",ve)}},w=async me=>{if(!e)return;const be=Re(Ne,"users",e.uid),de=gt(be,"likedArticles");try{const ve=await Nn(de),De=pu(Ne);ve.forEach(Le=>{De.delete(Le.ref)}),me.forEach(Le=>{const $e=Re(de);De.set($e,{articleId:Le})}),await De.commit(),console.log("Successfully updated liked articles in Firestore")}catch(ve){console.error("Error updating liked articles in Firestore:",ve)}},N=async me=>{if(!e)return;const be=Re(Ne,"users",e.uid),de=gt(be,"bookmarkedArticles");try{const ve=await Nn(de),De=pu(Ne);ve.forEach(Le=>{De.delete(Le.ref)}),me.forEach(Le=>{const $e=Re(de);De.set($e,{articleId:Le})}),await De.commit(),console.log("Successfully updated bookmarked articles in Firestore")}catch(ve){console.error("Error updating bookmarked articles in Firestore:",ve)}},S=async me=>{if(!e)return;const be=Re(Ne,"users",e.uid),de=gt(be,"registeredWebinars");try{const ve=await Nn(de),De=pu(Ne);ve.forEach(Le=>{De.delete(Le.ref)}),me.forEach(Le=>{const $e=Re(de);De.set($e,{webinarId:Le})}),await De.commit(),console.log("Successfully updated registered webinars in Firestore")}catch(ve){console.error("Error updating registered webinars in Firestore:",ve)}},P=async me=>{if(!e)return;const be=Re(Ne,"users",e.uid),de=gt(be,"courseProgress");try{const ve=await Nn(de),De=pu(Ne);ve.forEach(Le=>{De.delete(Le.ref)}),me.forEach((Le,$e)=>{const Se=Re(de);De.set(Se,{courseId:$e,progress:Le})}),await De.commit()}catch(ve){console.error("Error updating course progress in Firestore:",ve)}},j=me=>{u(be=>{const de=new Set(be);return de.add(me),b(de),de})},_=me=>{m(be=>{const de=new Set(be);return de.has(me)?de.delete(me):de.add(me),w(de),de})},k=me=>{v(be=>{const de=new Set(be);return de.has(me)?de.delete(me):de.add(me),N(de),de})},E=me=>{x(be=>{const de=new Set(be);return de.has(me)||(de.add(me),S(de)),de})},A=(me,be)=>{d(de=>{const ve=new Map(de);return ve.set(me,be),P(ve),ve})};D.useEffect(()=>{if(!e)return;const me=i.length,be=n.reduce((Te,sn)=>Te+(sn.amount||0),0),de=me>0?Math.round(i.reduce((Te,sn)=>Te+(sn.sustainabilityScore||0),0)/me):0,ve=new Date,De=new Date(ve);De.setDate(ve.getDate()-ve.getDay());const Le=i.filter(Te=>{const sn=new Date(Te.date);return sn>=De&&sn<=ve}).length,$e=new Set(i.map(Te=>Te.date.split("T")[0]));let Se=0;for(let Te=0;Te<30;Te++){const sn=new Date;sn.setDate(ve.getDate()-Te);const Bi=sn.toISOString().split("T")[0];if($e.has(Bi))Se++;else break}const Be=me*10+be*5;l(Te=>({...Te,totalScans:me,co2Saved:be,avgScore:de,currentWeekScans:Le,streakDays:Se,totalPoints:Be,recipesViewed:Te.recipesViewed}))},[i,n,e]);const[I,R]=C.useState([]),[$,W]=C.useState({}),[H,M]=C.useState("all"),[F,U]=C.useState("all"),[X,z]=C.useState("all"),[G,q]=C.useState("all"),[ae,ye]=C.useState("insights"),[ie,B]=D.useState(!0);D.useEffect(()=>{let me=()=>{},be=()=>{},de=()=>{};if(!e){B(!1),R([]),W({}),M("all"),U("all"),l({totalPoints:0,level:0,totalScans:0,avgScore:0,co2Saved:0,rank:0,badges:0,weeklyGoal:0,currentWeekScans:0,streakDays:0,coursesCompleted:0,recipesViewed:0,transportTrips:0,esgReports:0,investmentsMade:0,totalCarbonFootprint:0,monthlyReduction:0,carbonGoal:0,maxSustainabilityScore:1e3,weeklyFootprint:[0,0,0,0,0,0,0],categoryBreakdown:{transport:0,energy:0,food:0,waste:0},topCategory:"none",monthlyTrend:0,achievements:[],sustainabilityScore:0,goals:[],communityHelpCount:0}),r([]),s([]);return}B(!0);const ve=Re(Ne,"users",e.uid),De=gt(ve,"carbonEntries"),Le=gt(ve,"scannedProducts");return me=Or(ve,$e=>{if(console.log("UserDataContext: user stats snapshot received",$e.data()),$e.exists()){const Se=$e.data();console.log("Fetched recipesViewed from Firestore:",Se.recipesViewed);const Be=[{id:1,name:"Green Streak Master",description:"12 consecutive days",icon:fn,color:"yellow"},{id:2,name:"Carbon Reducer",description:"Saved 67.8kg CO",icon:dt,color:"green"},{id:3,name:"AI Collaborator",description:"92% recommendation accuracy",icon:ha,color:"blue"}];l(Te=>({...Te,totalPoints:Number(Se.totalPoints)||0,level:Number(Se.level)||0,totalScans:Number(Se.totalScans)||0,avgScore:Number(Se.avgScore)||0,co2Saved:Number(Se.co2Saved)||0,rank:Number(Se.rank)||0,badges:Number(Se.badges)||0,weeklyGoal:Number(Se.weeklyGoal)||0,currentWeekScans:Number(Se.currentWeekScans)||0,streakDays:Number(Se.streakDays)||0,coursesCompleted:Number(Se.coursesCompleted)||0,recipesViewed:typeof Se.recipesViewed=="number"?Se.recipesViewed:0,transportTrips:Number(Se.transportTrips)||0,esgReports:Number(Se.esgReports)||0,investmentsMade:Number(Se.investmentsMade)||0,monthlyReduction:Number(Se.monthlyReduction)||0,carbonGoal:Number(Se.carbonGoal)||0,maxSustainabilityScore:Number(Se.maxSustainabilityScore)||1e3,weeklyFootprint:Array.isArray(Se.weeklyFootprint)?Se.weeklyFootprint.map(Number).filter(sn=>!isNaN(sn)):[0,0,0,0,0,0,0],categoryBreakdown:Se.categoryBreakdown||{transport:0,energy:0,food:0,waste:0},topCategory:Se.topCategory||"none",monthlyTrend:Number(Se.monthlyTrend)||0,sustainabilityScore:Number(Se.sustainabilityScore)||0,achievements:Array.isArray(Se.achievements)&&Se.achievements.length>0?Se.achievements:Be,goals:Se.goals??[]}))}else if(e){const Se={totalPoints:0,level:1,totalScans:0,avgScore:0,co2Saved:0,rank:0,badges:0,weeklyGoal:75,currentWeekScans:0,streakDays:0,coursesCompleted:0,recipesViewed:0,transportTrips:0,esgReports:0,goals:[],investmentsMade:0,monthlyReduction:0,carbonGoal:0,maxSustainabilityScore:1e3,weeklyFootprint:[0,0,0,0,0,0,0],categoryBreakdown:{transport:0,energy:0,food:0,waste:0},topCategory:"none",achievements:[],monthlyTrend:0,sustainabilityScore:0,totalCarbonFootprint:0,communityHelpCount:0};Zt(ve,Se).then(()=>l(Se)).catch(Be=>console.error("Error setting initial user stats:",Be))}else console.error("Cannot set initial user stats: no authenticated user");B(!1)},$e=>{console.error("Error fetching user stats:",$e),B(!1)}),be=Or(De,$e=>{const Se=$e.docs.map(Be=>({id:Be.id,...Be.data()}));r(Se)},$e=>{console.error("Error fetching carbon entries:",$e)}),de=Or(Le,$e=>{const Se={};$e.docs.forEach(Be=>{var sn;const Te={...Be.data(),date:((sn=Be.data().timestamp)==null?void 0:sn.toDate().toISOString())||new Date().toISOString()};Te.source==="ProductScanner"&&(!Se[Te.id]||new Date(Te.date)>new Date(Se[Te.id].date||0))&&(Se[Te.id]=Te)}),s(Object.values(Se).sort((Be,Te)=>new Date(Te.date).getTime()-new Date(Be.date).getTime()))},$e=>{console.error("Error fetching scanned products:",$e)}),()=>{me(),be(),de()}},[e]),D.useEffect(()=>{},[e]),D.useEffect(()=>{const me=de=>{const ve={};for(const De in de)if(de.hasOwnProperty(De)){const Le=de[De],{icon:$e,...Se}=Le.recommendation||{};ve[De]={...Le,recommendation:Se}}return ve},be=de=>{if(de===void 0)return null;if(de===null||typeof de!="object")return de;if(Array.isArray(de))return de.map(De=>be(De));const ve={};for(const De in de)de.hasOwnProperty(De)&&(ve[De]=be(de[De]));return ve};if(e){const de=Re(Ne,"users",e.uid),ve=me($),De=be({completedActions:I,actionProgress:ve,selectedAICategory:H,selectedAIPriority:F,selectedCategory:X,selectedPriority:G,selectedTab:ae});console.log("Saving AI Recommendations state to Firestore:",De),un(de,De).then(()=>{console.log("Successfully saved AI Recommendations state to Firestore")}).catch(Le=>{console.error("Error saving AI Recommendations state to Firestore:",Le),console.error("Error details:",JSON.stringify(Le,Object.getOwnPropertyNames(Le)))})}localStorage.setItem("completedActions",JSON.stringify(I)),localStorage.setItem("actionProgress",JSON.stringify($)),localStorage.setItem("selectedAICategory",H),localStorage.setItem("selectedAIPriority",F),localStorage.setItem("selectedCategory",X),localStorage.setItem("selectedPriority",G),localStorage.setItem("selectedTab",ae)},[I,$,H,F,X,G,ae]),D.useEffect(()=>{e||(R([]),W({}),M("all"),U("all"),z("all"),q("all"),localStorage.removeItem("completedActions"),localStorage.removeItem("actionProgress"),localStorage.removeItem("selectedAICategory"),localStorage.removeItem("selectedAIPriority"),localStorage.removeItem("selectedCategory"),localStorage.removeItem("selectedPriority"))},[e]),D.useEffect(()=>{localStorage.setItem("completedActions",JSON.stringify(I)),localStorage.setItem("actionProgress",JSON.stringify($))},[I,$]),D.useEffect(()=>{e||(R([]),W({}),M("all"),U("all"),z("all"),q("all"))},[e]);const Q=async me=>{var be;if(e){const de=Re(Ne,"users",e.uid);try{const ve={...me,achievements:((be=me.achievements)==null?void 0:be.map(({icon:De,...Le})=>Le))||[]};Object.keys(ve).forEach(De=>{ve[De]===void 0&&(ve[De]=null)}),await un(de,{...ve})}catch(ve){console.error("Error updating user stats:",ve)}}},Z=async me=>{if(e){const be=Re(Ne,"users",e.uid),de=gt(be,"carbonEntries");try{const ve=await Rd(de,{...me,date:new Date().toISOString()});r(Le=>[{id:ve.id,...me,date:new Date().toISOString()},...Le]);const De={...a,co2Saved:(a.co2Saved||0)+me.amount,totalPoints:(a.totalPoints||0)+Math.floor(me.amount*10),currentWeekScans:(a.currentWeekScans||0)+1};l(De),Q(De)}catch(ve){console.error("Error adding carbon entry:",ve)}}},ue=async me=>{if(e){const be=Re(Ne,"users",e.uid),de=gt(be,"scannedProducts");try{const ve=await Nn(jc(de,Zae("id","==",me.id)));if(ve.empty)await Rd(de,{...me,alternatives:me.alternatives||[],source:me.source||"ProductScanner",date:new Date().toISOString(),timestamp:jv()});else{const Le=ve.docs[0].ref,$e={...me};Object.keys($e).forEach(Se=>{$e[Se]===void 0&&($e[Se]=null)}),await un(Le,{...$e,alternatives:me.alternatives||[],source:me.source||"ProductScanner",timestamp:jv()})}const De={...a,totalScans:(a.totalScans||0)+1,avgScore:(a.totalScans||0)===0?me.sustainabilityScore:Math.round(((a.avgScore||0)*(a.totalScans||0)+me.sustainabilityScore)/((a.totalScans||0)+1)),totalPoints:(a.totalPoints||0)+Math.floor(me.sustainabilityScore/10),currentWeekScans:(a.currentWeekScans||0)+1};l(De),Q(De)}catch(ve){console.error("Error adding scanned product:",ve)}}},pe=async me=>{if(e){const be=Re(Ne,"users",e.uid);try{const de=await Zo(be);if(de.exists()){const ve=de.data(),$e=[...(ve==null?void 0:ve.cart)||[],me].map(Se=>{const Be={...Se};return Object.keys(Be).forEach(Te=>{Be[Te]===void 0&&(Be[Te]=null)}),Be});await un(be,{cart:$e})}}catch(de){console.error("Error adding product to cart:",de)}}},V=async me=>{const be={...a,totalPoints:(a.totalPoints||0)+me};l(de=>({...de,totalPoints:(de.totalPoints||0)+me})),Q(be)},le=async me=>{if((a.totalPoints||0)>=me){const be={...a,totalPoints:(a.totalPoints||0)-me};return l(be),await Q(be),!0}return!1},we=async(me,be)=>{console.log("Incrementing user stat: ${stat} by ${points}");const de=typeof a[me]=="number"?a[me]+1:1,ve={...a,[me]:de,totalPoints:typeof a.totalPoints=="number"?a.totalPoints+be:be};console.log("Updated stats before Firestore update:",ve),l(ve);try{if(e){const De=Re(Ne,"users",e.uid);await un(De,{[me]:de,totalPoints:ve.totalPoints}),console.log("Successfully updated user stat field in Firestore");const Le=await Zo(De);Le.exists()?console.log("Verified updated user stat in Firestore:",Le.data()):console.warn("User document not found after update")}}catch(De){console.error("Error updating user stat field in Firestore:",De)}},Ae=()=>{we("coursesCompleted",50)},tt=async()=>{if(e)try{const me=Re(Ne,"users",e.uid);await un(me,{recipesViewed:tR(1),totalPoints:tR(10)}),l(be=>({...be,recipesViewed:(be.recipesViewed||0)+1,totalPoints:(be.totalPoints||0)+10})),console.log("Successfully incremented recipesViewed and totalPoints in Firestore")}catch(me){console.error("Error incrementing recipesViewed in Firestore:",me)}},Xt=()=>{we("transportTrips",20)};return o.jsx(tV.Provider,{value:{carbonEntries:n,scannedProducts:i,userStats:a,completedActions:I,actionProgress:$,setCompletedActions:R,setActionProgress:W,selectedAICategory:H,selectedAIPriority:F,setSelectedAICategory:M,setSelectedAIPriority:U,selectedCategory:X,setSelectedCategory:z,selectedPriority:G,setSelectedPriority:q,selectedTab:ae,setSelectedTab:ye,enrolledCourses:c,courseProgress:h,enrollInCourse:j,updateCourseProgress:A,likedArticles:f,bookmarkedArticles:g,registeredWebinars:y,likeArticle:_,bookmarkArticle:k,registerWebinar:E,addCarbonEntry:Z,addScannedProduct:ue,addPoints:V,redeemReward:le,addToCart:pe,incrementCourseCompleted:Ae,incrementRecipeViewed:tt,incrementTransportTrip:Xt,loading:ie},children:t})},Xr=()=>{const t=C.useContext(tV);if(t===void 0)throw new Error("useUserData must be used within a UserDataProvider");return t},rV=C.createContext(void 0),iV=({children:t})=>{const[e,n]=C.useState([]),[r,i]=C.useState(!0),{user:s}=_n(),{toast:a}=Ks(),{addPoints:l}=Xr();C.useEffect(()=>{let f;if(s&&s.uid){console.log(`Subscribing to cart for user ${s.uid}`);const m=Re(Ne,"users",s.uid,"cart","items");i(!0),f=Or(m,g=>{if(g.exists()){const v=g.data();console.log("Cart data received:",v),v&&Array.isArray(v.items)?n(v.items):n([])}else console.log("Cart document does not exist, initializing empty cart"),n([]);i(!1)},g=>{console.error("Error fetching cart data:",g),n([]),i(!1),a({title:"Error loading cart",description:"Could not load your cart data.",variant:"destructive"})})}else console.log("No user logged in, clearing cart"),n([]),i(!1);return()=>{f&&(console.log("Unsubscribing from cart"),f())}},[s,a]);const c=async f=>{if(!s||!s.uid){a({title:"Login Required",description:"Please log in to add items to your cart.",variant:"destructive"});return}try{console.log(`Adding product ${f.id} to cart for user ${s.uid}`);const m=Re(Ne,"users",s.uid,"cart","items"),g=await Zo(m);let v=[];g.exists()&&Array.isArray(g.data().items)?v=g.data().items:(console.log("Cart document does not exist or items field missing, initializing empty cart"),await Zt(m,{items:[]},{merge:!0}),v=[]);const y=v.findIndex(b=>b.id===f.id);let x;y>-1?(x=[...v],x[y].quantity+=1):x=[...v,{id:f.id,quantity:1,name:f.name,price:f.price,image:f.image,brand:null}],await Zt(m,{items:x},{merge:!0}),console.log("Cart updated successfully"),l(10),a({title:"Added to Cart!",description:`${f.name} added to cart. You earned 10 points!`})}catch(m){console.error("Error adding to cart:",m),a({title:"Error adding to cart",description:"Could not add the product to your cart. Please try again.",variant:"destructive"})}},u=async f=>{if(!s||!s.uid){a({title:"Login Required",description:"Please log in to manage your cart.",variant:"destructive"});return}try{const m=Re(Ne,"users",s.uid,"cart","items"),g=await Zo(m);let v=[];g.exists()&&Array.isArray(g.data().items)?v=g.data().items:(await un(m,{items:[]}),v=[]);const y=v.filter(x=>x.id!==f);await Zt(m,{items:y},{merge:!0}),a({title:"Removed from Cart",description:"Product removed from your cart."})}catch(m){console.error("Error removing from cart:",m),a({title:"Error removing from cart",description:"Could not remove the product from your cart. Please try again.",variant:"destructive"})}},h=async(f,m)=>{if(!s||!s.uid){a({title:"Login Required",description:"Please log in to update your cart.",variant:"destructive"});return}if(m<=0){u(f);return}try{const g=Re(Ne,"users",s.uid,"cart","items"),v=await Zo(g);let y=[];v.exists()&&Array.isArray(v.data().items)?y=v.data().items:(await Zt(g,{items:[]},{merge:!0}),y=[]);const x=y.findIndex(b=>b.id===f);if(x>-1){const b=[...y];b[x].quantity=m,await Zt(g,{items:b},{merge:!0})}else console.warn(`Attempted to update quantity for product ${f} not found in cart.`)}catch(g){console.error("Error updating quantity:",g),a({title:"Error updating quantity",description:"Could not update the product quantity. Please try again.",variant:"destructive"})}},d=async()=>{if(!s||!s.uid){a({title:"Login Required",description:"Please log in to clear your cart.",variant:"destructive"});return}try{console.log(`Clearing cart for user ${s.uid}`);const f=Re(Ne,"users",s.uid,"cart","items");await Zt(f,{items:[]},{merge:!0}),console.log("Cart cleared successfully"),a({title:"Cart Cleared",description:"Your shopping cart has been cleared."})}catch(f){console.error("Error clearing cart:",f),a({title:"Error clearing cart",description:"Could not clear your cart. Please try again.",variant:"destructive"})}};return o.jsx(rV.Provider,{value:{cartItems:e,addToCart:c,removeFromCart:u,updateQuantity:h,clearCart:d,loadingCart:r},children:t})},Ph=()=>{const t=C.useContext(rV);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},sV=C.createContext(void 0),Ya=()=>{const t=C.useContext(sV);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},Jce=({children:t})=>{const{currentUser:e}=_n(),[n,r]=C.useState([]),[i,s]=C.useState(0),[a,l]=C.useState(!0),{isLoading:c}=_n();C.useEffect(()=>{if(c){l(!0);return}if(!e){console.info("No currentUser found in NotificationsContextNew, clearing notifications."),r([]),s(0);return}l(!0),console.log("Setting up notifications listener for user:",e.uid);let g;return(async()=>{const y=Re(Ne,"users",e.uid),x=gt(y,"notifications"),b=jc(x,Od("timestamp","desc"),eoe(50));try{const w=await Nn(b),N=[];let S=0;w.forEach(P=>{const j=P.data();N.push({id:P.id,...j}),j.read||S++}),r(N),s(S),l(!1),g=Or(b,P=>{const j=[];let _=0;P.forEach(k=>{const E=k.data();j.push({id:k.id,...E}),E.read||_++}),r(j),s(_)},P=>{P.code==="permission-denied"?(console.warn("Firestore permission denied for notifications:",P.message),r([]),s(0)):console.error("Error fetching notifications from Firestore:",P)})}catch(w){console.error("Unexpected error setting up notifications listener:",w),r([]),s(0),l(!1)}})(),()=>{g&&g()}},[e,c]);const m={notifications:n,unreadCount:i,addNotification:async g=>{if(!e)return;const v=Re(Ne,"users",e.uid),y=gt(v,"notifications"),{icon:x,...b}=g;try{await Rd(y,{...b,timestamp:new Date,read:!1})}catch(w){console.error("Error adding notification to Firestore:",w)}},markAsRead:async g=>{if(!e)return;const v=Re(Ne,"users",e.uid),y=Re(v,"notifications",g);try{await un(y,{read:!0})}catch(x){console.error("Error marking notification as read in Firestore:",x)}},markAllAsRead:async()=>{if(!e)return;const g=Re(Ne,"users",e.uid),v=gt(g,"notifications");try{const x=(await Nn(v)).docs.map(b=>un(b.ref,{read:!0}));await Promise.all(x)}catch(y){console.error("Error marking all notifications as read in Firestore:",y)}},clearAllNotifications:async()=>{if(!e)return;const g=Re(Ne,"users",e.uid),v=gt(g,"notifications");try{const y=await Nn(v),x=pu(Ne);y.docs.forEach(b=>{x.delete(b.ref)}),await x.commit()}catch(y){console.error("Error clearing all notifications in Firestore:",y)}},loading:a};return o.jsx(sV.Provider,{value:m,children:t})},te=C.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:vt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));te.displayName="Card";const je=C.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:vt("flex flex-col space-y-1.5 p-6",t),...e}));je.displayName="CardHeader";const Ce=C.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:vt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ce.displayName="CardTitle";const Zce=C.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:vt("text-sm text-muted-foreground",t),...e}));Zce.displayName="CardDescription";const ce=C.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:vt("p-6 pt-0",t),...e}));ce.displayName="CardContent";const eue=C.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:vt("flex items-center p-6 pt-0",t),...e}));eue.displayName="CardFooter";const tue=cb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?md:"button";return o.jsx(a,{className:vt(tue({variant:e,size:n,className:t})),ref:s,...i})});Y.displayName="Button";const st=C.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:vt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));st.displayName="Input";function nue(t,e=[]){let n=[];function r(s,a){const l=C.createContext(a),c=n.length;n=[...n,a];function u(d){const{scope:f,children:m,...g}=d,v=(f==null?void 0:f[t][c])||l,y=C.useMemo(()=>g,Object.values(g));return o.jsx(v.Provider,{value:y,children:m})}function h(d,f){const m=(f==null?void 0:f[t][c])||l,g=C.useContext(m);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,h]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,rue(i,...e)]}function rue(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var iue=C.createContext(void 0);function aV(t){const e=C.useContext(iue);return t||e||"ltr"}var h_="rovingFocusGroup.onEntryFocus",sue={bubbles:!1,cancelable:!0},tw="RovingFocusGroup",[HN,oV,aue]=P$(tw),[oue,lV]=nue(tw,[aue]),[lue,cue]=oue(tw),cV=C.forwardRef((t,e)=>o.jsx(HN.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(HN.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(uue,{...t,ref:e})})}));cV.displayName=tw;var uue=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...d}=t,f=C.useRef(null),m=yr(e,f),g=aV(s),[v=null,y]=sb({prop:a,defaultProp:l,onChange:c}),[x,b]=C.useState(!1),w=Qr(u),N=oV(n),S=C.useRef(!1),[P,j]=C.useState(0);return C.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(h_,w),()=>_.removeEventListener(h_,w)},[w]),o.jsx(lue,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:v,onItemFocus:C.useCallback(_=>y(_),[y]),onItemShiftTab:C.useCallback(()=>b(!0),[]),onFocusableItemAdd:C.useCallback(()=>j(_=>_+1),[]),onFocusableItemRemove:C.useCallback(()=>j(_=>_-1),[]),children:o.jsx(mt.div,{tabIndex:x||P===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...t.style},onMouseDown:ht(t.onMouseDown,()=>{S.current=!0}),onFocus:ht(t.onFocus,_=>{const k=!S.current;if(_.target===_.currentTarget&&k&&!x){const E=new CustomEvent(h_,sue);if(_.currentTarget.dispatchEvent(E),!E.defaultPrevented){const A=N().filter(H=>H.focusable),I=A.find(H=>H.active),R=A.find(H=>H.id===v),W=[I,R,...A].filter(Boolean).map(H=>H.ref.current);hV(W,h)}}S.current=!1}),onBlur:ht(t.onBlur,()=>b(!1))})})}),uV="RovingFocusGroupItem",dV=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...a}=t,l=im(),c=s||l,u=cue(uV,n),h=u.currentTabStopId===c,d=oV(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=u;return C.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),o.jsx(HN.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:o.jsx(mt.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:ht(t.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:ht(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ht(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=fue(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=d().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const b=x.indexOf(g.currentTarget);x=u.loop?mue(x,b+1):x.slice(b+1)}setTimeout(()=>hV(x))}})})})});dV.displayName=uV;var due={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hue(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fue(t,e,n){const r=hue(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return due[r]}function hV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function mue(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var pue=cV,gue=dV,gA="Tabs",[yue,VDe]=eg(gA,[lV]),fV=lV(),[vue,yA]=yue(gA),mV=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=aV(l),[d,f]=sb({prop:r,onChange:i,defaultProp:s});return o.jsx(vue,{scope:n,baseId:im(),value:d,onValueChange:f,orientation:a,dir:h,activationMode:c,children:o.jsx(mt.div,{dir:h,"data-orientation":a,...u,ref:e})})});mV.displayName=gA;var pV="TabsList",gV=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=yA(pV,n),a=fV(n);return o.jsx(pue,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:o.jsx(mt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});gV.displayName=pV;var yV="TabsTrigger",vV=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=yA(yV,n),l=fV(n),c=wV(a.baseId,r),u=_V(a.baseId,r),h=r===a.value;return o.jsx(gue,{asChild:!0,...l,focusable:!i,active:h,children:o.jsx(mt.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:ht(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:ht(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:ht(t.onFocus,()=>{const d=a.activationMode!=="manual";!h&&!i&&d&&a.onValueChange(r)})})})});vV.displayName=yV;var xV="TabsContent",bV=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,l=yA(xV,n),c=wV(l.baseId,r),u=_V(l.baseId,r),h=r===l.value,d=C.useRef(h);return C.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),o.jsx(Lc,{present:i||h,children:({present:f})=>o.jsx(mt.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&s})})});bV.displayName=xV;function wV(t,e){return`${t}-trigger-${e}`}function _V(t,e){return`${t}-content-${e}`}var xue=mV,SV=gV,NV=vV,jV=bV;const Jr=xue,Zr=C.forwardRef(({className:t,grid:e=!1,...n},r)=>o.jsx(SV,{ref:r,className:vt(e?"grid w-full grid-cols-3 lg:grid-cols-6 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground":"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n}));Zr.displayName=SV.displayName;const Qe=C.forwardRef(({className:t,...e},n)=>o.jsx(NV,{ref:n,className:vt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Qe.displayName=NV.displayName;const Oe=C.forwardRef(({className:t,...e},n)=>o.jsx(jV,{ref:n,className:vt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Oe.displayName=jV.displayName;const bue=cb("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ne({className:t,variant:e,...n}){return o.jsx("div",{className:vt(bue({variant:e}),t),...n})}const Mv=({onNavigate:t,activeTab:e,toggleLoginForm:n,cartItems:r=[],updateCartItem:i,removeFromCart:s,clearCart:a})=>{const[l,c]=C.useState(!1),[u,h]=C.useState(null),[d,f]=C.useState(!1),[m,g]=C.useState(!1),{theme:v,toggleTheme:y}=XZ(),{unreadCount:x}=Ya(),{user:b,logout:w}=_n(),N=r.reduce(($,W)=>$+W.quantity,0),S=r.reduce(($,W)=>{const H=typeof W.price=="number"?W.price:0;return $+H*W.quantity},0),P=[{id:"scanner",label:"AI Scanner",icon:Go},{id:"chatbot",label:"EcoBot Assistant",icon:a0},{id:"carbon-tracker",label:"Carbon Tracker",icon:xn},{id:"ai-recommendations",label:"AI Recommendations",icon:ha}],j=[{id:"marketplace",label:"Marketplace",icon:fr},{id:"community",label:"Community",icon:Wm},{id:"education",label:"Education",icon:Ho},{id:"rewards",label:"Rewards",icon:rm}],_=[{id:"smart-insights",label:"Smart Insights",icon:vr},{id:"comparison",label:"Product Comparison",icon:vd}],k=[{id:"recipe-finder",label:"Eco Recipes",icon:Y0},{id:"transportation-planner",label:"Transport Planner",icon:Ff},{id:"lifecycle",label:"Product Lifecycle",icon:vd}],E=()=>{w(),f(!1)},A=()=>{g(!m),h(null),f(!1)},I=($,W)=>{W<=0?s==null||s($):i==null||i($,W)},R=()=>{t("checkout"),g(!1)};return C.useEffect(()=>{const $=W=>{W.target.closest(".dropdown-container")||(h(null),f(!1),g(!1))};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[]),C.useEffect(()=>{h(null),f(!1),g(!1)},[e]),o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-md border-b border-gray-100 shadow-sm dark:bg-gray-900/95 dark:border-gray-800",children:o.jsxs("div",{className:"container mx-auto px-4 h-20",children:[o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group min-w-[160px]",onClick:()=>t("home"),children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 via-green-600 to-teal-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-emerald-400/50 transition-all duration-700 group-hover:scale-110 group-hover:rotate-12 animate-float",children:o.jsx(dt,{className:"w-6 h-6 text-white transform group-hover:scale-110 transition-all duration-700"})}),o.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-xl blur opacity-0 group-hover:opacity-40 transition-all duration-700 animate-pulse-glow"})]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-emerald-700 via-green-600 to-teal-600 bg-clip-text text-transparent group-hover:from-emerald-600 group-hover:via-green-500 group-hover:to-teal-500 transition-all duration-700 animate-gradient-x",children:"EcoScope"}),o.jsx("p",{className:"text-xs text-gray-500 group-hover:text-emerald-600 transition-colors duration-500 dark:text-gray-400",children:"Sustainability"})]})]}),o.jsxs("div",{className:"hidden lg:flex items-center space-x-1 flex-1 justify-center max-w-4xl",children:[P.slice(0,4).map($=>o.jsxs(Y,{variant:e===$.id?"default":"ghost",size:"sm",className:`px-3 py-2 text-sm h-9 transition-all duration-200 ${e===$.id?"bg-emerald-600 text-white hover:bg-emerald-700 shadow-md":"text-gray-700 hover:text-emerald-600 hover:bg-emerald-50 dark:text-gray-300 dark:hover:text-emerald-400 dark:hover:bg-emerald-900/20"}`,onClick:()=>t($.id),children:[o.jsx($.icon,{className:"w-4 h-4 mr-2"}),$.label]},$.id)),o.jsxs("div",{className:"relative dropdown-container",children:[o.jsxs(Y,{variant:"ghost",size:"sm",className:"px-3 py-2 text-sm text-gray-700 hover:text-emerald-600 hover:bg-emerald-50 h-9 transition-all duration-200 dark:text-gray-300 dark:hover:text-emerald-400 dark:hover:bg-emerald-900/20",onMouseEnter:()=>h("smart-tools"),onMouseLeave:()=>h(null),children:["Smart Tools",o.jsx(V1,{className:"w-3 h-3 ml-1"})]}),u==="smart-tools"&&o.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-200 rounded-xl shadow-2xl z-50 animate-fade-in dark:bg-gray-800 dark:border-gray-700",onMouseEnter:()=>h("smart-tools"),onMouseLeave:()=>h(null),children:o.jsx("div",{className:"p-3 space-y-1",children:_.map($=>o.jsxs(Y,{variant:"ghost",size:"sm",className:`w-full justify-start px-3 py-2 text-sm h-9 transition-all duration-200 rounded-lg ${e===$.id?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-200":"text-gray-600 hover:bg-gray-50 hover:text-emerald-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-emerald-400"}`,onClick:()=>{t($.id),h(null)},children:[o.jsx($.icon,{className:"w-4 h-4 mr-3"}),$.label]},$.id))})})]}),o.jsxs("div",{className:"relative dropdown-container",children:[o.jsxs(Y,{variant:"ghost",size:"sm",className:"px-3 py-2 text-sm text-gray-700 hover:text-emerald-600 hover:bg-emerald-50 h-9 transition-all duration-200 dark:text-gray-300 dark:hover:text-emerald-400 dark:hover:bg-emerald-900/20",onMouseEnter:()=>h("more"),onMouseLeave:()=>h(null),children:["More",o.jsx(V1,{className:"w-3 h-3 ml-1"})]}),u==="more"&&o.jsx("div",{className:"absolute top-full left-0 mt-1 w-72 bg-white border border-gray-200 rounded-xl shadow-2xl z-50 max-h-96 overflow-y-auto animate-fade-in dark:bg-gray-800 dark:border-gray-700",onMouseEnter:()=>h("more"),onMouseLeave:()=>h(null),children:o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-emerald-700 uppercase tracking-wide border-b border-emerald-100 dark:text-emerald-400 dark:border-emerald-800",children:"Main Features"}),o.jsx("div",{className:"mt-2 space-y-1",children:j.map($=>o.jsxs(Y,{variant:e===$.id?"default":"ghost",size:"sm",className:`w-full justify-start px-3 py-2 text-sm h-9 transition-all duration-200 rounded-lg ${e===$.id?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-200":"text-gray-600 hover:bg-gray-50 hover:text-emerald-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-emerald-400"}`,onClick:()=>{t($.id),h(null)},children:[o.jsx($.icon,{className:"w-4 h-4 mr-3"}),$.label]},$.id))})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-emerald-700 uppercase tracking-wide border-b border-emerald-100 dark:text-emerald-400 dark:border-emerald-800",children:"Lifestyle"}),o.jsx("div",{className:"mt-2 space-y-1",children:k.map($=>o.jsxs(Y,{variant:e===$.id?"default":"ghost",size:"sm",className:`w-full justify-start pl-6 transition-all duration-200 rounded-lg ${e===$.id?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-200":"text-gray-600 hover:bg-gray-50 hover:text-emerald-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-emerald-400"}`,onClick:()=>{t($.id),h(null)},children:[o.jsx($.icon,{className:"w-4 h-4 mr-3"}),$.label]},$.id))})]})]})})]})]}),o.jsxs("div",{className:"hidden lg:flex items-center space-x-4 min-w-[200px] justify-end",children:[o.jsxs("div",{className:"relative dropdown-container",children:[o.jsxs(Y,{variant:"ghost",size:"sm",className:"p-2 hover:bg-emerald-50 transition-colors duration-200 rounded-lg dark:hover:bg-emerald-900/20 relative",onClick:A,children:[o.jsx(fr,{className:"w-5 h-5"}),N>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:N>99?"99+":N})]}),m&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white border border-gray-200 rounded-xl shadow-2xl z-50 max-h-96 overflow-hidden dark:bg-gray-800 dark:border-gray-700",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-600",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Shopping Cart"}),r.length>0&&o.jsxs(Y,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",onClick:()=>a==null?void 0:a(),children:[o.jsx(tg,{className:"w-4 h-4 mr-1"}),"Clear"]})]})}),o.jsx("div",{className:"max-h-64 overflow-y-auto",children:r.length===0?o.jsxs("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:[o.jsx(fr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"Your cart is empty"}),o.jsx(Y,{size:"sm",className:"mt-3 bg-emerald-600 hover:bg-emerald-700",onClick:()=>{t("marketplace"),g(!1)},children:"Browse Products"})]}):o.jsx("div",{className:"p-2",children:r.map($=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[o.jsx("img",{src:$.image||"/api/placeholder/40/40",alt:$.name,className:"w-10 h-10 rounded-lg object-cover"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:$.name}),o.jsxs("p",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:["$",typeof $.price=="number"?$.price.toFixed(2):"N/A"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Y,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 hover:bg-gray-200 dark:hover:bg-gray-600",onClick:()=>I($.id,$.quantity-1),children:o.jsx(N2,{className:"w-3 h-3"})}),o.jsx("span",{className:"text-sm font-medium w-8 text-center",children:$.quantity}),o.jsx(Y,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 hover:bg-gray-200 dark:hover:bg-gray-600",onClick:()=>I($.id,$.quantity+1),children:o.jsx(es,{className:"w-3 h-3"})})]})]},$.id))})}),r.length>0&&o.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-600",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Total:"}),o.jsxs("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:["$",S.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Y,{className:"w-full bg-emerald-600 hover:bg-emerald-700",onClick:R,children:"Checkout"}),o.jsx(Y,{variant:"outline",className:"w-full",onClick:()=>{t("marketplace"),g(!1)},children:"Continue Shopping"})]})]})]})]}),o.jsxs(Y,{variant:"ghost",size:"sm",className:"p-2 hover:bg-emerald-50 transition-colors duration-200 rounded-lg dark:hover:bg-emerald-900/20 relative",onClick:()=>t("notifications"),children:[o.jsx(Wo,{className:"w-5 h-5"}),x>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:x>99?"99+":x})]}),o.jsx(Y,{variant:"ghost",size:"sm",className:"p-2 hover:bg-emerald-50 transition-colors duration-200 rounded-lg dark:hover:bg-emerald-900/20",onClick:y,children:v==="dark"?o.jsx(qS,{className:"w-5 h-5"}):o.jsx(KP,{className:"w-5 h-5"})}),b?o.jsxs("div",{className:"relative dropdown-container",children:[o.jsxs(Y,{variant:"ghost",size:"sm",className:"flex items-center space-x-2 p-2 hover:bg-emerald-50 transition-colors duration-200 rounded-lg dark:hover:bg-emerald-900/20",onClick:()=>f(!d),children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center",children:o.jsx(As,{className:"w-4 h-4 text-white"})}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:b.name}),o.jsx(V1,{className:"w-4 h-4"})]}),d&&o.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-xl shadow-lg z-50 dark:bg-gray-800 dark:border-gray-700",children:o.jsxs("div",{className:"p-2",children:[o.jsxs(Y,{variant:"ghost",size:"sm",className:"w-full justify-start text-left p-3 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>{t("profile"),f(!1)},children:[o.jsx(As,{className:"w-4 h-4 mr-3"}),"View Profile"]}),o.jsxs(Y,{variant:"ghost",size:"sm",className:"w-full justify-start text-left p-3 hover:bg-red-50 text-red-600 dark:hover:bg-red-400 dark:hover:bg-red-900/20",onClick:E,children:[o.jsx(GS,{className:"w-4 h-4 mr-3"}),"Logout"]})]})})]}):n&&o.jsx(Y,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-sm px-4 h-9 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>{b?t("scanner"):n&&n()},children:"Get Started"})]}),o.jsxs("div",{className:"lg:hidden flex items-center space-x-4",children:[o.jsxs(Y,{variant:"ghost",size:"sm",className:"p-2 hover:bg-emerald-50 transition-colors duration-200 rounded-lg dark:hover:bg-emerald-900/20 relative",onClick:A,children:[o.jsx(fr,{className:"w-5 h-5"}),N>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:N>99?"99+":N})]}),o.jsxs(Y,{variant:"ghost",size:"sm",className:"p-2 hover:bg-emerald-50 transition-colors duration-200 rounded-lg dark:hover:bg-emerald-900/20 relative",onClick:()=>t("notifications"),children:[o.jsx(Wo,{className:"w-5 h-5"}),x>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:x>99?"99+":x})]}),o.jsx(Y,{variant:"ghost",size:"sm",className:"p-2 hover:bg-emerald-50 transition-colors duration-200 rounded-lg dark:hover:bg-emerald-900/20",onClick:y,children:v==="dark"?o.jsx(qS,{className:"w-5 h-5"}):o.jsx(KP,{className:"w-5 h-5"})}),b?o.jsx(Y,{variant:"ghost",size:"sm",className:"p-2 hover:bg-emerald-50 transition-colors duration-200 rounded-lg dark:hover:bg-emerald-900/20",onClick:()=>t("profile"),children:o.jsx(As,{className:"w-5 h-5"})}):n&&o.jsx(Y,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-sm px-4 h-9 shadow-lg hover:shadow-xl transition-all duration-200",onClick:n,children:"Get Started"})]}),o.jsx(Y,{variant:"ghost",size:"sm",className:"lg:hidden p-2",onClick:()=>c(!l),children:l?o.jsx(ng,{className:"w-5 h-5"}):o.jsx(DY,{className:"w-5 h-5"})})]}),l&&o.jsx("div",{className:"lg:hidden border-t border-gray-200 py-4 bg-white max-h-[80vh] overflow-y-auto animate-fade-in dark:bg-gray-900 dark:border-gray-700",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide dark:text-gray-400",children:"Quick Access"}),P.map($=>o.jsxs(Y,{variant:e===$.id?"default":"ghost",className:"w-full justify-start transition-all duration-200",onClick:()=>{t($.id),c(!1)},children:[o.jsx($.icon,{className:"w-4 h-4 mr-3"}),$.label]},$.id))]}),o.jsx("div",{className:"mb-4 px-4 space-y-2",children:o.jsxs(Y,{variant:"outline",className:"w-full justify-start relative",onClick:()=>{g(!0),c(!1)},children:[o.jsx(fr,{className:"w-4 h-4 mr-3"}),"Shopping Cart",N>0&&o.jsx("span",{className:"absolute right-3 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:N>99?"99+":N})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-emerald-700 uppercase tracking-wide border-b border-emerald-100 dark:text-emerald-400 dark:border-emerald-800",children:"Main Features"}),j.map($=>o.jsxs(Y,{variant:e===$.id?"default":"ghost",className:"w-full justify-start transition-all duration-200",onClick:()=>{t($.id),c(!1)},children:[o.jsx($.icon,{className:"w-4 h-4 mr-3"}),$.label]},$.id))]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-emerald-700 uppercase tracking-wide border-b border-emerald-100 dark:text-emerald-400 dark:border-emerald-800",children:"Smart Tools"}),_.map($=>o.jsxs(Y,{variant:e===$.id?"default":"ghost",className:"w-full justify-start pl-6 transition-all duration-200",onClick:()=>{t($.id),c(!1)},children:[o.jsx($.icon,{className:"w-4 h-4 mr-3"}),$.label]},$.id))]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-emerald-700 uppercase tracking-wide border-b border-emerald-100 dark:text-emerald-400 dark:border-emerald-800",children:"Lifestyle"}),k.map($=>o.jsxs(Y,{variant:e===$.id?"default":"ghost",className:"w-full justify-start pl-6 transition-all duration-200",onClick:()=>{t($.id),c(!1)},children:[o.jsx($.icon,{className:"w-4 h-4 mr-3"}),$.label]},$.id))]}),o.jsx("div",{className:"pt-4 border-t border-gray-200 space-y-2 dark:border-gray-700",children:b?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-4 py-2",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center",children:o.jsx(As,{className:"w-4 h-4 text-white"})}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:b.name})]})}),o.jsxs(Y,{variant:"ghost",className:"w-full justify-start",onClick:()=>{t("profile"),c(!1)},children:[o.jsx(As,{className:"w-4 h-4 mr-3"})," Profile"]}),o.jsxs(Y,{variant:"ghost",className:"w-full justify-start text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",onClick:E,children:[o.jsx(GS,{className:"w-4 h-4 mr-3"})," Logout"]})]}):n&&o.jsx(Y,{className:"w-full bg-emerald-600 hover:bg-emerald-700",onClick:n,children:"Get Started"})})]})})]})})};var f_="focusScope.autoFocusOnMount",m_="focusScope.autoFocusOnUnmount",$R={bubbles:!1,cancelable:!0},wue="FocusScope",EV=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,c]=C.useState(null),u=Qr(i),h=Qr(s),d=C.useRef(null),f=yr(e,v=>c(v)),m=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let v=function(w){if(m.paused||!l)return;const N=w.target;l.contains(N)?d.current=N:mo(d.current,{select:!0})},y=function(w){if(m.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||mo(d.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&mo(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),b.disconnect()}}},[r,l,m.paused]),C.useEffect(()=>{if(l){FR.add(m);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(f_,$R);l.addEventListener(f_,u),l.dispatchEvent(x),x.defaultPrevented||(_ue(Cue(CV(l)),{select:!0}),document.activeElement===v&&mo(l))}return()=>{l.removeEventListener(f_,u),setTimeout(()=>{const x=new CustomEvent(m_,$R);l.addEventListener(m_,h),l.dispatchEvent(x),x.defaultPrevented||mo(v??document.body,{select:!0}),l.removeEventListener(m_,h),FR.remove(m)},0)}}},[l,u,h,m]);const g=C.useCallback(v=>{if(!n&&!r||m.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(y&&x){const b=v.currentTarget,[w,N]=Sue(b);w&&N?!v.shiftKey&&x===N?(v.preventDefault(),n&&mo(w,{select:!0})):v.shiftKey&&x===w&&(v.preventDefault(),n&&mo(N,{select:!0})):x===b&&v.preventDefault()}},[n,r,m.paused]);return o.jsx(mt.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});EV.displayName=wue;function _ue(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(mo(r,{select:e}),document.activeElement!==n)return}function Sue(t){const e=CV(t),n=LR(e,t),r=LR(e.reverse(),t);return[n,r]}function CV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function LR(t,e){for(const n of t)if(!Nue(n,{upTo:e}))return n}function Nue(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jue(t){return t instanceof HTMLInputElement&&"select"in t}function mo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&jue(t)&&e&&t.select()}}var FR=Eue();function Eue(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=VR(t,e),t.unshift(e)},remove(e){var n;t=VR(t,e),(n=t[0])==null||n.resume()}}}function VR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Cue(t){return t.filter(e=>e.tagName!=="A")}var p_=0;function Aue(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??BR()),document.body.insertAdjacentElement("beforeend",t[1]??BR()),p_++,()=>{p_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),p_--}},[])}function BR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var w0="right-scroll-bar-position",_0="width-before-scroll-bar",Tue="with-scroll-bars-hidden",kue="--removed-body-scroll-bar-size";function g_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Pue(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Iue=typeof window<"u"?C.useLayoutEffect:C.useEffect,UR=new WeakMap;function Oue(t,e){var n=Pue(null,function(r){return t.forEach(function(i){return g_(i,r)})});return Iue(function(){var r=UR.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||g_(l,null)}),s.forEach(function(l){i.has(l)||g_(l,a)})}UR.set(n,t)},[t]),n}function Rue(t){return t}function Mue(t,e){e===void 0&&(e=Rue);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var h=a;a=[],h.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return i}function Due(t){t===void 0&&(t={});var e=Mue(null);return e.options=Ts({async:!0,ssr:!1},t),e}var AV=function(t){var e=t.sideCar,n=ag(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Ts({},n))};AV.isSideCarExport=!0;function $ue(t,e){return t.useMedium(e),AV}var TV=Due(),y_=function(){},nw=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:y_,onWheelCapture:y_,onTouchMoveCapture:y_}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,d=t.shards,f=t.sideCar,m=t.noIsolation,g=t.inert,v=t.allowPinchZoom,y=t.as,x=y===void 0?"div":y,b=t.gapMode,w=ag(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,S=Oue([n,e]),P=Ts(Ts({},w),i);return C.createElement(C.Fragment,null,h&&C.createElement(N,{sideCar:TV,removeScrollBar:u,shards:d,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:b}),a?C.cloneElement(C.Children.only(l),Ts(Ts({},P),{ref:S})):C.createElement(x,Ts({},P,{className:c,ref:S}),l))});nw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nw.classNames={fullWidth:_0,zeroRight:w0};var Lue=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Fue(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Lue();return e&&t.setAttribute("nonce",e),t}function Vue(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Bue(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Uue=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Fue())&&(Vue(e,n),Bue(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zue=function(){var t=Uue();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},kV=function(){var t=zue(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Wue={left:0,top:0,right:0,gap:0},v_=function(t){return parseInt(t||"",10)||0},Hue=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[v_(n),v_(r),v_(i)]},Gue=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Wue;var e=Hue(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},que=kV(),qu="data-scroll-locked",Kue=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Tue,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(qu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(w0,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(_0,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(w0," .").concat(w0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_0," .").concat(_0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qu,`] {
    `).concat(kue,": ").concat(l,`px;
  }
`)},zR=function(){var t=parseInt(document.body.getAttribute(qu)||"0",10);return isFinite(t)?t:0},Yue=function(){C.useEffect(function(){return document.body.setAttribute(qu,(zR()+1).toString()),function(){var t=zR()-1;t<=0?document.body.removeAttribute(qu):document.body.setAttribute(qu,t.toString())}},[])},Que=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Yue();var s=C.useMemo(function(){return Gue(i)},[i]);return C.createElement(que,{styles:Kue(s,!e,i,n?"":"!important")})},GN=!1;if(typeof window<"u")try{var Ay=Object.defineProperty({},"passive",{get:function(){return GN=!0,!0}});window.addEventListener("test",Ay,Ay),window.removeEventListener("test",Ay,Ay)}catch{GN=!1}var ru=GN?{passive:!1}:!1,Xue=function(t){return t.tagName==="TEXTAREA"},PV=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xue(t)&&n[e]==="visible")},Jue=function(t){return PV(t,"overflowY")},Zue=function(t){return PV(t,"overflowX")},WR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=IV(t,r);if(i){var s=OV(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ede=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},tde=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},IV=function(t,e){return t==="v"?Jue(e):Zue(e)},OV=function(t,e){return t==="v"?ede(e):tde(e)},nde=function(t,e){return t==="h"&&e==="rtl"?-1:1},rde=function(t,e,n,r,i){var s=nde(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,c=e.contains(l),u=!1,h=a>0,d=0,f=0;do{var m=OV(t,l),g=m[0],v=m[1],y=m[2],x=v-y-s*g;(g||x)&&IV(t,l)&&(d+=x,f+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(d)<1||!i)||!h&&(Math.abs(f)<1||!i))&&(u=!0),u},Ty=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},HR=function(t){return[t.deltaX,t.deltaY]},GR=function(t){return t&&"current"in t?t.current:t},ide=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sde=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ade=0,iu=[];function ode(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(ade++)[0],s=C.useState(kV)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=Rte([t.lockRef.current],(t.shards||[]).map(GR),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=C.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var x=Ty(v),b=n.current,w="deltaX"in v?v.deltaX:b[0]-x[0],N="deltaY"in v?v.deltaY:b[1]-x[1],S,P=v.target,j=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in v&&j==="h"&&P.type==="range")return!1;var _=WR(j,P);if(!_)return!0;if(_?S=j:(S=j==="v"?"h":"v",_=WR(j,P)),!_)return!1;if(!r.current&&"changedTouches"in v&&(w||N)&&(r.current=S),!S)return!0;var k=r.current||S;return rde(k,y,v,k==="h"?w:N,!0)},[]),c=C.useCallback(function(v){var y=v;if(!(!iu.length||iu[iu.length-1]!==s)){var x="deltaY"in y?HR(y):Ty(y),b=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&ide(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(a.current.shards||[]).map(GR).filter(Boolean).filter(function(S){return S.contains(y.target)}),N=w.length>0?l(y,w[0]):!a.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),u=C.useCallback(function(v,y,x,b){var w={name:v,delta:y,target:x,should:b,shadowParent:lde(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(N){return N!==w})},1)},[]),h=C.useCallback(function(v){n.current=Ty(v),r.current=void 0},[]),d=C.useCallback(function(v){u(v.type,HR(v),v.target,l(v,t.lockRef.current))},[]),f=C.useCallback(function(v){u(v.type,Ty(v),v.target,l(v,t.lockRef.current))},[]);C.useEffect(function(){return iu.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ru),document.addEventListener("touchmove",c,ru),document.addEventListener("touchstart",h,ru),function(){iu=iu.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,ru),document.removeEventListener("touchmove",c,ru),document.removeEventListener("touchstart",h,ru)}},[]);var m=t.removeScrollBar,g=t.inert;return C.createElement(C.Fragment,null,g?C.createElement(s,{styles:sde(i)}):null,m?C.createElement(Que,{gapMode:t.gapMode}):null)}function lde(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cde=$ue(TV,ode);var RV=C.forwardRef(function(t,e){return C.createElement(nw,Ts({},t,{ref:e,sideCar:cde}))});RV.classNames=nw.classNames;var ude=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},su=new WeakMap,ky=new WeakMap,Py={},x_=0,MV=function(t){return t&&(t.host||MV(t.parentNode))},dde=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=MV(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hde=function(t,e,n,r){var i=dde(e,Array.isArray(t)?t:[t]);Py[n]||(Py[n]=new WeakMap);var s=Py[n],a=[],l=new Set,c=new Set(i),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};i.forEach(u);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(l.has(f))h(f);else try{var m=f.getAttribute(r),g=m!==null&&m!=="false",v=(su.get(f)||0)+1,y=(s.get(f)||0)+1;su.set(f,v),s.set(f,y),a.push(f),v===1&&g&&ky.set(f,!0),y===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return h(e),l.clear(),x_++,function(){a.forEach(function(d){var f=su.get(d)-1,m=s.get(d)-1;su.set(d,f),s.set(d,m),f||(ky.has(d)||d.removeAttribute(r),ky.delete(d)),m||d.removeAttribute(n)}),x_--,x_||(su=new WeakMap,su=new WeakMap,ky=new WeakMap,Py={})}},fde=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=ude(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),hde(r,i,n,"aria-hidden")):function(){return null}},vA="Dialog",[DV,BDe]=eg(vA),[mde,ys]=DV(vA),$V=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=C.useRef(null),c=C.useRef(null),[u=!1,h]=sb({prop:r,defaultProp:i,onChange:s});return o.jsx(mde,{scope:e,triggerRef:l,contentRef:c,contentId:im(),titleId:im(),descriptionId:im(),open:u,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(d=>!d),[h]),modal:a,children:n})};$V.displayName=vA;var LV="DialogTrigger",FV=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ys(LV,n),s=yr(e,i.triggerRef);return o.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":wA(i.open),...r,ref:s,onClick:ht(t.onClick,i.onOpenToggle)})});FV.displayName=LV;var xA="DialogPortal",[pde,VV]=DV(xA,{forceMount:void 0}),BV=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=ys(xA,e);return o.jsx(pde,{scope:e,forceMount:n,children:C.Children.map(r,a=>o.jsx(Lc,{present:n||s.open,children:o.jsx(b2,{asChild:!0,container:i,children:a})}))})};BV.displayName=xA;var Dv="DialogOverlay",UV=C.forwardRef((t,e)=>{const n=VV(Dv,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ys(Dv,t.__scopeDialog);return s.modal?o.jsx(Lc,{present:r||s.open,children:o.jsx(gde,{...i,ref:e})}):null});UV.displayName=Dv;var gde=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ys(Dv,n);return o.jsx(RV,{as:md,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(mt.div,{"data-state":wA(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Tc="DialogContent",zV=C.forwardRef((t,e)=>{const n=VV(Tc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ys(Tc,t.__scopeDialog);return o.jsx(Lc,{present:r||s.open,children:s.modal?o.jsx(yde,{...i,ref:e}):o.jsx(vde,{...i,ref:e})})});zV.displayName=Tc;var yde=C.forwardRef((t,e)=>{const n=ys(Tc,t.__scopeDialog),r=C.useRef(null),i=yr(e,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return fde(s)},[]),o.jsx(WV,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ht(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ht(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:ht(t.onFocusOutside,s=>s.preventDefault())})}),vde=C.forwardRef((t,e)=>{const n=ys(Tc,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return o.jsx(WV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),WV=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=ys(Tc,n),c=C.useRef(null),u=yr(e,c);return Aue(),o.jsxs(o.Fragment,{children:[o.jsx(EV,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(ib,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":wA(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(xde,{titleId:l.titleId}),o.jsx(wde,{contentRef:c,descriptionId:l.descriptionId})]})]})}),bA="DialogTitle",HV=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ys(bA,n);return o.jsx(mt.h2,{id:i.titleId,...r,ref:e})});HV.displayName=bA;var GV="DialogDescription",qV=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ys(GV,n);return o.jsx(mt.p,{id:i.descriptionId,...r,ref:e})});qV.displayName=GV;var KV="DialogClose",YV=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ys(KV,n);return o.jsx(mt.button,{type:"button",...r,ref:e,onClick:ht(t.onClick,()=>i.onOpenChange(!1))})});YV.displayName=KV;function wA(t){return t?"open":"closed"}var QV="DialogTitleWarning",[UDe,XV]=IK(QV,{contentName:Tc,titleName:bA,docsSlug:"dialog"}),xde=({titleId:t})=>{const e=XV(QV),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},bde="DialogDescriptionWarning",wde=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XV(bde).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},_de=$V,Sde=FV,Nde=BV,JV=UV,ZV=zV,eB=HV,tB=qV,jde=YV;const _A=_de,nB=Sde,Ede=Nde,rB=C.forwardRef(({className:t,...e},n)=>o.jsx(JV,{ref:n,className:vt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));rB.displayName=JV.displayName;const rw=C.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(Ede,{children:[o.jsx(rB,{}),o.jsxs(ZV,{ref:r,className:vt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(jde,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(ng,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rw.displayName=ZV.displayName;const iw=({className:t,...e})=>o.jsx("div",{className:vt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});iw.displayName="DialogHeader";const sw=C.forwardRef(({className:t,...e},n)=>o.jsx(eB,{ref:n,className:vt("text-lg font-semibold leading-none tracking-tight",t),...e}));sw.displayName=eB.displayName;const SA=C.forwardRef(({className:t,...e},n)=>o.jsx(tB,{ref:n,className:vt("text-sm text-muted-foreground",t),...e}));SA.displayName=tB.displayName;var Cde="Label",iB=C.forwardRef((t,e)=>o.jsx(mt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iB.displayName=Cde;var sB=iB;const Ade=cb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),At=C.forwardRef(({className:t,...e},n)=>o.jsx(sB,{ref:n,className:vt(Ade(),t),...e}));At.displayName=sB.displayName;var Tde="Separator",qR="horizontal",kde=["horizontal","vertical"],aB=C.forwardRef((t,e)=>{const{decorative:n,orientation:r=qR,...i}=t,s=Pde(r)?r:qR,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return o.jsx(mt.div,{"data-orientation":s,...l,...i,ref:e})});aB.displayName=Tde;function Pde(t){return kde.includes(t)}var oB=aB;const lB=C.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>o.jsx(oB,{ref:i,decorative:n,orientation:e,className:vt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));lB.displayName=oB.displayName;const NA=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,i]=C.useState(!0),[s,a]=C.useState(!1),[l,c]=C.useState({name:"",email:"",password:""}),{login:u,register:h,loginWithGoogle:d,isLoading:f}=_n(),[m,g]=D.useState(null),v=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),y=async N=>{if(N.preventDefault(),g(null),r){if(!l.email){g("Email is required."),ir.error("Email is required.");return}if(!v(l.email)){g("Please enter a valid email address."),ir.error("Please enter a valid email address.");return}if(!l.password){g("Password is required."),ir.error("Password is required.");return}if(l.password.length<6){g("Password must be at least 6 characters."),ir.error("Password must be at least 6 characters.");return}}else{if(!l.name.trim()){g("Please enter your full name."),ir.error("Please enter your full name.");return}if(!l.email){g("Email is required."),ir.error("Email is required.");return}if(!v(l.email)){g("Please enter a valid email address."),ir.error("Please enter a valid email address.");return}if(!l.password){g("Password is required."),ir.error("Password is required.");return}if(l.password.length<6){g("Password must be at least 6 characters."),ir.error("Password must be at least 6 characters.");return}}try{if(r){const S=await u(l.email,l.password);if(typeof S=="string"&&S!==""){g(S),ir.error(S);return}ir.success("Successfully logged in!"),n()}else{const S=await h(l.name,l.email,l.password);if(typeof S=="string"&&S!==""){g(S),ir.error(S);return}ir.success("Successfully registered! Please login."),i(!0),c({name:"",email:"",password:""})}}catch{ir.error(r?"Login failed":"Registration failed")}},x=async()=>{try{await d(),ir.success("Successfully logged in with Google!"),n()}catch{ir.error("Google login failed")}},b=()=>{c({name:"",email:"",password:""}),a(!1)},w=()=>{i(!r),b()};return o.jsx(_A,{open:t,onOpenChange:e,children:o.jsxs(rw,{className:"sm:max-w-md bg-white dark:bg-gray-900 border-emerald-100 dark:border-emerald-800",children:[o.jsx(iw,{children:o.jsx(sw,{className:"text-2xl font-bold text-center bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent",children:r?"Welcome Back":"Join EcoScope"})}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[!r&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(At,{htmlFor:"name",className:"text-gray-700 dark:text-gray-300",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(As,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(st,{id:"name",type:"text",placeholder:"Enter your full name",value:l.name,onChange:N=>c({...l,name:N.target.value}),className:"pl-10 border-emerald-200 dark:border-emerald-700 focus:border-emerald-400",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(At,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(MY,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(st,{id:"email",type:"email",placeholder:"Enter your email",value:l.email,onChange:N=>c({...l,email:N.target.value}),className:"pl-10 border-emerald-200 dark:border-emerald-700 focus:border-emerald-400",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(At,{htmlFor:"password",className:"text-gray-700 dark:text-gray-300",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(RY,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(st,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:l.password,onChange:N=>c({...l,password:N.target.value}),className:"pl-10 pr-10 border-emerald-200 dark:border-emerald-700 focus:border-emerald-400",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:s?o.jsx(AY,{className:"h-4 w-4"}):o.jsx(sL,{className:"h-4 w-4"})})]})]}),o.jsx(Y,{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white",children:f?"Please wait...":r?"Sign In":"Create Account"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(lB,{className:"my-4"}),o.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-900 px-2 text-sm text-gray-500",children:"or"})]}),o.jsxs(Y,{type:"button",variant:"outline",onClick:x,disabled:f,className:"w-full border-emerald-200 dark:border-emerald-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/20",children:[o.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:w,className:"text-sm text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:r?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},Ide=({onGetStarted:t})=>{const[e,n]=C.useState(!1),{user:r}=_n(),i=()=>{r?t():n(!0)},s=()=>{n(!1),t()};return o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-emerald-900 min-h-screen transition-colors duration-300 pt-20",children:[" ",o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-gradient-to-r from-emerald-400/30 to-green-300/30 dark:from-emerald-600/20 dark:to-green-500/20 rounded-full mix-blend-multiply filter blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute top-40 right-20 w-96 h-96 bg-gradient-to-r from-teal-300/30 to-cyan-300/30 dark:from-teal-500/20 dark:to-cyan-400/20 rounded-full mix-blend-multiply filter blur-3xl animate-pulse delay-1000"}),o.jsx("div",{className:"absolute bottom-20 left-1/4 w-80 h-80 bg-gradient-to-r from-green-400/30 to-emerald-400/30 dark:from-green-500/20 dark:to-emerald-400/20 rounded-full mix-blend-multiply filter blur-3xl animate-pulse delay-2000"})]}),o.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[o.jsx(dt,{className:"absolute top-20 left-20 w-8 h-8 text-emerald-400 dark:text-emerald-300 opacity-60 animate-float",style:{animationDelay:"0s"}}),o.jsx(fa,{className:"absolute top-40 right-40 w-6 h-6 text-teal-400 dark:text-teal-300 opacity-50 animate-bounce",style:{animationDelay:"1s"}}),o.jsx(dt,{className:"absolute top-60 right-20 w-10 h-10 text-green-400 dark:text-green-300 opacity-40 animate-float",style:{animationDelay:"2s"}}),o.jsx(fa,{className:"absolute bottom-60 left-1/3 w-7 h-7 text-emerald-300 dark:text-emerald-200 opacity-45 animate-bounce",style:{animationDelay:"3s"}}),o.jsx(dt,{className:"absolute bottom-40 right-1/4 w-9 h-9 text-teal-400 dark:text-teal-300 opacity-35 animate-float",style:{animationDelay:"4s"}})]}),o.jsxs("div",{className:"container mx-auto px-4 py-20 relative z-10",children:[" ",o.jsxs("div",{className:"text-center max-w-6xl mx-auto",children:[o.jsx("div",{className:"mb-8 inline-flex",children:o.jsxs(ne,{className:"bg-white/20 dark:bg-gray-800/20 backdrop-blur-md border border-white/30 dark:border-gray-700/30 text-emerald-700 dark:text-emerald-300 px-8 py-3 text-base font-medium shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[o.jsx(fa,{className:"w-5 h-5 mr-2"}),"AI-Powered Sustainability Intelligence"]})}),o.jsxs("h1",{className:"text-6xl md:text-8xl font-bold mb-10 leading-tight",children:[o.jsx("span",{className:"bg-gradient-to-r from-emerald-600 via-green-500 to-teal-600 bg-clip-text text-transparent drop-shadow-sm",children:"Discover Nature's"}),o.jsx("br",{}),o.jsx("span",{className:"text-slate-800 dark:text-gray-200 font-light tracking-wide",children:"Hidden Impact in"}),o.jsx("br",{}),o.jsx("span",{className:"bg-gradient-to-r from-emerald-600 via-green-500 to-teal-600 bg-clip-text text-transparent drop-shadow-sm",children:"Every Product"})]}),o.jsxs("p",{className:"text-xl md:text-2xl text-slate-600 dark:text-gray-300 mb-14 max-w-4xl mx-auto leading-relaxed font-light tracking-wide",children:["Harness the power of AI to reveal the environmental story behind every product.",o.jsx("br",{className:"hidden md:block"}),"Make choices that honor our planet's future."]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-20",children:[o.jsxs(Y,{size:"lg",className:"group text-xl px-12 py-6 bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white shadow-2xl hover:shadow-green-500/25 transition-all duration-500 transform hover:scale-105 hover:-translate-y-1 rounded-2xl border-0",onClick:i,children:[o.jsx(Go,{className:"w-6 h-6 mr-3 group-hover:rotate-12 transition-transform duration-300"}),"Begin Your Journey",o.jsx(Kl,{className:"w-6 h-6 ml-3 group-hover:translate-x-1 transition-transform duration-300"})]}),o.jsxs(Y,{size:"lg",variant:"outline",className:"text-xl px-12 py-6 border-2 border-emerald-200/50 dark:border-emerald-700/50 bg-white/30 dark:bg-gray-800/30 backdrop-blur-sm text-emerald-700 dark:text-emerald-300 hover:border-emerald-400 dark:hover:border-emerald-500 hover:bg-white/50 dark:hover:bg-gray-800/50 hover:shadow-xl transition-all duration-500 hover:scale-105 hover:-translate-y-1 rounded-2xl",onClick:i,children:[o.jsx(fa,{className:"w-5 h-5 mr-3"}),"Explore Demo"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-24",children:[o.jsxs("div",{className:"group text-center p-8 bg-white/40 dark:bg-gray-800/40 backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl hover:bg-white/50 dark:hover:bg-gray-800/50 transition-all duration-500 hover:transform hover:scale-105 hover:-translate-y-2",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:rotate-12 group-hover:scale-110 transition-all duration-300 shadow-lg",children:o.jsx(Go,{className:"w-8 h-8 text-white"})}),o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent mb-3",children:"1M+"}),o.jsx("div",{className:"text-slate-600 dark:text-gray-400 font-medium",children:"Products Analyzed"})]}),o.jsxs("div",{className:"group text-center p-8 bg-white/40 dark:bg-gray-800/40 backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl hover:bg-white/50 dark:hover:bg-gray-800/50 transition-all duration-500 hover:transform hover:scale-105 hover:-translate-y-2",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:rotate-12 group-hover:scale-110 transition-all duration-300 shadow-lg",children:o.jsx(vn,{className:"w-8 h-8 text-white"})}),o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent mb-3",children:"250K+"}),o.jsx("div",{className:"text-slate-600 dark:text-gray-400 font-medium",children:"Eco Warriors"})]}),o.jsxs("div",{className:"group text-center p-8 bg-white/40 dark:bg-gray-800/40 backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl hover:bg-white/50 dark:hover:bg-gray-800/50 transition-all duration-500 hover:transform hover:scale-105 hover:-translate-y-2",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:rotate-12 group-hover:scale-110 transition-all duration-300 shadow-lg",children:o.jsx(pd,{className:"w-8 h-8 text-white"})}),o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-3",children:"500T"}),o.jsx("div",{className:"text-slate-600 dark:text-gray-400 font-medium",children:"CO Prevented"})]}),o.jsxs("div",{className:"group text-center p-8 bg-white/40 dark:bg-gray-800/40 backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl hover:bg-white/50 dark:hover:bg-gray-800/50 transition-all duration-500 hover:transform hover:scale-105 hover:-translate-y-2",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:rotate-12 group-hover:scale-110 transition-all duration-300 shadow-lg",children:o.jsx(vr,{className:"w-8 h-8 text-white"})}),o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent mb-3",children:"98%"}),o.jsx("div",{className:"text-slate-600 dark:text-gray-400 font-medium",children:"Accuracy Rate"})]})]})]})]}),o.jsx(NA,{isOpen:e,onClose:()=>n(!1),onSuccess:s})]})},Ode=()=>{const t=[{icon:ha,title:"AI Nature Intelligence",description:"Advanced machine learning models analyze products through the lens of natural ecosystems with 98% accuracy.",badge:"Core Feature",gradient:"from-emerald-500 to-green-500"},{icon:Go,title:"Multi-Input Harmony",description:"Scan barcodes, upload images, take photos, or describe products naturally. Our AI understands it all like nature intended.",badge:"Smart Tech",gradient:"from-green-500 to-teal-500"},{icon:ka,title:"Ecosystem Impact Score",description:"Comprehensive scoring for carbon footprint, water usage, biodiversity impact, energy efficiency, and ethical sourcing.",badge:"Comprehensive",gradient:"from-teal-500 to-blue-500"},{icon:vn,title:"Green Community",description:"Join a global forest of conscious consumers. Share insights, nurture knowledge, and grow together sustainably.",badge:"Social Impact",gradient:"from-blue-500 to-indigo-500"},{icon:pd,title:"Earth's Database",description:"Access sustainability data from major environmental databases and nature-centered lifecycle assessments.",badge:"Data Rich",gradient:"from-indigo-500 to-purple-500"},{icon:vr,title:"Growth Tracking",description:"Track your environmental impact like a growing tree with detailed analytics and personalized eco-recommendations.",badge:"Personal Growth",gradient:"from-purple-500 to-pink-500"}],e=[{icon:K0,title:"Vision Capture",description:"Take a photo like capturing nature's moment"},{icon:Go,title:"Instant Recognition",description:"Barcode scanning as swift as a leaf falling"},{icon:aL,title:"Memory Upload",description:"Share existing images from your digital garden"},{icon:kY,title:"Natural Language",description:"Describe products as you would to a friend"}];return o.jsxs("section",{className:"py-24 bg-gradient-to-br from-sage-50 via-emerald-50 to-green-50 dark:bg-gradient-to-br dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 opacity-5",children:[o.jsx(qo,{className:"absolute top-20 left-10 w-32 h-32 text-emerald-600 animate-pulse"}),o.jsx(CY,{className:"absolute top-40 right-20 w-24 h-24 text-blue-600 animate-bounce",style:{animationDelay:"1s"}}),o.jsx(l0,{className:"absolute bottom-40 left-1/4 w-28 h-28 text-teal-600 animate-pulse",style:{animationDelay:"2s"}}),o.jsx(qS,{className:"absolute bottom-20 right-1/3 w-36 h-36 text-amber-500 animate-pulse",style:{animationDelay:"3s"}})]}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs("div",{className:"text-center mb-20",children:[o.jsx(ne,{className:"mb-6 bg-gradient-to-r from-emerald-100 to-green-100 text-emerald-800 dark:bg-gradient-to-r dark:from-emerald-700 dark:to-green-700 dark:text-emerald-200 border-emerald-200 px-6 py-2 text-lg",children:" Powerful Features"}),o.jsxs("h2",{className:"text-5xl md:text-6xl font-bold mb-8 text-slate-800 dark:text-slate-200",children:["Everything You Need for",o.jsx("span",{className:"bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent block mt-2",children:"Harmonious Living"})]}),o.jsx("p",{className:"text-2xl text-slate-600 dark:text-slate-400 max-w-4xl mx-auto leading-relaxed font-light",children:"Our comprehensive platform combines cutting-edge AI with earth's wisdom to give you unprecedented insights into product sustainability."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 mb-24",children:t.map((n,r)=>o.jsxs(te,{className:"group hover:shadow-2xl transition-all duration-500 border-0 bg-white/80 backdrop-blur-sm overflow-hidden",children:[o.jsxs(je,{className:"pb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-r ${n.gradient} flex items-center justify-center group-hover:scale-110 group-hover:rotate-12 transition-all duration-500 shadow-lg`,children:o.jsx(n.icon,{className:"w-8 h-8 text-white"})}),o.jsx(ne,{variant:"outline",className:"text-xs bg-white/70 dark:bg-gray-700/70 border-emerald-200 text-emerald-700 dark:text-emerald-300",children:n.badge})]}),o.jsx(Ce,{className:"text-2xl group-hover:text-emerald-700 dark:group-hover:text-emerald-400 transition-colors duration-300",children:n.title})]}),o.jsx(ce,{children:o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed text-lg",children:n.description})})]},r))}),o.jsxs("div",{className:"bg-gradient-to-r from-emerald-100/80 to-green-100/80 backdrop-blur-sm rounded-3xl p-16 border border-emerald-200",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h3",{className:"text-4xl font-bold mb-6 text-slate-800 dark:text-slate-200",children:"Multiple Paths to Wisdom"}),o.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 max-w-3xl mx-auto leading-relaxed",children:"Like nature's diverse pathways, our AI understands products from any input method. Choose the path that feels most natural to you."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((n,r)=>o.jsxs("div",{className:"text-center p-8 bg-white/90 backdrop-blur-sm rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 group border border-white/50",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-green-600 rounded-3xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 group-hover:rotate-12 transition-all duration-500 shadow-lg",children:o.jsx(n.icon,{className:"w-10 h-10 text-white"})}),o.jsx("h4",{className:"font-bold text-xl mb-3 text-slate-800",children:n.title}),o.jsx("p",{className:"text-slate-600 leading-relaxed",children:n.description})]},r))})]}),o.jsxs("div",{className:"mt-24",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx(ne,{className:"mb-6 bg-gradient-to-r from-purple-100 to-emerald-100 dark:from-purple-700 dark:to-emerald-700 text-purple-800 dark:text-purple-200 border-purple-200 px-6 py-2 text-lg",children:" AI Intelligence"}),o.jsx("h3",{className:"text-4xl font-bold mb-6 text-slate-800 dark:text-slate-200",children:"Nature-Inspired AI Capabilities"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[o.jsxs("div",{className:"text-center p-10 bg-gradient-to-br from-purple-50 to-emerald-50 dark:from-purple-900 dark:to-emerald-900 rounded-3xl border border-purple-100 dark:border-purple-700",children:[o.jsx(ha,{className:"w-16 h-16 text-purple-600 dark:text-purple-400 mx-auto mb-6"}),o.jsx("h4",{className:"font-bold text-2xl mb-4 text-slate-800 dark:text-slate-200",children:"Neural Vision"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed text-lg",children:"Extract and interpret information from images using neural networks inspired by natural vision systems."})]}),o.jsxs("div",{className:"text-center p-10 bg-gradient-to-br from-blue-50 to-teal-50 dark:from-blue-900 dark:to-teal-900 rounded-3xl border border-blue-100 dark:border-blue-700",children:[o.jsx(UY,{className:"w-16 h-16 text-blue-600 dark:text-blue-400 mx-auto mb-6"}),o.jsx("h4",{className:"font-bold text-2xl mb-4 text-slate-800 dark:text-slate-200",children:"Trust Indicators"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed text-lg",children:"Transparent confidence estimates and uncertainty measurements, honest like nature itself."})]}),o.jsxs("div",{className:"text-center p-10 bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900 dark:to-green-900 rounded-3xl border border-emerald-100 dark:border-emerald-700",children:[o.jsx(Yn,{className:"w-16 h-16 text-emerald-600 dark:text-emerald-400 mx-auto mb-6"}),o.jsx("h4",{className:"font-bold text-2xl mb-4 text-slate-800 dark:text-slate-200",children:"Cross-Pollination"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed text-lg",children:"Validate findings across multiple sustainability databases and certification ecosystems."})]})]})]})]})]})},KR=["personal-care","food-beverage","electronics","clothing","home-garden","beauty-cosmetics","sports-outdoor","baby-kids","automotive","books-media","health-wellness","kitchen-dining","office-supplies","pet-supplies","toys-games"],Rde={"personal-care":["oral-care","hair-care","body-care","skincare","hygiene"],"food-beverage":["organic","beverages","snacks","dairy","meat-alternatives"],electronics:["mobile","computers","home-audio","wearables","accessories"],clothing:["activewear","casual","formal","sustainable-fashion","accessories"],"home-garden":["furniture","decor","gardening","storage","lighting"],"beauty-cosmetics":["makeup","skincare","haircare","fragrance","tools"],"sports-outdoor":["fitness","outdoor-gear","cycling","water-sports","team-sports"],"baby-kids":["feeding","clothing","toys","safety","nursery"],automotive:["accessories","maintenance","electronics","safety","eco-friendly"],"books-media":["books","e-books","audiobooks","magazines","educational"],"health-wellness":["supplements","fitness","medical","mental-health","nutrition"],"kitchen-dining":["cookware","appliances","storage","utensils","tableware"],"office-supplies":["stationery","electronics","furniture","organization","eco-friendly"],"pet-supplies":["food","toys","accessories","health","grooming"],"toys-games":["educational","outdoor","board-games","electronic","eco-friendly"]},YR=["EcoLife","GreenChoice","SustainableLiving","NatureBest","PlanetFriendly","EarthWise","GreenTech","EcoSmart","NaturalChoice","SustainaBrand","BioPure","EcoVital","GreenLiving","PurePlanet","EcoMinded","NatureFirst","GreenHeart","EcoSolutions","SustainableChoice","PlanetCare","EcoFresh","GreenWave","NaturePath","EcoBlend","SustainableLife","GreenGlow","EcoPure","NatureShine","SustainableStyle","EcoSphere","GreenGood","EcoBoost","NaturalGlow","SustainableWorld","EcoFlow","GreenBridge","EcoZen","NatureLux","SustainableCore","EcoRise"],QR=["California, USA","Vermont, USA","Oregon, USA","British Columbia, Canada","Bavaria, Germany","Tuscany, Italy","Provence, France","Kerala, India","Tasmania, Australia","Costa Rica","Ecuador","Peru","Chile","New Zealand","Sweden","Denmark","Netherlands","Switzerland","Japan","South Korea","Taiwan","Thailand","Vietnam","Morocco","Ghana","Kenya","Madagascar","Fair Trade Certified"],Mde=["USDA Organic","Fair Trade","B-Corp","Carbon Neutral","Cradle to Cradle","FSC Certified","Energy Star","EPEAT Gold","GREENGUARD","Rainforest Alliance","Non-GMO","Vegan Certified","Cruelty-Free","Biodegradable","Compostable","Recyclable","Ocean Positive","Climate Neutral","Sustainable Packaging","Renewable Energy","Zero Waste","Water Efficient","Local Sourcing"],Dde=["Bamboo","Recycled Plastic","Organic Cotton","Hemp","Cork","Recycled Metal","Sustainable Wood","Bioplastic","Organic Linen","Recycled Paper","Natural Rubber","Coconut Fiber","Seaweed Extract","Mushroom Leather","Recycled Glass","Bio-based Materials"],$de=["Biodegradable","Compostable","Recyclable","Zero Waste","Plastic-Free","Carbon Neutral","Renewable Energy","Fair Trade","Organic","Non-GMO","Vegan","Cruelty-Free","Sustainable Packaging","Water Efficient","Energy Efficient","Durable","Reusable","Refillable","Minimal Packaging","Local Sourcing","Ethically Made","Chemical-Free","Natural Ingredients"],Lde=t=>{const e=KR[Math.floor(Math.random()*KR.length)],n=Rde[e],r=n[Math.floor(Math.random()*n.length)],i=YR[Math.floor(Math.random()*YR.length)],s=QR[Math.floor(Math.random()*QR.length)],l={"personal-care":["Eco Toothbrush","Natural Shampoo","Organic Body Wash","Sustainable Deodorant","Bamboo Comb"],"food-beverage":["Organic Almonds","Plant-Based Milk","Fair Trade Coffee","Organic Granola","Natural Energy Bar"],electronics:["Solar Charger","Eco Phone Case","Recycled Speaker","Energy Monitor","Green Laptop Stand"],clothing:["Organic T-Shirt","Sustainable Jeans","Eco Jacket","Hemp Hoodie","Recycled Sneakers"],"home-garden":["Bamboo Furniture","Solar Garden Light","Organic Seeds","Compost Bin","Eco Plant Pot"],"beauty-cosmetics":["Natural Lipstick","Organic Foundation","Eco Mascara","Sustainable Brush Set","Green Cleanser"],"sports-outdoor":["Eco Yoga Mat","Sustainable Water Bottle","Organic Activewear","Solar Backpack","Recycled Ball"],"baby-kids":["Organic Baby Food","Sustainable Toys","Eco Diapers","Natural Baby Wash","Wooden Blocks"],automotive:["Eco Car Wash","Solar Car Charger","Recycled Floor Mats","Natural Air Freshener","Sustainable Cover"],"books-media":["Recycled Notebook","Sustainable Pen Set","Eco Calendar","Natural Bookmark","Green Journal"],"health-wellness":["Organic Vitamins","Natural Protein Powder","Eco Yoga Block","Sustainable Pill Case","Herbal Tea"],"kitchen-dining":["Bamboo Cutting Board","Eco Food Storage","Natural Dish Soap","Sustainable Utensils","Glass Containers"],"office-supplies":["Recycled Paper","Eco Pen Set","Sustainable Desk Organizer","Natural Rubber Eraser","Green Folders"],"pet-supplies":["Organic Pet Food","Eco Pet Toys","Natural Pet Shampoo","Sustainable Pet Bed","Recycled Leash"],"toys-games":["Wooden Puzzle","Eco Building Blocks","Natural Playdough","Sustainable Board Game","Organic Stuffed Animal"]}[e]||["Eco Product","Green Item","Sustainable Good","Natural Product","Organic Item"],c=l[Math.floor(Math.random()*l.length)],u=["Premium","Deluxe","Pro","Advanced","Classic","Essential","Ultimate","Complete","Natural","Pure"],d=`${u[Math.floor(Math.random()*u.length)]} ${c}`,f=Math.floor(Math.random()*40)+60,m=Math.round((Math.random()*200+10)*100)/100,g=Math.round(m*(1+Math.random()*.5)*100)/100,v=Math.round((Math.random()*2+3)*10)/10,y=Math.floor(Math.random()*5e3)+10,x=$de.sort(()=>.5-Math.random()).slice(0,Math.floor(Math.random()*6)+3),b=Mde.sort(()=>.5-Math.random()).slice(0,Math.floor(Math.random()*4)+1),w=Dde.sort(()=>.5-Math.random()).slice(0,Math.floor(Math.random()*3)+1),N=["0.5","1.2","2.1","3.4","4.7","5.9","7.2","8.8","10.3","12.6","15.4","18.7","22.1","25.8","30.2"],S=N[Math.floor(Math.random()*N.length)],P=["15%","25%","35%","45%","55%","65%","75%","80%","85%","90%"],j=`${P[Math.floor(Math.random()*P.length)]} less water than conventional`,_=["100% Renewable","Solar Powered","Wind Energy","Hydroelectric","Mixed Renewable","Carbon Neutral Grid"],k=_[Math.floor(Math.random()*_.length)],E=["Fair Trade Certified","Living Wage","Ethical Manufacturing","Worker Cooperatives","B-Corp Standards"],A=E[Math.floor(Math.random()*E.length)];return{id:t,name:d,brand:i,price:m,originalPrice:g,rating:v,reviews:y,sustainabilityScore:f,category:e,subcategory:r,image:`https://images.unsplash.com/photo-${15e11+t}?w=400&h=300&fit=crop`,features:x,co2Saved:`${S} kg`,description:`${d} by ${i}. Made with sustainable practices and eco-friendly materials. Supports environmental conservation while delivering premium quality and performance.`,inStock:Math.random()>.1,fastShipping:Math.random()>.3,certifications:b,materials:w,origin:s,barcode:`${String(t).padStart(3,"0")}${Math.floor(Math.random()*1e9).toString().padStart(9,"0")}`,ingredients:e==="food-beverage"?"Organic ingredients, natural preservatives, no artificial additives":void 0,nutritionFacts:e==="food-beverage"?{calories:Math.floor(Math.random()*300)+50,protein:`${Math.floor(Math.random()*20)+2}g`,carbs:`${Math.floor(Math.random()*40)+5}g`,fat:`${Math.floor(Math.random()*15)+1}g`,fiber:`${Math.floor(Math.random()*10)+1}g`}:void 0,packaging:{type:["Recyclable Cardboard","Compostable Packaging","Reusable Container","Minimal Packaging","Biodegradable Wrap"][Math.floor(Math.random()*5)],recyclable:Math.random()>.2,biodegradable:Math.random()>.3,plasticFree:Math.random()>.4},carbonFootprint:{production:`${(Math.random()*5+.5).toFixed(1)} kg CO`,transport:`${(Math.random()*2+.2).toFixed(1)} kg CO`,total:`${(Math.random()*7+.7).toFixed(1)} kg CO`},waterUsage:j,energySource:k,laborPractices:A,animalTesting:Math.random()<.1,vegan:Math.random()>.3,alternatives:[{name:`Alternative ${c}`,score:f+Math.floor(Math.random()*10)-5,reason:["Better packaging","Local sourcing","Lower carbon footprint","Fair trade certified"][Math.floor(Math.random()*4)],priceComparison:["Similar price","15% more expensive","10% cheaper","20% more expensive"][Math.floor(Math.random()*4)]},{name:`Premium ${c}`,score:f+Math.floor(Math.random()*8)-4,reason:["Organic materials","Renewable energy use","Zero waste production","Circular economy"][Math.floor(Math.random()*4)],priceComparison:["25% more expensive","30% more expensive","20% more expensive","Similar price"][Math.floor(Math.random()*4)]}],detailedAnalysis:{environmentalImpact:`This product has a ${f}% lower environmental impact compared to conventional alternatives. Key benefits include reduced carbon emissions, sustainable material sourcing, and eco-friendly packaging.`,socialImpact:`Supports ${A} and contributes to community development. Manufacturing follows ethical standards with fair wages and safe working conditions.`,economicImpact:`Priced competitively at $${m}, offering good value for sustainable features. ${Math.round((g-m)/g*100)}% savings compared to MSRP.`,recommendations:["Consider bulk purchasing to reduce packaging waste","Look for refill options to extend product lifecycle","Recycle packaging according to local guidelines","Share product reviews to help others make sustainable choices"]}}},$d=Array.from({length:1e4},(t,e)=>Lde(e+1)),Sf=t=>$d.filter(e=>e.category===t),jA=t=>{const e=t.toLowerCase();return $d.filter(n=>n.name.toLowerCase().includes(e)||n.brand.toLowerCase().includes(e)||n.description.toLowerCase().includes(e)||n.features.some(r=>r.toLowerCase().includes(e))||n.materials.some(r=>r.toLowerCase().includes(e)))},gm=t=>[...$d].sort(()=>.5-Math.random()).slice(0,t),cB=C.createContext(void 0),Fde=({children:t})=>{const{currentUser:e}=_n(),[n,r]=C.useState([]);C.useEffect(()=>{if(!e){r([]);return}const a=Re(Ne,"users",e.uid),l=Re(a,"productComparison","comparisonProducts"),c=Or(l,u=>{if(u.exists()){const h=u.data();h&&h.products?r(h.products):r([])}else r([])},u=>{console.error("Error fetching product comparison from Firestore:",u),r([])});return()=>c()},[e]),C.useEffect(()=>{if(!e)return;const a=Re(Ne,"users",e.uid),l=Re(a,"productComparison","comparisonProducts");Zt(l,{products:n}).catch(c=>{console.error("Error saving product comparison to Firestore:",c)})},[n,e]);const i=a=>{r(l=>l.find(c=>c.id===a.id)||l.length>=10?l:[...l,a])},s=()=>{r([])};return o.jsx(cB.Provider,{value:{comparisonProducts:n,setComparisonProducts:r,addProductToComparison:i,clearComparison:s},children:t})},uB=()=>{const t=C.useContext(cB);if(!t)throw new Error("useProductComparison must be used within a ProductComparisonProvider");return t},Vde=({scannedProduct:t,setScannedProduct:e,onTabChange:n,saveScannedProduct:r})=>{$2();const{scannedProducts:i,addScannedProduct:s}=Xr(),{addToCart:a}=Ph(),{addProductToComparison:l}=uB(),{addNotification:c}=Ya(),[u,h]=C.useState(!1),[d,f]=C.useState(null),[m,g]=C.useState(!1),[v,y]=C.useState(""),[x,b]=C.useState([]),[w,N]=C.useState(null),[S,P]=C.useState(null),j=C.useRef(null),_=C.useRef(null);C.useEffect(()=>{t&&f(t)},[t]),C.useEffect(()=>{if(d&&!i.some(F=>F.id===d.id.toString())){const F=new Date;s({id:d.id.toString(),name:d.name,brand:d.brand,sustainabilityScore:d.sustainabilityScore,category:d.category,date:`${(F.getMonth()+1).toString().padStart(2,"0")}/${F.getDate().toString().padStart(2,"0")}/${F.getFullYear()}`,alternatives:d.alternatives||[],source:"ProductScanner"})}},[d,s,i]),C.useEffect(()=>()=>{S&&S.getTracks().forEach(M=>M.stop())},[S]);const k=()=>{h(!0),setTimeout(()=>{var U;const M=gm(1)[0],F={id:M.id,name:M.name,brand:M.brand,sustainabilityScore:M.sustainabilityScore,price:M.price,image:`https://images.unsplash.com/${M.image}?w=400&h=400&fit=crop`,carbon:M.carbonFootprint.total,water:M.waterUsage,packaging:M.packaging.type,certifications:M.certifications,materials:M.materials,origin:M.origin,barcode:M.barcode,alternatives:M.alternatives,features:M.features,inStock:M.inStock,rating:M.rating,reviews:M.reviews,description:M.description,category:M.category,sustainability:{carbon:Math.floor(M.sustainabilityScore*.9),water:Math.floor(M.sustainabilityScore*.95),waste:Math.floor(M.sustainabilityScore*.85),energy:Math.floor(M.sustainabilityScore*.92),ethics:Math.floor(M.sustainabilityScore*1.05),overall:M.sustainabilityScore},stages:[{name:"Raw Material Sourcing",status:"completed",location:"California, USA",duration:"2 weeks",impact:{co2:1.2,water:500,energy:300},details:"Sustainable sourcing of raw materials from certified farms.",icon:()=>o.jsx(Lf,{className:"w-6 h-6 text-white"})},{name:"Manufacturing",status:"active",location:"Oregon, USA",duration:"4 weeks",impact:{co2:2.5,water:800,energy:1200},details:"Eco-friendly manufacturing processes with renewable energy.",icon:()=>o.jsx(Lf,{className:"w-6 h-6 text-white"})},{name:"Transportation",status:"pending",location:"Distribution Center",duration:"1 week",impact:{co2:.8,water:100,energy:400},details:"Low-emission transportation to retail locations.",icon:()=>o.jsx(KS,{className:"w-6 h-6 text-white"})},{name:"Retail",status:"pending",location:"Various Stores",duration:"Ongoing",impact:{co2:.5,water:50,energy:200},details:"Sustainable retail practices and packaging.",icon:()=>o.jsx(vd,{className:"w-6 h-6 text-white"})}]};f(F),c({type:"scanning",title:"Product Scanned",message:`You scanned ${M.name} by ${M.brand}.`,read:!1,source:"scanner",actionable:!0,action:"View"}),l({id:M.id.toString(),name:M.name,brand:M.brand,sustainabilityScore:M.sustainabilityScore,category:M.category,date:new Date().toISOString(),price:M.price,image:`https://images.unsplash.com/${M.image}?w=400&h=400&fit=crop`,metrics:{carbon:Math.floor(M.sustainabilityScore*.9),water:Math.floor(M.sustainabilityScore*.95),waste:Math.floor(M.sustainabilityScore*.85),energy:Math.floor(M.sustainabilityScore*.92),ethics:Math.floor(M.sustainabilityScore*1.05)},certifications:M.certifications||[],pros:[M.vegan?"Vegan friendly":"Quality materials",(U=M.packaging)!=null&&U.recyclable?"Recyclable packaging":"Durable design","Good sustainability score"],cons:[M.price>50?"Higher price point":"Limited color options","Consider shipping impact"],rating:M.rating,reviews:M.reviews,inStock:M.inStock,features:M.features}),h(!1)},2e3)},E=async()=>{try{const M=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});P(M),g(!0),setTimeout(()=>{j.current&&(j.current.srcObject=M)},100)}catch(M){console.error("Error accessing camera:",M),alert("Unable to access camera. Please check permissions or try uploading an image instead.")}},A=()=>{S&&(S.getTracks().forEach(M=>M.stop()),P(null)),g(!1),f(null)},I=M=>{const F=M.target.files[0];if(F&&F.type.startsWith("image/")){const U=new FileReader;U.onload=X=>{N(X.target.result),k()},U.readAsDataURL(F)}},R=()=>{if(v.trim()){const F=gm(20).filter(U=>U.name.toLowerCase().includes(v.toLowerCase())||U.brand.toLowerCase().includes(v.toLowerCase())||U.category.toLowerCase().includes(v.toLowerCase())||U.barcode.includes(v));b(F)}else b([])},$=M=>{h(!0),b([]),y(""),setTimeout(()=>{const F={id:M.id,name:M.name,brand:M.brand,sustainabilityScore:M.sustainabilityScore,price:M.price,image:`https://images.unsplash.com/${M.image}?w=400&h=400&fit=crop`,carbon:M.carbonFootprint.total,water:M.waterUsage,packaging:M.packaging.type,certifications:M.certifications,materials:M.materials,origin:M.origin,barcode:M.barcode,alternatives:M.alternatives,features:M.features,inStock:M.inStock,rating:M.rating,reviews:M.reviews,description:M.description,category:M.category,sustainability:{carbon:Math.floor(M.sustainabilityScore*.9),water:Math.floor(M.sustainabilityScore*.95),waste:Math.floor(M.sustainabilityScore*.85),energy:Math.floor(M.sustainabilityScore*.92),ethics:Math.floor(M.sustainabilityScore*1.05),overall:M.sustainabilityScore},stages:[{name:"Raw Material Sourcing",status:"completed",location:"California, USA",duration:"2 weeks",impact:{co2:1.2,water:500,energy:300},details:"Sustainable sourcing of raw materials from certified farms.",icon:()=>o.jsx(Lf,{className:"w-6 h-6 text-white"})},{name:"Manufacturing",status:"active",location:"Oregon, USA",duration:"4 weeks",impact:{co2:2.5,water:800,energy:1200},details:"Eco-friendly manufacturing processes with renewable energy.",icon:()=>o.jsx(Lf,{className:"w-6 h-6 text-white"})},{name:"Transportation",status:"pending",location:"Distribution Center",duration:"1 week",impact:{co2:.8,water:100,energy:400},details:"Low-emission transportation to retail locations.",icon:()=>o.jsx(KS,{className:"w-6 h-6 text-white"})},{name:"Retail",status:"pending",location:"Various Stores",duration:"Ongoing",impact:{co2:.5,water:50,energy:200},details:"Sustainable retail practices and packaging.",icon:()=>o.jsx(vd,{className:"w-6 h-6 text-white"})}]};f(F),c({type:"scanning",title:"Product Scanned",message:`You scanned ${M.name} by ${M.brand}.`,read:!1,source:"scanner",actionable:!0,action:"View"}),h(!1)},2e3)},W=()=>{var M;(M=_.current)==null||M.click()},H=M=>M>=80?"text-green-600 bg-green-100":M>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return o.jsxs("div",{className:"space-y-6",children:[i.length>0&&o.jsxs(te,{className:"bg-white/95 backdrop-blur-sm border-slate-200/50 shadow-lg rounded-2xl",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-slate-800",children:"Recent Scans"})}),o.jsx(ce,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.slice(0,6).map(M=>o.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-800",children:M.name}),o.jsx("p",{className:"text-sm text-slate-600",children:M.brand})]}),o.jsx(ne,{className:H(M.sustainabilityScore),children:M.sustainabilityScore})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-slate-500",children:M.category}),o.jsx("span",{className:"text-slate-500",children:M.date})]})]},M.id))})})]}),o.jsxs(te,{className:"bg-white/95 backdrop-blur-sm border-slate-200/50 shadow-lg rounded-2xl",children:[o.jsx(je,{className:"pb-4",children:o.jsxs(Ce,{className:"flex items-center justify-between text-slate-800",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-slate-800 rounded-xl flex items-center justify-center",children:o.jsx(K0,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xl font-bold",children:"Smart Product Scanner"}),o.jsx("p",{className:"text-sm text-slate-600 font-normal",children:"Instant sustainability analysis"})]})]}),o.jsxs(ne,{variant:"outline",className:"border-slate-300 text-slate-700 bg-slate-50",children:[o.jsx(Tn,{className:"w-3 h-3 mr-1"}),"AI Powered"]})]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(te,{className:"p-4 border border-slate-200",children:[o.jsxs("h3",{className:"font-semibold text-slate-800 mb-3 flex items-center",children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Search Products"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(st,{placeholder:"Search by name, brand, or barcode...",value:v,onChange:M=>y(M.target.value),className:"flex-1",onKeyPress:M=>M.key==="Enter"&&R()}),o.jsx(Y,{onClick:R,size:"sm",children:o.jsx(Kr,{className:"w-4 h-4"})})]}),x.length>0&&o.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 mt-2",children:x.map(M=>o.jsx("div",{className:"p-2 border border-slate-200 rounded cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>$(M),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:`https://images.unsplash.com/${M.image}?w=40&h=40&fit=crop`,alt:M.name,className:"w-8 h-8 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-sm font-medium text-slate-800",children:M.name}),o.jsxs("p",{className:"text-xs text-slate-600",children:[M.brand,"  ",M.category]})]}),o.jsx(ne,{className:`text-xs px-2 py-1 ${H(M.sustainabilityScore)}`,children:M.sustainabilityScore})]})},M.id))})]})]}),o.jsxs(te,{className:"p-4 border border-slate-200",children:[o.jsxs("h3",{className:"font-semibold text-slate-800 mb-3 flex items-center",children:[o.jsx(aL,{className:"w-4 h-4 mr-2"}),"Upload Files"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Y,{onClick:W,variant:"outline",className:"w-full",children:[o.jsx(TY,{className:"w-4 h-4 mr-2"}),"Choose File"]}),o.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:I,className:"hidden"}),w&&o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:w,alt:"Uploaded product",className:"w-full h-24 object-cover rounded border"})})]})]})]}),o.jsx("div",{className:"bg-slate-900 rounded-xl overflow-hidden shadow-lg",children:o.jsx("div",{className:"bg-slate-800 h-64 flex items-center justify-center relative",children:m?o.jsxs("div",{className:"w-full h-full relative",children:[o.jsx("video",{ref:j,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center",children:[o.jsxs(ne,{className:"bg-red-600 text-white border-0",children:[o.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),"LIVE"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Y,{variant:"outline",size:"sm",onClick:W,className:"bg-slate-800/80 border-slate-600 text-white hover:bg-slate-700",children:[o.jsx(qP,{className:"w-3 h-3 mr-1"}),"Photo"]}),o.jsxs(Y,{variant:"outline",size:"sm",onClick:A,className:"bg-slate-800/80 border-slate-600 text-white hover:bg-slate-700",children:[o.jsx(WY,{className:"w-3 h-3 mr-1"}),"Stop"]})]})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx("div",{className:"w-48 h-48 border-2 border-white border-dashed rounded-lg flex items-center justify-center",children:u?o.jsxs("div",{className:"text-center",children:[o.jsx(Go,{className:"w-12 h-12 mx-auto mb-2 text-white animate-spin"}),o.jsx("p",{className:"text-white text-sm",children:"Analyzing product..."})]}):o.jsxs("div",{className:"text-center",children:[o.jsx(Go,{className:"w-12 h-12 mx-auto mb-2 text-white"}),o.jsx("p",{className:"text-white text-sm",children:"Aim at product"})]})})}),o.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:o.jsx(Y,{onClick:k,disabled:u,className:"bg-white/20 hover:bg-white/30 rounded-full w-16 h-16 border-2 border-white backdrop-blur-sm",children:o.jsx(Go,{className:"w-6 h-6 text-white"})})})]}):o.jsxs("div",{className:"text-center",children:[o.jsx(K0,{className:"w-16 h-16 mx-auto mb-4 text-slate-400"}),o.jsx("p",{className:"text-slate-300 mb-4",children:"Point your camera at any product"}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsxs(Y,{onClick:E,className:"bg-slate-700 hover:bg-slate-600 border border-slate-600",children:[o.jsx(LY,{className:"w-4 h-4 mr-2"}),"Start Camera"]}),o.jsxs(Y,{onClick:W,variant:"outline",className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[o.jsx(qP,{className:"w-4 h-4 mr-2"}),"Take Photo"]})]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-slate-50/80 rounded-xl border border-slate-200/50",children:[o.jsx(Tn,{className:"w-8 h-8 mx-auto mb-2 text-slate-600"}),o.jsx("h3",{className:"font-semibold text-slate-800 mb-1",children:"Instant Analysis"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Real-time sustainability scoring"})]}),o.jsxs("div",{className:"text-center p-4 bg-slate-50/80 rounded-xl border border-slate-200/50",children:[o.jsx(dt,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),o.jsx("h3",{className:"font-semibold text-slate-800 mb-1",children:"Impact Assessment"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Environmental footprint analysis"})]}),o.jsxs("div",{className:"text-center p-4 bg-slate-50/80 rounded-xl border border-slate-200/50",children:[o.jsx(fr,{className:"w-8 h-8 mx-auto mb-2 text-slate-600"}),o.jsx("h3",{className:"font-semibold text-slate-800 mb-1",children:"Smart Alternatives"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Better product suggestions"})]})]}),d&&o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("img",{src:d.image,alt:d.name,className:"w-20 h-20 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-slate-800",children:d.name}),o.jsx("p",{className:"text-slate-600",children:d.brand}),o.jsxs("p",{className:"text-lg font-bold text-green-600",children:["$",d.price]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("div",{className:"flex text-yellow-400",children:"".repeat(Math.floor(d.rating))}),o.jsxs("span",{className:"text-sm text-slate-500",children:["(",d.reviews,")"]})]})]})]}),o.jsx(ne,{className:`text-2xl font-bold px-4 py-2 ${H(d.sustainabilityScore)}`,children:d.sustainabilityScore})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[o.jsx(dt,{className:"w-6 h-6 mx-auto mb-1 text-green-600"}),o.jsx("div",{className:"text-lg font-bold text-slate-800",children:d.sustainability.carbon}),o.jsx("div",{className:"text-xs text-slate-600",children:"Carbon"})]}),o.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[o.jsx(fi,{className:"w-6 h-6 mx-auto mb-1 text-blue-600"}),o.jsx("div",{className:"text-lg font-bold text-slate-800",children:d.sustainability.water}),o.jsx("div",{className:"text-xs text-slate-600",children:"Water"})]}),o.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[o.jsx(Tn,{className:"w-6 h-6 mx-auto mb-1 text-purple-600"}),o.jsx("div",{className:"text-lg font-bold text-slate-800",children:d.sustainability.energy}),o.jsx("div",{className:"text-xs text-slate-600",children:"Energy"})]}),o.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[o.jsx(ls,{className:"w-6 h-6 mx-auto mb-1 text-red-600"}),o.jsx("div",{className:"text-lg font-bold text-slate-800",children:d.sustainability.ethics}),o.jsx("div",{className:"text-xs text-slate-600",children:"Ethics"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Environmental Impact"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Carbon Footprint:"}),o.jsx("span",{className:"font-medium",children:d.carbon})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Water Usage:"}),o.jsx("span",{className:"font-medium",children:d.water})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Packaging:"}),o.jsx("span",{className:"font-medium",children:d.packaging})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Product Info"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Origin:"}),o.jsx("span",{className:"font-medium",children:d.origin})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Stock:"}),o.jsx("span",{className:`font-medium ${d.inStock?"text-green-600":"text-red-600"}`,children:d.inStock?"In Stock":"Out of Stock"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Barcode:"}),o.jsx("span",{className:"font-medium text-xs",children:d.barcode})]})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Key Features"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:d.features.slice(0,6).map((M,F)=>o.jsx(ne,{variant:"outline",className:"border-slate-300 text-slate-700 bg-slate-50",children:M},F))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Certifications"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:d.certifications.map((M,F)=>o.jsxs(ne,{className:"bg-green-100 text-green-800 border-green-200",children:[o.jsx(Kt,{className:"w-3 h-3 mr-1"}),M]},F))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-semibold text-slate-800",children:"Better Alternatives"}),d.alternatives.map((M,F)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-200/50",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-slate-800",children:M.name}),o.jsx("p",{className:"text-sm text-slate-600",children:M.reason}),o.jsx("p",{className:"text-xs text-slate-500",children:M.priceComparison})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ne,{variant:"outline",className:"border-slate-300 text-slate-700",children:M.score}),o.jsx(Kl,{className:"w-4 h-4 text-slate-400"})]})]},F))]}),o.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[d&&o.jsx(o.Fragment,{children:o.jsx(Y,{className:"bg-slate-800 hover:bg-slate-900",onClick:()=>{e(d),n&&n("lifecycle")},children:"View Full Analysis"})}),o.jsx(Y,{variant:"outline",className:"border-slate-300",onClick:()=>{var M,F,U,X,z;d&&l({id:d.id.toString(),name:d.name,brand:d.brand,sustainabilityScore:d.sustainabilityScore,category:d.category,date:new Date().toISOString(),price:d.price,image:d.image,metrics:{carbon:((M=d.sustainability)==null?void 0:M.carbon)||0,water:((F=d.sustainability)==null?void 0:F.water)||0,waste:((U=d.sustainability)==null?void 0:U.waste)||0,energy:((X=d.sustainability)==null?void 0:X.energy)||0,ethics:((z=d.sustainability)==null?void 0:z.ethics)||0},certifications:d.certifications||[],pros:d.pros||[],cons:d.cons||[],rating:d.rating,reviews:d.reviews,inStock:d.inStock,features:d.features}),n&&n("comparison")},children:"Compare Products"}),o.jsxs(Y,{variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-50",onClick:()=>{d&&d.price!==void 0&&a({id:d.id.toString(),name:d.name,price:d.price,image:d.image||"",brand:d.brand||null})},children:[o.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})]})})]})]})]})};function Bde(t,e=[]){let n=[];function r(s,a){const l=C.createContext(a),c=n.length;n=[...n,a];function u(d){const{scope:f,children:m,...g}=d,v=(f==null?void 0:f[t][c])||l,y=C.useMemo(()=>g,Object.values(g));return o.jsx(v.Provider,{value:y,children:m})}function h(d,f){const m=(f==null?void 0:f[t][c])||l,g=C.useContext(m);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,h]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,Ude(i,...e)]}function Ude(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var EA="Progress",CA=100,[zde,zDe]=Bde(EA),[Wde,Hde]=zde(EA),dB=C.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=Gde,...a}=t;(i||i===0)&&!XR(i)&&console.error(qde(`${i}`,"Progress"));const l=XR(i)?i:CA;r!==null&&!JR(r,l)&&console.error(Kde(`${r}`,"Progress"));const c=JR(r,l)?r:null,u=$v(c)?s(c,l):void 0;return o.jsx(Wde,{scope:n,value:c,max:l,children:o.jsx(mt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":$v(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":mB(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});dB.displayName=EA;var hB="ProgressIndicator",fB=C.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=Hde(hB,n);return o.jsx(mt.div,{"data-state":mB(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});fB.displayName=hB;function Gde(t,e){return`${Math.round(t/e*100)}%`}function mB(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function $v(t){return typeof t=="number"}function XR(t){return $v(t)&&!isNaN(t)&&t>0}function JR(t,e){return $v(t)&&!isNaN(t)&&t<=e&&t>=0}function qde(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${CA}\`.`}function Kde(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${CA} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var pB=dB,Yde=fB;const Ht=C.forwardRef(({className:t,value:e,...n},r)=>o.jsx(pB,{ref:r,className:vt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(Yde,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Ht.displayName=pB.displayName;var Qde=Array.isArray,ei=Qde,Xde=typeof Xg=="object"&&Xg&&Xg.Object===Object&&Xg,gB=Xde,Jde=gB,Zde=typeof self=="object"&&self&&self.Object===Object&&self,ehe=Jde||Zde||Function("return this")(),Qs=ehe,the=Qs,nhe=the.Symbol,Sg=nhe,ZR=Sg,yB=Object.prototype,rhe=yB.hasOwnProperty,ihe=yB.toString,Nf=ZR?ZR.toStringTag:void 0;function she(t){var e=rhe.call(t,Nf),n=t[Nf];try{t[Nf]=void 0;var r=!0}catch{}var i=ihe.call(t);return r&&(e?t[Nf]=n:delete t[Nf]),i}var ahe=she,ohe=Object.prototype,lhe=ohe.toString;function che(t){return lhe.call(t)}var uhe=che,e4=Sg,dhe=ahe,hhe=uhe,fhe="[object Null]",mhe="[object Undefined]",t4=e4?e4.toStringTag:void 0;function phe(t){return t==null?t===void 0?mhe:fhe:t4&&t4 in Object(t)?dhe(t):hhe(t)}var Qa=phe;function ghe(t){return t!=null&&typeof t=="object"}var Xa=ghe,yhe=Qa,vhe=Xa,xhe="[object Symbol]";function bhe(t){return typeof t=="symbol"||vhe(t)&&yhe(t)==xhe}var Ih=bhe,whe=ei,_he=Ih,She=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nhe=/^\w*$/;function jhe(t,e){if(whe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_he(t)?!0:Nhe.test(t)||!She.test(t)||e!=null&&t in Object(e)}var AA=jhe;function Ehe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jl=Ehe;const Oh=bt(jl);var Che=Qa,Ahe=jl,The="[object AsyncFunction]",khe="[object Function]",Phe="[object GeneratorFunction]",Ihe="[object Proxy]";function Ohe(t){if(!Ahe(t))return!1;var e=Che(t);return e==khe||e==Phe||e==The||e==Ihe}var TA=Ohe;const Ve=bt(TA);var Rhe=Qs,Mhe=Rhe["__core-js_shared__"],Dhe=Mhe,b_=Dhe,n4=function(){var t=/[^.]+$/.exec(b_&&b_.keys&&b_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $he(t){return!!n4&&n4 in t}var Lhe=$he,Fhe=Function.prototype,Vhe=Fhe.toString;function Bhe(t){if(t!=null){try{return Vhe.call(t)}catch{}try{return t+""}catch{}}return""}var vB=Bhe,Uhe=TA,zhe=Lhe,Whe=jl,Hhe=vB,Ghe=/[\\^$.*+?()[\]{}|]/g,qhe=/^\[object .+?Constructor\]$/,Khe=Function.prototype,Yhe=Object.prototype,Qhe=Khe.toString,Xhe=Yhe.hasOwnProperty,Jhe=RegExp("^"+Qhe.call(Xhe).replace(Ghe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zhe(t){if(!Whe(t)||zhe(t))return!1;var e=Uhe(t)?Jhe:qhe;return e.test(Hhe(t))}var efe=Zhe;function tfe(t,e){return t==null?void 0:t[e]}var nfe=tfe,rfe=efe,ife=nfe;function sfe(t,e){var n=ife(t,e);return rfe(n)?n:void 0}var Gc=sfe,afe=Gc,ofe=afe(Object,"create"),aw=ofe,r4=aw;function lfe(){this.__data__=r4?r4(null):{},this.size=0}var cfe=lfe;function ufe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var dfe=ufe,hfe=aw,ffe="__lodash_hash_undefined__",mfe=Object.prototype,pfe=mfe.hasOwnProperty;function gfe(t){var e=this.__data__;if(hfe){var n=e[t];return n===ffe?void 0:n}return pfe.call(e,t)?e[t]:void 0}var yfe=gfe,vfe=aw,xfe=Object.prototype,bfe=xfe.hasOwnProperty;function wfe(t){var e=this.__data__;return vfe?e[t]!==void 0:bfe.call(e,t)}var _fe=wfe,Sfe=aw,Nfe="__lodash_hash_undefined__";function jfe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Sfe&&e===void 0?Nfe:e,this}var Efe=jfe,Cfe=cfe,Afe=dfe,Tfe=yfe,kfe=_fe,Pfe=Efe;function Rh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rh.prototype.clear=Cfe;Rh.prototype.delete=Afe;Rh.prototype.get=Tfe;Rh.prototype.has=kfe;Rh.prototype.set=Pfe;var Ife=Rh;function Ofe(){this.__data__=[],this.size=0}var Rfe=Ofe;function Mfe(t,e){return t===e||t!==t&&e!==e}var kA=Mfe,Dfe=kA;function $fe(t,e){for(var n=t.length;n--;)if(Dfe(t[n][0],e))return n;return-1}var ow=$fe,Lfe=ow,Ffe=Array.prototype,Vfe=Ffe.splice;function Bfe(t){var e=this.__data__,n=Lfe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Vfe.call(e,n,1),--this.size,!0}var Ufe=Bfe,zfe=ow;function Wfe(t){var e=this.__data__,n=zfe(e,t);return n<0?void 0:e[n][1]}var Hfe=Wfe,Gfe=ow;function qfe(t){return Gfe(this.__data__,t)>-1}var Kfe=qfe,Yfe=ow;function Qfe(t,e){var n=this.__data__,r=Yfe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Xfe=Qfe,Jfe=Rfe,Zfe=Ufe,eme=Hfe,tme=Kfe,nme=Xfe;function Mh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mh.prototype.clear=Jfe;Mh.prototype.delete=Zfe;Mh.prototype.get=eme;Mh.prototype.has=tme;Mh.prototype.set=nme;var lw=Mh,rme=Gc,ime=Qs,sme=rme(ime,"Map"),PA=sme,i4=Ife,ame=lw,ome=PA;function lme(){this.size=0,this.__data__={hash:new i4,map:new(ome||ame),string:new i4}}var cme=lme;function ume(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var dme=ume,hme=dme;function fme(t,e){var n=t.__data__;return hme(e)?n[typeof e=="string"?"string":"hash"]:n.map}var cw=fme,mme=cw;function pme(t){var e=mme(this,t).delete(t);return this.size-=e?1:0,e}var gme=pme,yme=cw;function vme(t){return yme(this,t).get(t)}var xme=vme,bme=cw;function wme(t){return bme(this,t).has(t)}var _me=wme,Sme=cw;function Nme(t,e){var n=Sme(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var jme=Nme,Eme=cme,Cme=gme,Ame=xme,Tme=_me,kme=jme;function Dh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Dh.prototype.clear=Eme;Dh.prototype.delete=Cme;Dh.prototype.get=Ame;Dh.prototype.has=Tme;Dh.prototype.set=kme;var IA=Dh,xB=IA,Pme="Expected a function";function OA(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Pme);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(OA.Cache||xB),n}OA.Cache=xB;var bB=OA;const Ime=bt(bB);var Ome=bB,Rme=500;function Mme(t){var e=Ome(t,function(r){return n.size===Rme&&n.clear(),r}),n=e.cache;return e}var Dme=Mme,$me=Dme,Lme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fme=/\\(\\)?/g,Vme=$me(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Lme,function(n,r,i,s){e.push(i?s.replace(Fme,"$1"):r||n)}),e}),Bme=Vme;function Ume(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var RA=Ume,s4=Sg,zme=RA,Wme=ei,Hme=Ih,Gme=1/0,a4=s4?s4.prototype:void 0,o4=a4?a4.toString:void 0;function wB(t){if(typeof t=="string")return t;if(Wme(t))return zme(t,wB)+"";if(Hme(t))return o4?o4.call(t):"";var e=t+"";return e=="0"&&1/t==-Gme?"-0":e}var qme=wB,Kme=qme;function Yme(t){return t==null?"":Kme(t)}var _B=Yme,Qme=ei,Xme=AA,Jme=Bme,Zme=_B;function epe(t,e){return Qme(t)?t:Xme(t,e)?[t]:Jme(Zme(t))}var SB=epe,tpe=Ih,npe=1/0;function rpe(t){if(typeof t=="string"||tpe(t))return t;var e=t+"";return e=="0"&&1/t==-npe?"-0":e}var uw=rpe,ipe=SB,spe=uw;function ape(t,e){e=ipe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[spe(e[n++])];return n&&n==r?t:void 0}var MA=ape,ope=MA;function lpe(t,e,n){var r=t==null?void 0:ope(t,e);return r===void 0?n:r}var NB=lpe;const pi=bt(NB);function cpe(t){return t==null}var upe=cpe;const Ge=bt(upe);var dpe=Qa,hpe=ei,fpe=Xa,mpe="[object String]";function ppe(t){return typeof t=="string"||!hpe(t)&&fpe(t)&&dpe(t)==mpe}var gpe=ppe;const Ng=bt(gpe);var jB={exports:{}},Et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA=Symbol.for("react.element"),$A=Symbol.for("react.portal"),dw=Symbol.for("react.fragment"),hw=Symbol.for("react.strict_mode"),fw=Symbol.for("react.profiler"),mw=Symbol.for("react.provider"),pw=Symbol.for("react.context"),ype=Symbol.for("react.server_context"),gw=Symbol.for("react.forward_ref"),yw=Symbol.for("react.suspense"),vw=Symbol.for("react.suspense_list"),xw=Symbol.for("react.memo"),bw=Symbol.for("react.lazy"),vpe=Symbol.for("react.offscreen"),EB;EB=Symbol.for("react.module.reference");function Fi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case DA:switch(t=t.type,t){case dw:case fw:case hw:case yw:case vw:return t;default:switch(t=t&&t.$$typeof,t){case ype:case pw:case gw:case bw:case xw:case mw:return t;default:return e}}case $A:return e}}}Et.ContextConsumer=pw;Et.ContextProvider=mw;Et.Element=DA;Et.ForwardRef=gw;Et.Fragment=dw;Et.Lazy=bw;Et.Memo=xw;Et.Portal=$A;Et.Profiler=fw;Et.StrictMode=hw;Et.Suspense=yw;Et.SuspenseList=vw;Et.isAsyncMode=function(){return!1};Et.isConcurrentMode=function(){return!1};Et.isContextConsumer=function(t){return Fi(t)===pw};Et.isContextProvider=function(t){return Fi(t)===mw};Et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===DA};Et.isForwardRef=function(t){return Fi(t)===gw};Et.isFragment=function(t){return Fi(t)===dw};Et.isLazy=function(t){return Fi(t)===bw};Et.isMemo=function(t){return Fi(t)===xw};Et.isPortal=function(t){return Fi(t)===$A};Et.isProfiler=function(t){return Fi(t)===fw};Et.isStrictMode=function(t){return Fi(t)===hw};Et.isSuspense=function(t){return Fi(t)===yw};Et.isSuspenseList=function(t){return Fi(t)===vw};Et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dw||t===fw||t===hw||t===yw||t===vw||t===vpe||typeof t=="object"&&t!==null&&(t.$$typeof===bw||t.$$typeof===xw||t.$$typeof===mw||t.$$typeof===pw||t.$$typeof===gw||t.$$typeof===EB||t.getModuleId!==void 0)};Et.typeOf=Fi;jB.exports=Et;var CB=jB.exports,xpe=Qa,bpe=Xa,wpe="[object Number]";function _pe(t){return typeof t=="number"||bpe(t)&&xpe(t)==wpe}var AB=_pe;const Spe=bt(AB);var Npe=AB;function jpe(t){return Npe(t)&&t!=+t}var Epe=jpe;const $h=bt(Epe);var Cr=function(e){return e===0?0:e>0?1:-1},Zl=function(e){return Ng(e)&&e.indexOf("%")===e.length-1},ge=function(e){return Spe(e)&&!$h(e)},An=function(e){return ge(e)||Ng(e)},Cpe=0,qc=function(e){var n=++Cpe;return"".concat(e||"").concat(n)},Ar=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!Ng(e))return r;var s;if(Zl(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return $h(s)&&(s=r),i&&s>n&&(s=n),s},No=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ape=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},en=function(e,n){return ge(e)&&ge(n)?function(r){return e+r*(n-e)}:function(){return n}};function Lv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):pi(r,e))===n})}function Ku(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function qN(t){"@babel/helpers - typeof";return qN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qN(t)}var Tpe=["viewBox","children"],kpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],l4=["points","pathLength"],w_={svg:Tpe,polygon:l4,polyline:l4},LA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Fv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!Oh(r))return null;var i={};return Object.keys(r).forEach(function(s){LA.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},Ppe=function(e,n,r){return function(i){return e(n,r,i),null}},kc=function(e,n,r){if(!Oh(e)||qN(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];LA.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=Ppe(a,n,r))}),i},Ipe=["children"],Ope=["children"];function c4(t,e){if(t==null)return{};var n=Rpe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KN(t){"@babel/helpers - typeof";return KN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KN(t)}var u4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Na=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},d4=null,__=null,FA=function t(e){if(e===d4&&Array.isArray(__))return __;var n=[];return C.Children.forEach(e,function(r){Ge(r)||(CB.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),__=n,d4=e,n};function gi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Na(i)}):r=[Na(e)],FA(t).forEach(function(i){var s=pi(i,"type.displayName")||pi(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function oi(t,e){var n=gi(t,e);return n&&n[0]}var h4=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ge(r)||r<=0||!ge(i)||i<=0)},Mpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Dpe=function(e){return e&&e.type&&Ng(e.type)&&Mpe.indexOf(e.type)>=0},TB=function(e){return e&&KN(e)==="object"&&"clipDot"in e},$pe=function(e,n,r,i){var s,a=(s=w_==null?void 0:w_[i])!==null&&s!==void 0?s:[];return!Ve(e)&&(i&&a.includes(n)||kpe.includes(n))||r&&LA.includes(n)},Me=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!Oh(i))return null;var s={};return Object.keys(i).forEach(function(a){var l;$pe((l=i)===null||l===void 0?void 0:l[a],a,n,r)&&(s[a]=i[a])}),s},YN=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return f4(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!f4(s,a))return!1}return!0},f4=function(e,n){if(Ge(e)&&Ge(n))return!0;if(!Ge(e)&&!Ge(n)){var r=e.props||{},i=r.children,s=c4(r,Ipe),a=n.props||{},l=a.children,c=c4(a,Ope);return i&&l?Ku(s,c)&&YN(i,l):!i&&!l?Ku(s,c):!1}return!1},m4=function(e,n){var r=[],i={};return FA(e).forEach(function(s,a){if(Dpe(s))r.push(s);else if(s){var l=Na(s.type),c=n[l]||{},u=c.handler,h=c.once;if(u&&(!h||!i[l])){var d=u(s,l,a);r.push(d),i[l]=!0}}}),r},Lpe=function(e){var n=e&&e.type;return n&&u4[n]?u4[n]:null},Fpe=function(e,n){return FA(n).indexOf(e)},Vpe=["children","width","height","viewBox","className","style","title","desc"];function QN(){return QN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QN.apply(this,arguments)}function Bpe(t,e){if(t==null)return{};var n=Upe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Upe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XN(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,l=t.title,c=t.desc,u=Bpe(t,Vpe),h=i||{width:n,height:r,x:0,y:0},d=He("recharts-surface",s);return D.createElement("svg",QN({},Me(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),D.createElement("title",null,l),D.createElement("desc",null,c),e)}var zpe=["children","className"];function JN(){return JN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JN.apply(this,arguments)}function Wpe(t,e){if(t==null)return{};var n=Hpe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var et=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=Wpe(t,zpe),s=He("recharts-layer",r);return D.createElement("g",JN({className:s},Me(i,!0),{ref:e}),n)}),ds=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function Gpe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var qpe=Gpe,Kpe=qpe;function Ype(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Kpe(t,e,n)}var Qpe=Ype,Xpe="\\ud800-\\udfff",Jpe="\\u0300-\\u036f",Zpe="\\ufe20-\\ufe2f",ege="\\u20d0-\\u20ff",tge=Jpe+Zpe+ege,nge="\\ufe0e\\ufe0f",rge="\\u200d",ige=RegExp("["+rge+Xpe+tge+nge+"]");function sge(t){return ige.test(t)}var kB=sge;function age(t){return t.split("")}var oge=age,PB="\\ud800-\\udfff",lge="\\u0300-\\u036f",cge="\\ufe20-\\ufe2f",uge="\\u20d0-\\u20ff",dge=lge+cge+uge,hge="\\ufe0e\\ufe0f",fge="["+PB+"]",ZN="["+dge+"]",ej="\\ud83c[\\udffb-\\udfff]",mge="(?:"+ZN+"|"+ej+")",IB="[^"+PB+"]",OB="(?:\\ud83c[\\udde6-\\uddff]){2}",RB="[\\ud800-\\udbff][\\udc00-\\udfff]",pge="\\u200d",MB=mge+"?",DB="["+hge+"]?",gge="(?:"+pge+"(?:"+[IB,OB,RB].join("|")+")"+DB+MB+")*",yge=DB+MB+gge,vge="(?:"+[IB+ZN+"?",ZN,OB,RB,fge].join("|")+")",xge=RegExp(ej+"(?="+ej+")|"+vge+yge,"g");function bge(t){return t.match(xge)||[]}var wge=bge,_ge=oge,Sge=kB,Nge=wge;function jge(t){return Sge(t)?Nge(t):_ge(t)}var Ege=jge,Cge=Qpe,Age=kB,Tge=Ege,kge=_B;function Pge(t){return function(e){e=kge(e);var n=Age(e)?Tge(e):void 0,r=n?n[0]:e.charAt(0),i=n?Cge(n,1).join(""):e.slice(1);return r[t]()+i}}var Ige=Pge,Oge=Ige,Rge=Oge("toUpperCase"),Mge=Rge;const ww=bt(Mge);function Mt(t){return function(){return t}}const $B=Math.cos,Vv=Math.sin,vs=Math.sqrt,Bv=Math.PI,_w=2*Bv,tj=Math.PI,nj=2*tj,Bl=1e-6,Dge=nj-Bl;function LB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function $ge(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return LB;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Lge{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?LB:$ge(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,u=i-n,h=a-e,d=l-n,f=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Bl)if(!(Math.abs(d*c-u*h)>Bl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,g=i-l,v=c*c+u*u,y=m*m+g*g,x=Math.sqrt(v),b=Math.sqrt(f),w=s*Math.tan((tj-Math.acos((v+f-y)/(2*x*b)))/2),N=w/b,S=w/x;Math.abs(N-1)>Bl&&this._append`L${e+N*h},${n+N*d}`,this._append`A${s},${s},0,0,${+(d*m>h*g)},${this._x1=e+S*c},${this._y1=n+S*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,h=n+c,d=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Bl||Math.abs(this._y1-h)>Bl)&&this._append`L${u},${h}`,r&&(f<0&&(f=f%nj+nj),f>Dge?this._append`A${r},${r},0,1,${d},${e-l},${n-c}A${r},${r},0,1,${d},${this._x1=u},${this._y1=h}`:f>Bl&&this._append`A${r},${r},0,${+(f>=tj)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function VA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Lge(e)}function BA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function FB(t){this._context=t}FB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sw(t){return new FB(t)}function VB(t){return t[0]}function BB(t){return t[1]}function UB(t,e){var n=Mt(!0),r=null,i=Sw,s=null,a=VA(l);t=typeof t=="function"?t:t===void 0?VB:Mt(t),e=typeof e=="function"?e:e===void 0?BB:Mt(e);function l(c){var u,h=(c=BA(c)).length,d,f=!1,m;for(r==null&&(s=i(m=a())),u=0;u<=h;++u)!(u<h&&n(d=c[u],u,c))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,u,c),+e(d,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Mt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Mt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Mt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Iy(t,e,n){var r=null,i=Mt(!0),s=null,a=Sw,l=null,c=VA(u);t=typeof t=="function"?t:t===void 0?VB:Mt(+t),e=typeof e=="function"?e:Mt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?BB:Mt(+n);function u(d){var f,m,g,v=(d=BA(d)).length,y,x=!1,b,w=new Array(v),N=new Array(v);for(s==null&&(l=a(b=c())),f=0;f<=v;++f){if(!(f<v&&i(y=d[f],f,d))===x)if(x=!x)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=m;--g)l.point(w[g],N[g]);l.lineEnd(),l.areaEnd()}x&&(w[f]=+t(y,f,d),N[f]=+e(y,f,d),l.point(r?+r(y,f,d):w[f],n?+n(y,f,d):N[f]))}if(b)return l=null,b+""||null}function h(){return UB().defined(i).curve(a).context(s)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Mt(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Mt(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Mt(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Mt(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Mt(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Mt(+d),u):n},u.lineX0=u.lineY0=function(){return h().x(t).y(e)},u.lineY1=function(){return h().x(t).y(n)},u.lineX1=function(){return h().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Mt(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,s!=null&&(l=a(s)),u):a},u.context=function(d){return arguments.length?(d==null?s=l=null:l=a(s=d),u):s},u}class zB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Fge(t){return new zB(t,!0)}function Vge(t){return new zB(t,!1)}const UA={draw(t,e){const n=vs(e/Bv);t.moveTo(n,0),t.arc(0,0,n,0,_w)}},Bge={draw(t,e){const n=vs(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},WB=vs(1/3),Uge=WB*2,zge={draw(t,e){const n=vs(e/Uge),r=n*WB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Wge={draw(t,e){const n=vs(e),r=-n/2;t.rect(r,r,n,n)}},Hge=.8908130915292852,HB=Vv(Bv/10)/Vv(7*Bv/10),Gge=Vv(_w/10)*HB,qge=-$B(_w/10)*HB,Kge={draw(t,e){const n=vs(e*Hge),r=Gge*n,i=qge*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=_w*s/5,l=$B(a),c=Vv(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},S_=vs(3),Yge={draw(t,e){const n=-vs(e/(S_*3));t.moveTo(0,n*2),t.lineTo(-S_*n,-n),t.lineTo(S_*n,-n),t.closePath()}},bi=-.5,wi=vs(3)/2,rj=1/vs(12),Qge=(rj/2+1)*3,Xge={draw(t,e){const n=vs(e/Qge),r=n/2,i=n*rj,s=r,a=n*rj+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(bi*r-wi*i,wi*r+bi*i),t.lineTo(bi*s-wi*a,wi*s+bi*a),t.lineTo(bi*l-wi*c,wi*l+bi*c),t.lineTo(bi*r+wi*i,bi*i-wi*r),t.lineTo(bi*s+wi*a,bi*a-wi*s),t.lineTo(bi*l+wi*c,bi*c-wi*l),t.closePath()}};function Jge(t,e){let n=null,r=VA(i);t=typeof t=="function"?t:Mt(t||UA),e=typeof e=="function"?e:Mt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Mt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Mt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Uv(){}function zv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function GB(t){this._context=t}GB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zge(t){return new GB(t)}function qB(t){this._context=t}qB.prototype={areaStart:Uv,areaEnd:Uv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eye(t){return new qB(t)}function KB(t){this._context=t}KB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tye(t){return new KB(t)}function YB(t){this._context=t}YB.prototype={areaStart:Uv,areaEnd:Uv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function nye(t){return new YB(t)}function p4(t){return t<0?-1:1}function g4(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(p4(s)+p4(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function y4(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function N_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function Wv(t){this._context=t}Wv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:N_(this,this._t0,y4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,N_(this,y4(this,n=g4(this,t,e)),n);break;default:N_(this,this._t0,n=g4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function QB(t){this._context=new XB(t)}(QB.prototype=Object.create(Wv.prototype)).point=function(t,e){Wv.prototype.point.call(this,e,t)};function XB(t){this._context=t}XB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function rye(t){return new Wv(t)}function iye(t){return new QB(t)}function JB(t){this._context=t}JB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=v4(t),i=v4(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function v4(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function sye(t){return new JB(t)}function Nw(t,e){this._context=t,this._t=e}Nw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function aye(t){return new Nw(t,.5)}function oye(t){return new Nw(t,0)}function lye(t){return new Nw(t,1)}function Ld(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ij(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function cye(t,e){return t[e]}function uye(t){const e=[];return e.key=t,e}function dye(){var t=Mt([]),e=ij,n=Ld,r=cye;function i(s){var a=Array.from(t.apply(this,arguments),uye),l,c=a.length,u=-1,h;for(const d of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+r(d,a[l].key,u,s)]).data=d;for(l=0,h=BA(e(a));l<c;++l)a[h[l]].index=l;return n(a,h),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Mt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Mt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?ij:typeof s=="function"?s:Mt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Ld,i):n},i}function hye(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Ld(t,e)}}function fye(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Ld(t,e)}}function mye(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,u=0;l<a;++l){for(var h=t[e[l]],d=h[r][1]||0,f=h[r-1][1]||0,m=(d-f)/2,g=0;g<l;++g){var v=t[e[g]],y=v[r][1]||0,x=v[r-1][1]||0;m+=y-x}c+=d,u+=m*d}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Ld(t,e)}}function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}var pye=["type","size","sizeType"];function sj(){return sj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sj.apply(this,arguments)}function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(r){gye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gye(t,e,n){return e=yye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yye(t){var e=vye(t,"string");return cp(e)=="symbol"?e:e+""}function vye(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xye(t,e){if(t==null)return{};var n=bye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ZB={symbolCircle:UA,symbolCross:Bge,symbolDiamond:zge,symbolSquare:Wge,symbolStar:Kge,symbolTriangle:Yge,symbolWye:Xge},wye=Math.PI/180,_ye=function(e){var n="symbol".concat(ww(e));return ZB[n]||UA},Sye=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*wye;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Nye=function(e,n){ZB["symbol".concat(ww(e))]=n},zA=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,l=a===void 0?"area":a,c=xye(e,pye),u=b4(b4({},c),{},{type:r,size:s,sizeType:l}),h=function(){var y=_ye(r),x=Jge().type(y).size(Sye(s,l,r));return x()},d=u.className,f=u.cx,m=u.cy,g=Me(u,!0);return f===+f&&m===+m&&s===+s?D.createElement("path",sj({},g,{className:He("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:h()})):null};zA.registerSymbol=Nye;function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function aj(){return aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aj.apply(this,arguments)}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){up(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tU(r.key),r)}}function Aye(t,e,n){return e&&Cye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tye(t,e,n){return e=Hv(e),kye(t,eU()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function kye(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pye(t)}function Pye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function Iye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oj(t,e)}function oj(t,e){return oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oj(t,e)}function up(t,e,n){return e=tU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tU(t){var e=Oye(t,"string");return Fd(e)=="symbol"?e:e+""}function Oye(t,e){if(Fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _i=32,WA=function(t){function e(){return Eye(this,e),Tye(this,e,arguments)}return Iye(e,t),Aye(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=_i/2,a=_i/6,l=_i/3,c=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:_i,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(_i,"M").concat(2*l,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(_i/8,"h").concat(_i,"v").concat(_i*3/4,"h").concat(-_i,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=jye({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(zA,{fill:c,cx:s,cy:s,size:_i,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,h={x:0,y:0,width:_i,height:_i},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var v=m.formatter||c,y=He(up(up({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=Ve(m.value)?null:m.value;ds(!Ve(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return D.createElement("li",aj({className:y,style:d,key:"legend-item-".concat(g)},kc(r.props,m,g)),D.createElement(XN,{width:a,height:a,viewBox:h,style:f},r.renderIcon(m)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v?v(x,m,g):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(C.PureComponent);up(WA,"displayName","Legend");up(WA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Rye=lw;function Mye(){this.__data__=new Rye,this.size=0}var Dye=Mye;function $ye(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Lye=$ye;function Fye(t){return this.__data__.get(t)}var Vye=Fye;function Bye(t){return this.__data__.has(t)}var Uye=Bye,zye=lw,Wye=PA,Hye=IA,Gye=200;function qye(t,e){var n=this.__data__;if(n instanceof zye){var r=n.__data__;if(!Wye||r.length<Gye-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Hye(r)}return n.set(t,e),this.size=n.size,this}var Kye=qye,Yye=lw,Qye=Dye,Xye=Lye,Jye=Vye,Zye=Uye,e0e=Kye;function Lh(t){var e=this.__data__=new Yye(t);this.size=e.size}Lh.prototype.clear=Qye;Lh.prototype.delete=Xye;Lh.prototype.get=Jye;Lh.prototype.has=Zye;Lh.prototype.set=e0e;var nU=Lh,t0e="__lodash_hash_undefined__";function n0e(t){return this.__data__.set(t,t0e),this}var r0e=n0e;function i0e(t){return this.__data__.has(t)}var s0e=i0e,a0e=IA,o0e=r0e,l0e=s0e;function Gv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new a0e;++e<n;)this.add(t[e])}Gv.prototype.add=Gv.prototype.push=o0e;Gv.prototype.has=l0e;var rU=Gv;function c0e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var iU=c0e;function u0e(t,e){return t.has(e)}var sU=u0e,d0e=rU,h0e=iU,f0e=sU,m0e=1,p0e=2;function g0e(t,e,n,r,i,s){var a=n&m0e,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(t),h=s.get(e);if(u&&h)return u==e&&h==t;var d=-1,f=!0,m=n&p0e?new d0e:void 0;for(s.set(t,e),s.set(e,t);++d<l;){var g=t[d],v=e[d];if(r)var y=a?r(v,g,d,e,t,s):r(g,v,d,t,e,s);if(y!==void 0){if(y)continue;f=!1;break}if(m){if(!h0e(e,function(x,b){if(!f0e(m,b)&&(g===x||i(g,x,n,r,s)))return m.push(b)})){f=!1;break}}else if(!(g===v||i(g,v,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var aU=g0e,y0e=Qs,v0e=y0e.Uint8Array,x0e=v0e;function b0e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var w0e=b0e;function _0e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var HA=_0e,_4=Sg,S4=x0e,S0e=kA,N0e=aU,j0e=w0e,E0e=HA,C0e=1,A0e=2,T0e="[object Boolean]",k0e="[object Date]",P0e="[object Error]",I0e="[object Map]",O0e="[object Number]",R0e="[object RegExp]",M0e="[object Set]",D0e="[object String]",$0e="[object Symbol]",L0e="[object ArrayBuffer]",F0e="[object DataView]",N4=_4?_4.prototype:void 0,j_=N4?N4.valueOf:void 0;function V0e(t,e,n,r,i,s,a){switch(n){case F0e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case L0e:return!(t.byteLength!=e.byteLength||!s(new S4(t),new S4(e)));case T0e:case k0e:case O0e:return S0e(+t,+e);case P0e:return t.name==e.name&&t.message==e.message;case R0e:case D0e:return t==e+"";case I0e:var l=j0e;case M0e:var c=r&C0e;if(l||(l=E0e),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;r|=A0e,a.set(t,e);var h=N0e(l(t),l(e),r,i,s,a);return a.delete(t),h;case $0e:if(j_)return j_.call(t)==j_.call(e)}return!1}var B0e=V0e;function U0e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var oU=U0e,z0e=oU,W0e=ei;function H0e(t,e,n){var r=e(t);return W0e(t)?r:z0e(r,n(t))}var G0e=H0e;function q0e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var K0e=q0e;function Y0e(){return[]}var Q0e=Y0e,X0e=K0e,J0e=Q0e,Z0e=Object.prototype,eve=Z0e.propertyIsEnumerable,j4=Object.getOwnPropertySymbols,tve=j4?function(t){return t==null?[]:(t=Object(t),X0e(j4(t),function(e){return eve.call(t,e)}))}:J0e,nve=tve;function rve(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ive=rve,sve=Qa,ave=Xa,ove="[object Arguments]";function lve(t){return ave(t)&&sve(t)==ove}var cve=lve,E4=cve,uve=Xa,lU=Object.prototype,dve=lU.hasOwnProperty,hve=lU.propertyIsEnumerable,fve=E4(function(){return arguments}())?E4:function(t){return uve(t)&&dve.call(t,"callee")&&!hve.call(t,"callee")},GA=fve,qv={exports:{}};function mve(){return!1}var pve=mve;qv.exports;(function(t,e){var n=Qs,r=pve,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(qv,qv.exports);var cU=qv.exports,gve=9007199254740991,yve=/^(?:0|[1-9]\d*)$/;function vve(t,e){var n=typeof t;return e=e??gve,!!e&&(n=="number"||n!="symbol"&&yve.test(t))&&t>-1&&t%1==0&&t<e}var qA=vve,xve=9007199254740991;function bve(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xve}var KA=bve,wve=Qa,_ve=KA,Sve=Xa,Nve="[object Arguments]",jve="[object Array]",Eve="[object Boolean]",Cve="[object Date]",Ave="[object Error]",Tve="[object Function]",kve="[object Map]",Pve="[object Number]",Ive="[object Object]",Ove="[object RegExp]",Rve="[object Set]",Mve="[object String]",Dve="[object WeakMap]",$ve="[object ArrayBuffer]",Lve="[object DataView]",Fve="[object Float32Array]",Vve="[object Float64Array]",Bve="[object Int8Array]",Uve="[object Int16Array]",zve="[object Int32Array]",Wve="[object Uint8Array]",Hve="[object Uint8ClampedArray]",Gve="[object Uint16Array]",qve="[object Uint32Array]",Vt={};Vt[Fve]=Vt[Vve]=Vt[Bve]=Vt[Uve]=Vt[zve]=Vt[Wve]=Vt[Hve]=Vt[Gve]=Vt[qve]=!0;Vt[Nve]=Vt[jve]=Vt[$ve]=Vt[Eve]=Vt[Lve]=Vt[Cve]=Vt[Ave]=Vt[Tve]=Vt[kve]=Vt[Pve]=Vt[Ive]=Vt[Ove]=Vt[Rve]=Vt[Mve]=Vt[Dve]=!1;function Kve(t){return Sve(t)&&_ve(t.length)&&!!Vt[wve(t)]}var Yve=Kve;function Qve(t){return function(e){return t(e)}}var uU=Qve,Kv={exports:{}};Kv.exports;(function(t,e){var n=gB,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l})(Kv,Kv.exports);var Xve=Kv.exports,Jve=Yve,Zve=uU,C4=Xve,A4=C4&&C4.isTypedArray,exe=A4?Zve(A4):Jve,dU=exe,txe=ive,nxe=GA,rxe=ei,ixe=cU,sxe=qA,axe=dU,oxe=Object.prototype,lxe=oxe.hasOwnProperty;function cxe(t,e){var n=rxe(t),r=!n&&nxe(t),i=!n&&!r&&ixe(t),s=!n&&!r&&!i&&axe(t),a=n||r||i||s,l=a?txe(t.length,String):[],c=l.length;for(var u in t)(e||lxe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sxe(u,c)))&&l.push(u);return l}var uxe=cxe,dxe=Object.prototype;function hxe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dxe;return t===n}var fxe=hxe;function mxe(t,e){return function(n){return t(e(n))}}var hU=mxe,pxe=hU,gxe=pxe(Object.keys,Object),yxe=gxe,vxe=fxe,xxe=yxe,bxe=Object.prototype,wxe=bxe.hasOwnProperty;function _xe(t){if(!vxe(t))return xxe(t);var e=[];for(var n in Object(t))wxe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Sxe=_xe,Nxe=TA,jxe=KA;function Exe(t){return t!=null&&jxe(t.length)&&!Nxe(t)}var jg=Exe,Cxe=uxe,Axe=Sxe,Txe=jg;function kxe(t){return Txe(t)?Cxe(t):Axe(t)}var jw=kxe,Pxe=G0e,Ixe=nve,Oxe=jw;function Rxe(t){return Pxe(t,Oxe,Ixe)}var Mxe=Rxe,T4=Mxe,Dxe=1,$xe=Object.prototype,Lxe=$xe.hasOwnProperty;function Fxe(t,e,n,r,i,s){var a=n&Dxe,l=T4(t),c=l.length,u=T4(e),h=u.length;if(c!=h&&!a)return!1;for(var d=c;d--;){var f=l[d];if(!(a?f in e:Lxe.call(e,f)))return!1}var m=s.get(t),g=s.get(e);if(m&&g)return m==e&&g==t;var v=!0;s.set(t,e),s.set(e,t);for(var y=a;++d<c;){f=l[d];var x=t[f],b=e[f];if(r)var w=a?r(b,x,f,e,t,s):r(x,b,f,t,e,s);if(!(w===void 0?x===b||i(x,b,n,r,s):w)){v=!1;break}y||(y=f=="constructor")}if(v&&!y){var N=t.constructor,S=e.constructor;N!=S&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof S=="function"&&S instanceof S)&&(v=!1)}return s.delete(t),s.delete(e),v}var Vxe=Fxe,Bxe=Gc,Uxe=Qs,zxe=Bxe(Uxe,"DataView"),Wxe=zxe,Hxe=Gc,Gxe=Qs,qxe=Hxe(Gxe,"Promise"),Kxe=qxe,Yxe=Gc,Qxe=Qs,Xxe=Yxe(Qxe,"Set"),fU=Xxe,Jxe=Gc,Zxe=Qs,ebe=Jxe(Zxe,"WeakMap"),tbe=ebe,lj=Wxe,cj=PA,uj=Kxe,dj=fU,hj=tbe,mU=Qa,Fh=vB,k4="[object Map]",nbe="[object Object]",P4="[object Promise]",I4="[object Set]",O4="[object WeakMap]",R4="[object DataView]",rbe=Fh(lj),ibe=Fh(cj),sbe=Fh(uj),abe=Fh(dj),obe=Fh(hj),Ul=mU;(lj&&Ul(new lj(new ArrayBuffer(1)))!=R4||cj&&Ul(new cj)!=k4||uj&&Ul(uj.resolve())!=P4||dj&&Ul(new dj)!=I4||hj&&Ul(new hj)!=O4)&&(Ul=function(t){var e=mU(t),n=e==nbe?t.constructor:void 0,r=n?Fh(n):"";if(r)switch(r){case rbe:return R4;case ibe:return k4;case sbe:return P4;case abe:return I4;case obe:return O4}return e});var lbe=Ul,E_=nU,cbe=aU,ube=B0e,dbe=Vxe,M4=lbe,D4=ei,$4=cU,hbe=dU,fbe=1,L4="[object Arguments]",F4="[object Array]",Oy="[object Object]",mbe=Object.prototype,V4=mbe.hasOwnProperty;function pbe(t,e,n,r,i,s){var a=D4(t),l=D4(e),c=a?F4:M4(t),u=l?F4:M4(e);c=c==L4?Oy:c,u=u==L4?Oy:u;var h=c==Oy,d=u==Oy,f=c==u;if(f&&$4(t)){if(!$4(e))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new E_),a||hbe(t)?cbe(t,e,n,r,i,s):ube(t,e,c,n,r,i,s);if(!(n&fbe)){var m=h&&V4.call(t,"__wrapped__"),g=d&&V4.call(e,"__wrapped__");if(m||g){var v=m?t.value():t,y=g?e.value():e;return s||(s=new E_),i(v,y,n,r,s)}}return f?(s||(s=new E_),dbe(t,e,n,r,i,s)):!1}var gbe=pbe,ybe=gbe,B4=Xa;function pU(t,e,n,r,i){return t===e?!0:t==null||e==null||!B4(t)&&!B4(e)?t!==t&&e!==e:ybe(t,e,n,r,pU,i)}var YA=pU,vbe=nU,xbe=YA,bbe=1,wbe=2;function _be(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var l=n[i];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=n[i];var c=l[0],u=t[c],h=l[1];if(a&&l[2]){if(u===void 0&&!(c in t))return!1}else{var d=new vbe;if(r)var f=r(u,h,c,t,e,d);if(!(f===void 0?xbe(h,u,bbe|wbe,r,d):f))return!1}}return!0}var Sbe=_be,Nbe=jl;function jbe(t){return t===t&&!Nbe(t)}var gU=jbe,Ebe=gU,Cbe=jw;function Abe(t){for(var e=Cbe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ebe(i)]}return e}var Tbe=Abe;function kbe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var yU=kbe,Pbe=Sbe,Ibe=Tbe,Obe=yU;function Rbe(t){var e=Ibe(t);return e.length==1&&e[0][2]?Obe(e[0][0],e[0][1]):function(n){return n===t||Pbe(n,t,e)}}var Mbe=Rbe;function Dbe(t,e){return t!=null&&e in Object(t)}var $be=Dbe,Lbe=SB,Fbe=GA,Vbe=ei,Bbe=qA,Ube=KA,zbe=uw;function Wbe(t,e,n){e=Lbe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=zbe(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Ube(i)&&Bbe(a,i)&&(Vbe(t)||Fbe(t)))}var Hbe=Wbe,Gbe=$be,qbe=Hbe;function Kbe(t,e){return t!=null&&qbe(t,e,Gbe)}var Ybe=Kbe,Qbe=YA,Xbe=NB,Jbe=Ybe,Zbe=AA,ewe=gU,twe=yU,nwe=uw,rwe=1,iwe=2;function swe(t,e){return Zbe(t)&&ewe(e)?twe(nwe(t),e):function(n){var r=Xbe(n,t);return r===void 0&&r===e?Jbe(n,t):Qbe(e,r,rwe|iwe)}}var awe=swe;function owe(t){return t}var Vh=owe;function lwe(t){return function(e){return e==null?void 0:e[t]}}var cwe=lwe,uwe=MA;function dwe(t){return function(e){return uwe(e,t)}}var hwe=dwe,fwe=cwe,mwe=hwe,pwe=AA,gwe=uw;function ywe(t){return pwe(t)?fwe(gwe(t)):mwe(t)}var vwe=ywe,xwe=Mbe,bwe=awe,wwe=Vh,_we=ei,Swe=vwe;function Nwe(t){return typeof t=="function"?t:t==null?wwe:typeof t=="object"?_we(t)?bwe(t[0],t[1]):xwe(t):Swe(t)}var Xs=Nwe;function jwe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var vU=jwe;function Ewe(t){return t!==t}var Cwe=Ewe;function Awe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Twe=Awe,kwe=vU,Pwe=Cwe,Iwe=Twe;function Owe(t,e,n){return e===e?Iwe(t,e,n):kwe(t,Pwe,n)}var Rwe=Owe,Mwe=Rwe;function Dwe(t,e){var n=t==null?0:t.length;return!!n&&Mwe(t,e,0)>-1}var $we=Dwe;function Lwe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Fwe=Lwe;function Vwe(){}var Bwe=Vwe,C_=fU,Uwe=Bwe,zwe=HA,Wwe=1/0,Hwe=C_&&1/zwe(new C_([,-0]))[1]==Wwe?function(t){return new C_(t)}:Uwe,Gwe=Hwe,qwe=rU,Kwe=$we,Ywe=Fwe,Qwe=sU,Xwe=Gwe,Jwe=HA,Zwe=200;function e1e(t,e,n){var r=-1,i=Kwe,s=t.length,a=!0,l=[],c=l;if(n)a=!1,i=Ywe;else if(s>=Zwe){var u=e?null:Xwe(t);if(u)return Jwe(u);a=!1,i=Qwe,c=new qwe}else c=e?[]:l;e:for(;++r<s;){var h=t[r],d=e?e(h):h;if(h=n||h!==0?h:0,a&&d===d){for(var f=c.length;f--;)if(c[f]===d)continue e;e&&c.push(d),l.push(h)}else i(c,d,n)||(c!==l&&c.push(d),l.push(h))}return l}var t1e=e1e,n1e=Xs,r1e=t1e;function i1e(t,e){return t&&t.length?r1e(t,n1e(e)):[]}var s1e=i1e;const U4=bt(s1e);function xU(t,e,n){return e===!0?U4(t,n):Ve(e)?U4(t,e):t}function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}var a1e=["ref"];function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){Ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wU(r.key),r)}}function l1e(t,e,n){return e&&W4(t.prototype,e),n&&W4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c1e(t,e,n){return e=Yv(e),u1e(t,bU()?Reflect.construct(e,n||[],Yv(t).constructor):e.apply(t,n))}function u1e(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d1e(t)}function d1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bU=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(t)}function h1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fj(t,e)}function fj(t,e){return fj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fj(t,e)}function Ew(t,e,n){return e=wU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wU(t){var e=f1e(t,"string");return Vd(e)=="symbol"?e:e+""}function f1e(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m1e(t,e){if(t==null)return{};var n=p1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g1e(t){return t.value}function y1e(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=m1e(e,a1e);return D.createElement(WA,n)}var H4=1,Yu=function(t){function e(){var n;o1e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=c1e(this,e,[].concat(i)),Ew(n,"lastBoundingBox",{width:-1,height:-1}),n}return h1e(e,t),l1e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>H4||Math.abs(i.height-this.lastBoundingBox.height)>H4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?na({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,h=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();f={top:((h||0)-g.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return na(na({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,h=i.payload,d=na(na({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return D.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},y1e(s,na(na({},this.props),{},{payload:xU(h,u,g1e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=na(na({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&ge(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(C.PureComponent);Ew(Yu,"displayName","Legend");Ew(Yu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var G4=Sg,v1e=GA,x1e=ei,q4=G4?G4.isConcatSpreadable:void 0;function b1e(t){return x1e(t)||v1e(t)||!!(q4&&t&&t[q4])}var w1e=b1e,_1e=oU,S1e=w1e;function _U(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=S1e),i||(i=[]);++s<a;){var l=t[s];e>0&&n(l)?e>1?_U(l,e-1,n,r,i):_1e(i,l):r||(i[i.length]=l)}return i}var SU=_U;function N1e(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),l=a.length;l--;){var c=a[t?l:++i];if(n(s[c],c,s)===!1)break}return e}}var j1e=N1e,E1e=j1e,C1e=E1e(),A1e=C1e,T1e=A1e,k1e=jw;function P1e(t,e){return t&&T1e(t,e,k1e)}var NU=P1e,I1e=jg;function O1e(t,e){return function(n,r){if(n==null)return n;if(!I1e(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var R1e=O1e,M1e=NU,D1e=R1e,$1e=D1e(M1e),QA=$1e,L1e=QA,F1e=jg;function V1e(t,e){var n=-1,r=F1e(t)?Array(t.length):[];return L1e(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var jU=V1e;function B1e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var U1e=B1e,K4=Ih;function z1e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=K4(t),a=e!==void 0,l=e===null,c=e===e,u=K4(e);if(!l&&!u&&!s&&t>e||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||l&&n&&i||!a&&i||!c)return-1}return 0}var W1e=z1e,H1e=W1e;function G1e(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,l=n.length;++r<a;){var c=H1e(i[r],s[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var q1e=G1e,A_=RA,K1e=MA,Y1e=Xs,Q1e=jU,X1e=U1e,J1e=uU,Z1e=q1e,e_e=Vh,t_e=ei;function n_e(t,e,n){e.length?e=A_(e,function(s){return t_e(s)?function(a){return K1e(a,s.length===1?s[0]:s)}:s}):e=[e_e];var r=-1;e=A_(e,J1e(Y1e));var i=Q1e(t,function(s,a,l){var c=A_(e,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return X1e(i,function(s,a){return Z1e(s,a,n)})}var r_e=n_e;function i_e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var s_e=i_e,a_e=s_e,Y4=Math.max;function o_e(t,e,n){return e=Y4(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Y4(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(a),a_e(t,this,l)}}var l_e=o_e;function c_e(t){return function(){return t}}var u_e=c_e,d_e=Gc,h_e=function(){try{var t=d_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),EU=h_e,f_e=u_e,Q4=EU,m_e=Vh,p_e=Q4?function(t,e){return Q4(t,"toString",{configurable:!0,enumerable:!1,value:f_e(e),writable:!0})}:m_e,g_e=p_e,y_e=800,v_e=16,x_e=Date.now;function b_e(t){var e=0,n=0;return function(){var r=x_e(),i=v_e-(r-n);if(n=r,i>0){if(++e>=y_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var w_e=b_e,__e=g_e,S_e=w_e,N_e=S_e(__e),j_e=N_e,E_e=Vh,C_e=l_e,A_e=j_e;function T_e(t,e){return A_e(C_e(t,e,E_e),t+"")}var k_e=T_e,P_e=kA,I_e=jg,O_e=qA,R_e=jl;function M_e(t,e,n){if(!R_e(n))return!1;var r=typeof e;return(r=="number"?I_e(n)&&O_e(e,n.length):r=="string"&&e in n)?P_e(n[e],t):!1}var Cw=M_e,D_e=SU,$_e=r_e,L_e=k_e,X4=Cw,F_e=L_e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&X4(t,e[0],e[1])?e=[]:n>2&&X4(e[0],e[1],e[2])&&(e=[e[0]]),$_e(t,D_e(e,1),[])}),V_e=F_e;const XA=bt(V_e);function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function mj(){return mj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mj.apply(this,arguments)}function B_e(t,e){return H_e(t)||W_e(t,e)||z_e(t,e)||U_e()}function U_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z_e(t,e){if(t){if(typeof t=="string")return J4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J4(t,e)}}function J4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function H_e(t){if(Array.isArray(t))return t}function Z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(n),!0).forEach(function(r){G_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G_e(t,e,n){return e=q_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q_e(t){var e=K_e(t,"string");return dp(e)=="symbol"?e:e+""}function K_e(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y_e(t){return Array.isArray(t)&&An(t[0])&&An(t[1])?t.join(" ~ "):t}var Q_e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,l=a===void 0?{}:a,c=e.labelStyle,u=c===void 0?{}:c,h=e.payload,d=e.formatter,f=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,v=e.label,y=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(h&&h.length){var I={padding:0,margin:0},R=(f?XA(h,f):h).map(function($,W){if($.type==="none")return null;var H=T_({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),M=$.formatter||d||Y_e,F=$.value,U=$.name,X=F,z=U;if(M&&X!=null&&z!=null){var G=M(F,U,$,W,h);if(Array.isArray(G)){var q=B_e(G,2);X=q[0],z=q[1]}else X=G}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:H},An(z)?D.createElement("span",{className:"recharts-tooltip-item-name"},z):null,An(z)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},X),D.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:I},R)}return null},N=T_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=T_({margin:0},u),P=!Ge(v),j=P?v:"",_=He("recharts-default-tooltip",m),k=He("recharts-tooltip-label",g);P&&y&&h!==void 0&&h!==null&&(j=y(v,h));var E=b?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",mj({className:_,style:N},E),D.createElement("p",{className:k,style:S},D.isValidElement(j)?j:"".concat(j)),w())};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function Ry(t,e,n){return e=X_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X_e(t){var e=J_e(t,"string");return hp(e)=="symbol"?e:e+""}function J_e(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jf="recharts-tooltip-wrapper",Z_e={visibility:"hidden"};function eSe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return He(jf,Ry(Ry(Ry(Ry({},"".concat(jf,"-right"),ge(n)&&e&&ge(e.x)&&n>=e.x),"".concat(jf,"-left"),ge(n)&&e&&ge(e.x)&&n<e.x),"".concat(jf,"-bottom"),ge(r)&&e&&ge(e.y)&&r>=e.y),"".concat(jf,"-top"),ge(r)&&e&&ge(e.y)&&r<e.y))}function e5(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&ge(s[r]))return s[r];var h=n[r]-l-i,d=n[r]+i;if(e[r])return a[r]?h:d;if(a[r]){var f=h,m=c[r];return f<m?Math.max(d,c[r]):Math.max(h,c[r])}var g=d+l,v=c[r]+u;return g>v?Math.max(h,c[r]):Math.max(d,c[r])}function tSe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function nSe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,h,d;return a.height>0&&a.width>0&&n?(h=e5({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),d=e5({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=tSe({translateX:h,translateY:d,useTranslate3d:l})):u=Z_e,{cssProperties:u,cssClasses:eSe({translateX:h,translateY:d,coordinate:n})}}function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function t5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(n),!0).forEach(function(r){gj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AU(r.key),r)}}function sSe(t,e,n){return e&&iSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aSe(t,e,n){return e=Qv(e),oSe(t,CU()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function oSe(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lSe(t)}function lSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CU=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function cSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pj(t,e)}function pj(t,e){return pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pj(t,e)}function gj(t,e,n){return e=AU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AU(t){var e=uSe(t,"string");return Bd(e)=="symbol"?e:e+""}function uSe(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r5=1,dSe=function(t){function e(){var n;rSe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=aSe(this,e,[].concat(i)),gj(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gj(n,"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,u,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),n}return cSe(e,t),sSe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>r5||Math.abs(r.height-this.state.lastBoundingBox.height)>r5)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,h=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,m=i.offset,g=i.position,v=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,w=nSe({allowEscapeViewBox:a,coordinate:h,offsetTopLeft:m,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),N=w.cssClasses,S=w.cssProperties,P=n5(n5({transition:f&&s?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return D.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(_){r.wrapperNode=_}},u)}}])}(C.PureComponent),hSe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ii={isSsr:hSe(),get:function(e){return Ii[e]},set:function(e,n){if(typeof e=="string")Ii[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Ii[i]=e[i]})}}};function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function i5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(n),!0).forEach(function(r){JA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kU(r.key),r)}}function pSe(t,e,n){return e&&mSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gSe(t,e,n){return e=Xv(e),ySe(t,TU()?Reflect.construct(e,n||[],Xv(t).constructor):e.apply(t,n))}function ySe(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vSe(t)}function vSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xv(t)}function xSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yj(t,e)}function yj(t,e){return yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yj(t,e)}function JA(t,e,n){return e=kU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kU(t){var e=bSe(t,"string");return Ud(e)=="symbol"?e:e+""}function bSe(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wSe(t){return t.dataKey}function _Se(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(Q_e,e)}var jr=function(t){function e(){return fSe(this,e),gSe(this,e,arguments)}return xSe(e,t),pSe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,h=i.coordinate,d=i.filterNull,f=i.isAnimationActive,m=i.offset,g=i.payload,v=i.payloadUniqBy,y=i.position,x=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,N=i.wrapperStyle,S=g??[];d&&S.length&&(S=xU(g.filter(function(j){return j.value!=null&&(j.hide!==!0||r.props.includeHidden)}),v,wSe));var P=S.length>0;return D.createElement(dSe,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:f,active:s,coordinate:h,hasPayload:P,offset:m,position:y,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:N},_Se(u,s5(s5({},this.props),{},{payload:S})))}}])}(C.PureComponent);JA(jr,"displayName","Tooltip");JA(jr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ii.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var SSe=Qs,NSe=function(){return SSe.Date.now()},jSe=NSe,ESe=/\s/;function CSe(t){for(var e=t.length;e--&&ESe.test(t.charAt(e)););return e}var ASe=CSe,TSe=ASe,kSe=/^\s+/;function PSe(t){return t&&t.slice(0,TSe(t)+1).replace(kSe,"")}var ISe=PSe,OSe=ISe,a5=jl,RSe=Ih,o5=NaN,MSe=/^[-+]0x[0-9a-f]+$/i,DSe=/^0b[01]+$/i,$Se=/^0o[0-7]+$/i,LSe=parseInt;function FSe(t){if(typeof t=="number")return t;if(RSe(t))return o5;if(a5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=a5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=OSe(t);var n=DSe.test(t);return n||$Se.test(t)?LSe(t.slice(2),n?2:8):MSe.test(t)?o5:+t}var PU=FSe,VSe=jl,k_=jSe,l5=PU,BSe="Expected a function",USe=Math.max,zSe=Math.min;function WSe(t,e,n){var r,i,s,a,l,c,u=0,h=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(BSe);e=l5(e)||0,VSe(n)&&(h=!!n.leading,d="maxWait"in n,s=d?USe(l5(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function m(P){var j=r,_=i;return r=i=void 0,u=P,a=t.apply(_,j),a}function g(P){return u=P,l=setTimeout(x,e),h?m(P):a}function v(P){var j=P-c,_=P-u,k=e-j;return d?zSe(k,s-_):k}function y(P){var j=P-c,_=P-u;return c===void 0||j>=e||j<0||d&&_>=s}function x(){var P=k_();if(y(P))return b(P);l=setTimeout(x,v(P))}function b(P){return l=void 0,f&&r?m(P):(r=i=void 0,a)}function w(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function N(){return l===void 0?a:b(k_())}function S(){var P=k_(),j=y(P);if(r=arguments,i=this,c=P,j){if(l===void 0)return g(c);if(d)return clearTimeout(l),l=setTimeout(x,e),m(c)}return l===void 0&&(l=setTimeout(x,e)),a}return S.cancel=w,S.flush=N,S}var HSe=WSe,GSe=HSe,qSe=jl,KSe="Expected a function";function YSe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(KSe);return qSe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),GSe(t,e,{leading:r,maxWait:e,trailing:i})}var QSe=YSe;const IU=bt(QSe);function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function c5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function My(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(n),!0).forEach(function(r){XSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XSe(t,e,n){return e=JSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JSe(t){var e=ZSe(t,"string");return fp(e)=="symbol"?e:e+""}function ZSe(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eNe(t,e){return iNe(t)||rNe(t,e)||nNe(t,e)||tNe()}function tNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nNe(t,e){if(t){if(typeof t=="string")return u5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u5(t,e)}}function u5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function iNe(t){if(Array.isArray(t))return t}var Pc=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,h=u===void 0?0:u,d=t.minHeight,f=t.maxHeight,m=t.children,g=t.debounce,v=g===void 0?0:g,y=t.id,x=t.className,b=t.onResize,w=t.style,N=w===void 0?{}:w,S=C.useRef(null),P=C.useRef();P.current=b,C.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=C.useState({containerWidth:i.width,containerHeight:i.height}),_=eNe(j,2),k=_[0],E=_[1],A=C.useCallback(function(R,$){E(function(W){var H=Math.round(R),M=Math.round($);return W.containerWidth===H&&W.containerHeight===M?W:{containerWidth:H,containerHeight:M}})},[]);C.useEffect(function(){var R=function(U){var X,z=U[0].contentRect,G=z.width,q=z.height;A(G,q),(X=P.current)===null||X===void 0||X.call(P,G,q)};v>0&&(R=IU(R,v,{trailing:!0,leading:!1}));var $=new ResizeObserver(R),W=S.current.getBoundingClientRect(),H=W.width,M=W.height;return A(H,M),$.observe(S.current),function(){$.disconnect()}},[A,v]);var I=C.useMemo(function(){var R=k.containerWidth,$=k.containerHeight;if(R<0||$<0)return null;ds(Zl(a)||Zl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),ds(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Zl(a)?R:a,H=Zl(c)?$:c;n&&n>0&&(W?H=W/n:H&&(W=H*n),f&&H>f&&(H=f)),ds(W>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,H,a,c,h,d,n);var M=!Array.isArray(m)&&Na(m.type).endsWith("Chart");return D.Children.map(m,function(F){return CB.isElement(F)?C.cloneElement(F,My({width:W,height:H},M?{style:My({height:"100%",width:"100%",maxHeight:H,maxWidth:W},F.props.style)}:{})):F})},[n,m,c,f,d,h,k,a]);return D.createElement("div",{id:y?"".concat(y):void 0,className:He("recharts-responsive-container",x),style:My(My({},N),{},{width:a,height:c,minWidth:h,minHeight:d,maxHeight:f}),ref:S},I)}),Aw=function(e){return null};Aw.displayName="Cell";function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function d5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d5(Object(n),!0).forEach(function(r){sNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sNe(t,e,n){return e=aNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aNe(t){var e=oNe(t,"string");return mp(e)=="symbol"?e:e+""}function oNe(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var au={widthCache:{},cacheCount:0},lNe=2e3,cNe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},h5="recharts_measurement_span";function uNe(t){var e=vj({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ym=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ii.isSsr)return{width:0,height:0};var r=uNe(n),i=JSON.stringify({text:e,copyStyle:r});if(au.widthCache[i])return au.widthCache[i];try{var s=document.getElementById(h5);s||(s=document.createElement("span"),s.setAttribute("id",h5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=vj(vj({},cNe),r);Object.assign(s.style,a),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return au.widthCache[i]=c,++au.cacheCount>lNe&&(au.cacheCount=0,au.widthCache={}),c}catch{return{width:0,height:0}}},dNe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function Jv(t,e){return pNe(t)||mNe(t,e)||fNe(t,e)||hNe()}function hNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fNe(t,e){if(t){if(typeof t=="string")return f5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f5(t,e)}}function f5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function pNe(t){if(Array.isArray(t))return t}function gNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vNe(r.key),r)}}function yNe(t,e,n){return e&&m5(t.prototype,e),n&&m5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vNe(t){var e=xNe(t,"string");return pp(e)=="symbol"?e:e+""}function xNe(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var p5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_Ne=Object.keys(OU),Tu="NaN";function SNe(t,e){return t*OU[e]}var Dy=function(){function t(e,n){gNe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!bNe.test(n)&&(this.num=NaN,this.unit=""),_Ne.includes(n)&&(this.num=SNe(e,n),this.unit="px")}return yNe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=wNe.exec(n))!==null&&r!==void 0?r:[],s=Jv(i,3),a=s[1],l=s[2];return new t(parseFloat(a),l??"")}}])}();function RU(t){if(t.includes(Tu))return Tu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=p5.exec(e))!==null&&n!==void 0?n:[],i=Jv(r,4),s=i[1],a=i[2],l=i[3],c=Dy.parse(s??""),u=Dy.parse(l??""),h=a==="*"?c.multiply(u):c.divide(u);if(h.isNaN())return Tu;e=e.replace(p5,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=g5.exec(e))!==null&&d!==void 0?d:[],m=Jv(f,4),g=m[1],v=m[2],y=m[3],x=Dy.parse(g??""),b=Dy.parse(y??""),w=v==="+"?x.add(b):x.subtract(b);if(w.isNaN())return Tu;e=e.replace(g5,w.toString())}return e}var y5=/\(([^()]*)\)/;function NNe(t){for(var e=t;e.includes("(");){var n=y5.exec(e),r=Jv(n,2),i=r[1];e=e.replace(y5,RU(i))}return e}function jNe(t){var e=t.replace(/\s+/g,"");return e=NNe(e),e=RU(e),e}function ENe(t){try{return jNe(t)}catch{return Tu}}function P_(t){var e=ENe(t.slice(5,-1));return e===Tu?"":e}var CNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ANe=["dx","dy","angle","className","breakAll"];function xj(){return xj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xj.apply(this,arguments)}function v5(t,e){if(t==null)return{};var n=TNe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x5(t,e){return ONe(t)||INe(t,e)||PNe(t,e)||kNe()}function kNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PNe(t,e){if(t){if(typeof t=="string")return b5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b5(t,e)}}function b5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function INe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function ONe(t){if(Array.isArray(t))return t}var MU=/[ \f\n\r\t\v\u2028\u2029]+/,DU=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Ge(n)||(r?s=n.toString().split(""):s=n.toString().split(MU));var a=s.map(function(c){return{word:c,width:ym(c,i).width}}),l=r?0:ym("",i).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},RNe=function(e,n,r,i,s){var a=e.maxLines,l=e.children,c=e.style,u=e.breakAll,h=ge(a),d=l,f=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(H,M){var F=M.word,U=M.width,X=H[H.length-1];if(X&&(i==null||s||X.width+U+r<Number(i)))X.words.push(F),X.width+=U+r;else{var z={words:[F],width:U};H.push(z)}return H},[])},m=f(n),g=function(W){return W.reduce(function(H,M){return H.width>M.width?H:M})};if(!h)return m;for(var v="",y=function(W){var H=d.slice(0,W),M=DU({breakAll:u,style:c,children:H+v}).wordsWithComputedWidth,F=f(M),U=F.length>a||g(F).width>Number(i);return[U,F]},x=0,b=d.length-1,w=0,N;x<=b&&w<=d.length-1;){var S=Math.floor((x+b)/2),P=S-1,j=y(P),_=x5(j,2),k=_[0],E=_[1],A=y(S),I=x5(A,1),R=I[0];if(!k&&!R&&(x=S+1),k&&R&&(b=S-1),!k&&R){N=E;break}w++}return N||m},w5=function(e){var n=Ge(e)?[]:e.toString().split(MU);return[{words:n}]},MNe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,l=e.maxLines;if((n||r)&&!Ii.isSsr){var c,u,h=DU({breakAll:a,children:i,style:s});if(h){var d=h.wordsWithComputedWidth,f=h.spaceWidth;c=d,u=f}else return w5(i);return RNe({breakAll:a,children:i,maxLines:l,style:s},c,u,n,r)}return w5(i)},_5="#808080",Ic=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,l=a===void 0?"1em":a,c=e.capHeight,u=c===void 0?"0.71em":c,h=e.scaleToFit,d=h===void 0?!1:h,f=e.textAnchor,m=f===void 0?"start":f,g=e.verticalAnchor,v=g===void 0?"end":g,y=e.fill,x=y===void 0?_5:y,b=v5(e,CNe),w=C.useMemo(function(){return MNe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),N=b.dx,S=b.dy,P=b.angle,j=b.className,_=b.breakAll,k=v5(b,ANe);if(!An(r)||!An(s))return null;var E=r+(ge(N)?N:0),A=s+(ge(S)?S:0),I;switch(v){case"start":I=P_("calc(".concat(u,")"));break;case"middle":I=P_("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=P_("calc(".concat(w.length-1," * -").concat(l,")"));break}var R=[];if(d){var $=w[0].width,W=b.width;R.push("scale(".concat((ge(W)?W/$:1)/$,")"))}return P&&R.push("rotate(".concat(P,", ").concat(E,", ").concat(A,")")),R.length&&(k.transform=R.join(" ")),D.createElement("text",xj({},Me(k,!0),{x:E,y:A,className:He("recharts-text",j),textAnchor:m,fill:x.includes("url")?_5:x}),w.map(function(H,M){var F=H.words.join(_?"":" ");return D.createElement("tspan",{x:E,dy:M===0?I:l,key:"".concat(F,"-").concat(M)},F)}))};function tl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DNe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZA(t){let e,n,r;t.length!==2?(e=tl,n=(l,c)=>tl(t(l),c),r=(l,c)=>t(l)-c):(e=t===tl||t===DNe?t:$Ne,n=t,r=t);function i(l,c,u=0,h=l.length){if(u<h){if(e(c,c)!==0)return h;do{const d=u+h>>>1;n(l[d],c)<0?u=d+1:h=d}while(u<h)}return u}function s(l,c,u=0,h=l.length){if(u<h){if(e(c,c)!==0)return h;do{const d=u+h>>>1;n(l[d],c)<=0?u=d+1:h=d}while(u<h)}return u}function a(l,c,u=0,h=l.length){const d=i(l,c,u,h-1);return d>u&&r(l[d-1],c)>-r(l[d],c)?d-1:d}return{left:i,center:a,right:s}}function $Ne(){return 0}function $U(t){return t===null?NaN:+t}function*LNe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const FNe=ZA(tl),Eg=FNe.right;ZA($U).center;class S5 extends Map{constructor(e,n=UNe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(N5(this,e))}has(e){return super.has(N5(this,e))}set(e,n){return super.set(VNe(this,e),n)}delete(e){return super.delete(BNe(this,e))}}function N5({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function VNe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function BNe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function UNe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zNe(t=tl){if(t===tl)return LU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function LU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const WNe=Math.sqrt(50),HNe=Math.sqrt(10),GNe=Math.sqrt(2);function Zv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=WNe?10:s>=HNe?5:s>=GNe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?Zv(t,e,n*2):[l,c,u]}function bj(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Zv(e,t,n):Zv(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function wj(t,e,n){return e=+e,t=+t,n=+n,Zv(t,e,n)[2]}function _j(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?wj(e,t,n):wj(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function j5(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function E5(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function FU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?LU:zNe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,h=Math.log(c),d=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*d*(c-d)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(e-u*d/c+f)),g=Math.min(r,Math.floor(e+(c-u)*d/c+f));FU(t,e,m,g,i)}const s=t[e];let a=n,l=r;for(Ef(t,n,e),i(t[r],s)>0&&Ef(t,n,r);a<l;){for(Ef(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Ef(t,n,l):(++l,Ef(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Ef(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function qNe(t,e,n){if(t=Float64Array.from(LNe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return E5(t);if(e>=1)return j5(t);var r,i=(r-1)*e,s=Math.floor(i),a=j5(FU(t,s).subarray(0,s+1)),l=E5(t.subarray(s+1));return a+(l-a)*(i-s)}}function KNe(t,e,n=$U){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function YNe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ja(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Sj=Symbol("implicit");function eT(){var t=new S5,e=[],n=[],r=Sj;function i(s){let a=t.get(s);if(a===void 0){if(r!==Sj)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new S5;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return eT(e,n).unknown(r)},Vi.apply(i,arguments),i}function gp(){var t=eT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,u=0,h=.5;delete t.unknown;function d(){var f=e().length,m=i<r,g=m?i:r,v=m?r:i;s=(v-g)/Math.max(1,f-c+u*2),l&&(s=Math.floor(s)),g+=(v-g-s*(f-c))*h,a=s*(1-c),l&&(g=Math.round(g),a=Math.round(a));var y=YNe(f).map(function(x){return g+s*x});return n(m?y.reverse():y)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,l=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(l=!!f,d()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),d()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),d()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},t.align=function(f){return arguments.length?(h=Math.max(0,Math.min(1,f)),d()):h},t.copy=function(){return gp(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(h)},Vi.apply(d(),arguments)}function VU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return VU(e())},t}function vm(){return VU(gp.apply(null,arguments).paddingInner(1))}function tT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function BU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Cg(){}var yp=.7,ex=1/yp,Qu="\\s*([+-]?\\d+)\\s*",vp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QNe=/^#([0-9a-f]{3,8})$/,XNe=new RegExp(`^rgb\\(${Qu},${Qu},${Qu}\\)$`),JNe=new RegExp(`^rgb\\(${Fs},${Fs},${Fs}\\)$`),ZNe=new RegExp(`^rgba\\(${Qu},${Qu},${Qu},${vp}\\)$`),eje=new RegExp(`^rgba\\(${Fs},${Fs},${Fs},${vp}\\)$`),tje=new RegExp(`^hsl\\(${vp},${Fs},${Fs}\\)$`),nje=new RegExp(`^hsla\\(${vp},${Fs},${Fs},${vp}\\)$`),C5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tT(Cg,xp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:A5,formatHex:A5,formatHex8:rje,formatHsl:ije,formatRgb:T5,toString:T5});function A5(){return this.rgb().formatHex()}function rje(){return this.rgb().formatHex8()}function ije(){return UU(this).formatHsl()}function T5(){return this.rgb().formatRgb()}function xp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=QNe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?k5(e):n===3?new zr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$y(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$y(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=XNe.exec(t))?new zr(e[1],e[2],e[3],1):(e=JNe.exec(t))?new zr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ZNe.exec(t))?$y(e[1],e[2],e[3],e[4]):(e=eje.exec(t))?$y(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tje.exec(t))?O5(e[1],e[2]/100,e[3]/100,1):(e=nje.exec(t))?O5(e[1],e[2]/100,e[3]/100,e[4]):C5.hasOwnProperty(t)?k5(C5[t]):t==="transparent"?new zr(NaN,NaN,NaN,0):null}function k5(t){return new zr(t>>16&255,t>>8&255,t&255,1)}function $y(t,e,n,r){return r<=0&&(t=e=n=NaN),new zr(t,e,n,r)}function sje(t){return t instanceof Cg||(t=xp(t)),t?(t=t.rgb(),new zr(t.r,t.g,t.b,t.opacity)):new zr}function Nj(t,e,n,r){return arguments.length===1?sje(t):new zr(t,e,n,r??1)}function zr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}tT(zr,Nj,BU(Cg,{brighter(t){return t=t==null?ex:Math.pow(ex,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yp:Math.pow(yp,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new zr(dc(this.r),dc(this.g),dc(this.b),tx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:P5,formatHex:P5,formatHex8:aje,formatRgb:I5,toString:I5}));function P5(){return`#${ec(this.r)}${ec(this.g)}${ec(this.b)}`}function aje(){return`#${ec(this.r)}${ec(this.g)}${ec(this.b)}${ec((isNaN(this.opacity)?1:this.opacity)*255)}`}function I5(){const t=tx(this.opacity);return`${t===1?"rgb(":"rgba("}${dc(this.r)}, ${dc(this.g)}, ${dc(this.b)}${t===1?")":`, ${t})`}`}function tx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function dc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ec(t){return t=dc(t),(t<16?"0":"")+t.toString(16)}function O5(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ns(t,e,n,r)}function UU(t){if(t instanceof ns)return new ns(t.h,t.s,t.l,t.opacity);if(t instanceof Cg||(t=xp(t)),!t)return new ns;if(t instanceof ns)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new ns(a,l,c,t.opacity)}function oje(t,e,n,r){return arguments.length===1?UU(t):new ns(t,e,n,r??1)}function ns(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}tT(ns,oje,BU(Cg,{brighter(t){return t=t==null?ex:Math.pow(ex,t),new ns(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yp:Math.pow(yp,t),new ns(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new zr(I_(t>=240?t-240:t+120,i,r),I_(t,i,r),I_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ns(R5(this.h),Ly(this.s),Ly(this.l),tx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tx(this.opacity);return`${t===1?"hsl(":"hsla("}${R5(this.h)}, ${Ly(this.s)*100}%, ${Ly(this.l)*100}%${t===1?")":`, ${t})`}`}}));function R5(t){return t=(t||0)%360,t<0?t+360:t}function Ly(t){return Math.max(0,Math.min(1,t||0))}function I_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const nT=t=>()=>t;function lje(t,e){return function(n){return t+n*e}}function cje(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uje(t){return(t=+t)==1?zU:function(e,n){return n-e?cje(e,n,t):nT(isNaN(e)?n:e)}}function zU(t,e){var n=e-t;return n?lje(t,n):nT(isNaN(t)?e:t)}const M5=function t(e){var n=uje(e);function r(i,s){var a=n((i=Nj(i)).r,(s=Nj(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=zU(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=c(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function dje(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function hje(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fje(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Bh(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function mje(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function nx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pje(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Bh(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var jj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O_=new RegExp(jj.source,"g");function gje(t){return function(){return t}}function yje(t){return function(e){return t(e)+""}}function vje(t,e){var n=jj.lastIndex=O_.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=jj.exec(t))&&(i=O_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:nx(r,i)})),n=O_.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?yje(c[0].x):gje(e):(e=c.length,function(u){for(var h=0,d;h<e;++h)l[(d=c[h]).i]=d.x(u);return l.join("")})}function Bh(t,e){var n=typeof e,r;return e==null||n==="boolean"?nT(e):(n==="number"?nx:n==="string"?(r=xp(e))?(e=r,M5):vje:e instanceof xp?M5:e instanceof Date?mje:hje(e)?dje:Array.isArray(e)?fje:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pje:nx)(t,e)}function rT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function xje(t,e){e===void 0&&(e=t,t=Bh);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function bje(t){return function(){return t}}function rx(t){return+t}var D5=[0,1];function Tr(t){return t}function Ej(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bje(isNaN(e)?NaN:.5)}function wje(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _je(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=Ej(i,r),s=n(a,s)):(r=Ej(r,i),s=n(s,a)),function(l){return s(r(l))}}function Sje(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ej(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=Eg(t,l,1,r)-1;return s[c](i[c](l))}}function Ag(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tw(){var t=D5,e=D5,n=Bh,r,i,s,a=Tr,l,c,u;function h(){var f=Math.min(t.length,e.length);return a!==Tr&&(a=wje(t[0],t[f-1])),l=f>2?Sje:_je,c=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(c||(c=l(t.map(r),e,n)))(r(a(f)))}return d.invert=function(f){return a(i((u||(u=l(e,t.map(r),nx)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,rx),h()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),h()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=rT,h()},d.clamp=function(f){return arguments.length?(a=f?!0:Tr,h()):a!==Tr},d.interpolate=function(f){return arguments.length?(n=f,h()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,m){return r=f,i=m,h()}}function iT(){return Tw()(Tr,Tr)}function Nje(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ix(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function zd(t){return t=ix(Math.abs(t)),t?t[1]:NaN}function jje(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Eje(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Cje=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bp(t){if(!(e=Cje.exec(t)))throw new Error("invalid format: "+t);var e;return new sT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bp.prototype=sT.prototype;function sT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}sT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Aje(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var WU;function Tje(t,e){var n=ix(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(WU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ix(t,Math.max(0,e+s-1))[0]}function $5(t,e){var n=ix(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const L5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nje,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$5(t*100,e),r:$5,s:Tje,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function F5(t){return t}var V5=Array.prototype.map,B5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kje(t){var e=t.grouping===void 0||t.thousands===void 0?F5:jje(V5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?F5:Eje(V5.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(d){d=bp(d);var f=d.fill,m=d.align,g=d.sign,v=d.symbol,y=d.zero,x=d.width,b=d.comma,w=d.precision,N=d.trim,S=d.type;S==="n"?(b=!0,S="g"):L5[S]||(w===void 0&&(w=12),N=!0,S="g"),(y||f==="0"&&m==="=")&&(y=!0,f="0",m="=");var P=v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=v==="$"?r:/[%p]/.test(S)?a:"",_=L5[S],k=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(A){var I=P,R=j,$,W,H;if(S==="c")R=_(A)+R,A="";else{A=+A;var M=A<0||1/A<0;if(A=isNaN(A)?c:_(Math.abs(A),w),N&&(A=Aje(A)),M&&+A==0&&g!=="+"&&(M=!1),I=(M?g==="("?g:l:g==="-"||g==="("?"":g)+I,R=(S==="s"?B5[8+WU/3]:"")+R+(M&&g==="("?")":""),k){for($=-1,W=A.length;++$<W;)if(H=A.charCodeAt($),48>H||H>57){R=(H===46?i+A.slice($+1):A.slice($))+R,A=A.slice(0,$);break}}}b&&!y&&(A=e(A,1/0));var F=I.length+A.length+R.length,U=F<x?new Array(x-F+1).join(f):"";switch(b&&y&&(A=e(U+A,U.length?x-R.length:1/0),U=""),m){case"<":A=I+A+R+U;break;case"=":A=I+U+A+R;break;case"^":A=U.slice(0,F=U.length>>1)+I+A+R+U.slice(F);break;default:A=U+I+A+R;break}return s(A)}return E.toString=function(){return d+""},E}function h(d,f){var m=u((d=bp(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(zd(f)/3)))*3,v=Math.pow(10,-g),y=B5[8+g/3];return function(x){return m(v*x)+y}}return{format:u,formatPrefix:h}}var Fy,aT,HU;Pje({thousands:",",grouping:[3],currency:["$",""]});function Pje(t){return Fy=kje(t),aT=Fy.format,HU=Fy.formatPrefix,Fy}function Ije(t){return Math.max(0,-zd(Math.abs(t)))}function Oje(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zd(e)/3)))*3-zd(Math.abs(t)))}function Rje(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zd(e)-zd(t))+1}function GU(t,e,n,r){var i=_j(t,e,n),s;switch(r=bp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Oje(i,a))&&(r.precision=s),HU(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Rje(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Ije(i))&&(r.precision=s-(r.type==="%")*2);break}}return aT(r)}function El(t){var e=t.domain;return t.ticks=function(n){var r=e();return bj(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return GU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,u,h=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);h-- >0;){if(u=wj(a,l,n),u===c)return r[i]=a,r[s]=l,e(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function sx(){var t=iT();return t.copy=function(){return Ag(t,sx())},Vi.apply(t,arguments),El(t)}function qU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,rx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return qU(t).unknown(e)},t=arguments.length?Array.from(t,rx):[0,1],El(n)}function KU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function U5(t){return Math.log(t)}function z5(t){return Math.exp(t)}function Mje(t){return-Math.log(-t)}function Dje(t){return-Math.exp(-t)}function $je(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Lje(t){return t===10?$je:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Fje(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function W5(t){return(e,n)=>-t(-e,n)}function oT(t){const e=t(U5,z5),n=e.domain;let r=10,i,s;function a(){return i=Fje(r),s=Lje(r),n()[0]<0?(i=W5(i),s=W5(s),t(Mje,Dje)):t(U5,z5),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let u=c[0],h=c[c.length-1];const d=h<u;d&&([u,h]=[h,u]);let f=i(u),m=i(h),g,v;const y=l==null?10:+l;let x=[];if(!(r%1)&&m-f<y){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(g=1;g<r;++g)if(v=f<0?g/s(-f):g*s(f),!(v<u)){if(v>h)break;x.push(v)}}else for(;f<=m;++f)for(g=r-1;g>=1;--g)if(v=f>0?g/s(-f):g*s(f),!(v<u)){if(v>h)break;x.push(v)}x.length*2<y&&(x=bj(u,h,y))}else x=bj(f,m,Math.min(m-f,y)).map(s);return d?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=bp(c)).precision==null&&(c.trim=!0),c=aT(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return h=>{let d=h/s(Math.round(i(h)));return d*r<r-.5&&(d*=r),d<=u?c(h):""}},e.nice=()=>n(KU(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function YU(){const t=oT(Tw()).domain([1,10]);return t.copy=()=>Ag(t,YU()).base(t.base()),Vi.apply(t,arguments),t}function H5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function G5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function lT(t){var e=1,n=t(H5(e),G5(e));return n.constant=function(r){return arguments.length?t(H5(e=+r),G5(e)):e},El(n)}function QU(){var t=lT(Tw());return t.copy=function(){return Ag(t,QU()).constant(t.constant())},Vi.apply(t,arguments)}function q5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vje(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Bje(t){return t<0?-t*t:t*t}function cT(t){var e=t(Tr,Tr),n=1;function r(){return n===1?t(Tr,Tr):n===.5?t(Vje,Bje):t(q5(n),q5(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},El(e)}function uT(){var t=cT(Tw());return t.copy=function(){return Ag(t,uT()).exponent(t.exponent())},Vi.apply(t,arguments),t}function Uje(){return uT.apply(null,arguments).exponent(.5)}function K5(t){return Math.sign(t)*t*t}function zje(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function XU(){var t=iT(),e=[0,1],n=!1,r;function i(s){var a=zje(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(K5(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,rx)).map(K5)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return XU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Vi.apply(i,arguments),El(i)}function JU(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=KNe(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Eg(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(tl),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return JU().domain(t).range(e).unknown(r)},Vi.apply(s,arguments)}function ZU(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Eg(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return ZU().domain([t,e]).range(i).unknown(s)},Vi.apply(El(a),arguments)}function ez(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Eg(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return ez().domain(t).range(e).unknown(n)},Vi.apply(i,arguments)}const R_=new Date,M_=new Date;function On(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<a);return c},i.filter=s=>On(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(R_.setTime(+s),M_.setTime(+a),t(R_),t(M_),Math.floor(n(R_,M_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const ax=On(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ax.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?On(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ax);ax.range;const ya=1e3,ki=ya*60,va=ki*60,Fa=va*24,dT=Fa*7,Y5=Fa*30,D_=Fa*365,tc=On(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ya)},(t,e)=>(e-t)/ya,t=>t.getUTCSeconds());tc.range;const hT=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ya)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getMinutes());hT.range;const fT=On(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getUTCMinutes());fT.range;const mT=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ya-t.getMinutes()*ki)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getHours());mT.range;const pT=On(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getUTCHours());pT.range;const Tg=On(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ki)/Fa,t=>t.getDate()-1);Tg.range;const kw=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fa,t=>t.getUTCDate()-1);kw.range;const tz=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fa,t=>Math.floor(t/Fa));tz.range;function Kc(t){return On(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ki)/dT)}const Pw=Kc(0),ox=Kc(1),Wje=Kc(2),Hje=Kc(3),Wd=Kc(4),Gje=Kc(5),qje=Kc(6);Pw.range;ox.range;Wje.range;Hje.range;Wd.range;Gje.range;qje.range;function Yc(t){return On(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dT)}const Iw=Yc(0),lx=Yc(1),Kje=Yc(2),Yje=Yc(3),Hd=Yc(4),Qje=Yc(5),Xje=Yc(6);Iw.range;lx.range;Kje.range;Yje.range;Hd.range;Qje.range;Xje.range;const gT=On(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());gT.range;const yT=On(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());yT.range;const Va=On(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Va.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Va.range;const Ba=On(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ba.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ba.range;function nz(t,e,n,r,i,s){const a=[[tc,1,ya],[tc,5,5*ya],[tc,15,15*ya],[tc,30,30*ya],[s,1,ki],[s,5,5*ki],[s,15,15*ki],[s,30,30*ki],[i,1,va],[i,3,3*va],[i,6,6*va],[i,12,12*va],[r,1,Fa],[r,2,2*Fa],[n,1,dT],[e,1,Y5],[e,3,3*Y5],[t,1,D_]];function l(u,h,d){const f=h<u;f&&([u,h]=[h,u]);const m=d&&typeof d.range=="function"?d:c(u,h,d),g=m?m.range(u,+h+1):[];return f?g.reverse():g}function c(u,h,d){const f=Math.abs(h-u)/d,m=ZA(([,,y])=>y).right(a,f);if(m===a.length)return t.every(_j(u/D_,h/D_,d));if(m===0)return ax.every(Math.max(_j(u,h,d),1));const[g,v]=a[f/a[m-1][2]<a[m][2]/f?m-1:m];return g.every(v)}return[l,c]}const[Jje,Zje]=nz(Ba,yT,Iw,tz,pT,fT),[eEe,tEe]=nz(Va,gT,Pw,Tg,mT,hT);function $_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function L_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function nEe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,u=Af(i),h=Tf(i),d=Af(s),f=Tf(s),m=Af(a),g=Tf(a),v=Af(l),y=Tf(l),x=Af(c),b=Tf(c),w={a:M,A:F,b:U,B:X,c:null,d:tM,e:tM,f:jEe,g:MEe,G:$Ee,H:_Ee,I:SEe,j:NEe,L:rz,m:EEe,M:CEe,p:z,q:G,Q:iM,s:sM,S:AEe,u:TEe,U:kEe,V:PEe,w:IEe,W:OEe,x:null,X:null,y:REe,Y:DEe,Z:LEe,"%":rM},N={a:q,A:ae,b:ye,B:ie,c:null,d:nM,e:nM,f:UEe,g:JEe,G:e2e,H:FEe,I:VEe,j:BEe,L:sz,m:zEe,M:WEe,p:B,q:Q,Q:iM,s:sM,S:HEe,u:GEe,U:qEe,V:KEe,w:YEe,W:QEe,x:null,X:null,y:XEe,Y:ZEe,Z:t2e,"%":rM},S={a:E,A,b:I,B:R,c:$,d:Z5,e:Z5,f:vEe,g:J5,G:X5,H:eM,I:eM,j:mEe,L:yEe,m:fEe,M:pEe,p:k,q:hEe,Q:bEe,s:wEe,S:gEe,u:oEe,U:lEe,V:cEe,w:aEe,W:uEe,x:W,X:H,y:J5,Y:X5,Z:dEe,"%":xEe};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),N.x=P(n,N),N.X=P(r,N),N.c=P(e,N);function P(Z,ue){return function(pe){var V=[],le=-1,we=0,Ae=Z.length,tt,Xt,me;for(pe instanceof Date||(pe=new Date(+pe));++le<Ae;)Z.charCodeAt(le)===37&&(V.push(Z.slice(we,le)),(Xt=Q5[tt=Z.charAt(++le)])!=null?tt=Z.charAt(++le):Xt=tt==="e"?" ":"0",(me=ue[tt])&&(tt=me(pe,Xt)),V.push(tt),we=le+1);return V.push(Z.slice(we,le)),V.join("")}}function j(Z,ue){return function(pe){var V=Cf(1900,void 0,1),le=_(V,Z,pe+="",0),we,Ae;if(le!=pe.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(ue&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(we=L_(Cf(V.y,0,1)),Ae=we.getUTCDay(),we=Ae>4||Ae===0?lx.ceil(we):lx(we),we=kw.offset(we,(V.V-1)*7),V.y=we.getUTCFullYear(),V.m=we.getUTCMonth(),V.d=we.getUTCDate()+(V.w+6)%7):(we=$_(Cf(V.y,0,1)),Ae=we.getDay(),we=Ae>4||Ae===0?ox.ceil(we):ox(we),we=Tg.offset(we,(V.V-1)*7),V.y=we.getFullYear(),V.m=we.getMonth(),V.d=we.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),Ae="Z"in V?L_(Cf(V.y,0,1)).getUTCDay():$_(Cf(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(Ae+5)%7:V.w+V.U*7-(Ae+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,L_(V)):$_(V)}}function _(Z,ue,pe,V){for(var le=0,we=ue.length,Ae=pe.length,tt,Xt;le<we;){if(V>=Ae)return-1;if(tt=ue.charCodeAt(le++),tt===37){if(tt=ue.charAt(le++),Xt=S[tt in Q5?ue.charAt(le++):tt],!Xt||(V=Xt(Z,pe,V))<0)return-1}else if(tt!=pe.charCodeAt(V++))return-1}return V}function k(Z,ue,pe){var V=u.exec(ue.slice(pe));return V?(Z.p=h.get(V[0].toLowerCase()),pe+V[0].length):-1}function E(Z,ue,pe){var V=m.exec(ue.slice(pe));return V?(Z.w=g.get(V[0].toLowerCase()),pe+V[0].length):-1}function A(Z,ue,pe){var V=d.exec(ue.slice(pe));return V?(Z.w=f.get(V[0].toLowerCase()),pe+V[0].length):-1}function I(Z,ue,pe){var V=x.exec(ue.slice(pe));return V?(Z.m=b.get(V[0].toLowerCase()),pe+V[0].length):-1}function R(Z,ue,pe){var V=v.exec(ue.slice(pe));return V?(Z.m=y.get(V[0].toLowerCase()),pe+V[0].length):-1}function $(Z,ue,pe){return _(Z,e,ue,pe)}function W(Z,ue,pe){return _(Z,n,ue,pe)}function H(Z,ue,pe){return _(Z,r,ue,pe)}function M(Z){return a[Z.getDay()]}function F(Z){return s[Z.getDay()]}function U(Z){return c[Z.getMonth()]}function X(Z){return l[Z.getMonth()]}function z(Z){return i[+(Z.getHours()>=12)]}function G(Z){return 1+~~(Z.getMonth()/3)}function q(Z){return a[Z.getUTCDay()]}function ae(Z){return s[Z.getUTCDay()]}function ye(Z){return c[Z.getUTCMonth()]}function ie(Z){return l[Z.getUTCMonth()]}function B(Z){return i[+(Z.getUTCHours()>=12)]}function Q(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ue=P(Z+="",w);return ue.toString=function(){return Z},ue},parse:function(Z){var ue=j(Z+="",!1);return ue.toString=function(){return Z},ue},utcFormat:function(Z){var ue=P(Z+="",N);return ue.toString=function(){return Z},ue},utcParse:function(Z){var ue=j(Z+="",!0);return ue.toString=function(){return Z},ue}}}var Q5={"-":"",_:" ",0:"0"},Bn=/^\s*\d+/,rEe=/^%/,iEe=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function sEe(t){return t.replace(iEe,"\\$&")}function Af(t){return new RegExp("^(?:"+t.map(sEe).join("|")+")","i")}function Tf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function aEe(t,e,n){var r=Bn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function oEe(t,e,n){var r=Bn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lEe(t,e,n){var r=Bn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cEe(t,e,n){var r=Bn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uEe(t,e,n){var r=Bn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function X5(t,e,n){var r=Bn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function J5(t,e,n){var r=Bn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dEe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hEe(t,e,n){var r=Bn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fEe(t,e,n){var r=Bn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Z5(t,e,n){var r=Bn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mEe(t,e,n){var r=Bn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function eM(t,e,n){var r=Bn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pEe(t,e,n){var r=Bn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gEe(t,e,n){var r=Bn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yEe(t,e,n){var r=Bn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vEe(t,e,n){var r=Bn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xEe(t,e,n){var r=rEe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bEe(t,e,n){var r=Bn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wEe(t,e,n){var r=Bn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function tM(t,e){return yt(t.getDate(),e,2)}function _Ee(t,e){return yt(t.getHours(),e,2)}function SEe(t,e){return yt(t.getHours()%12||12,e,2)}function NEe(t,e){return yt(1+Tg.count(Va(t),t),e,3)}function rz(t,e){return yt(t.getMilliseconds(),e,3)}function jEe(t,e){return rz(t,e)+"000"}function EEe(t,e){return yt(t.getMonth()+1,e,2)}function CEe(t,e){return yt(t.getMinutes(),e,2)}function AEe(t,e){return yt(t.getSeconds(),e,2)}function TEe(t){var e=t.getDay();return e===0?7:e}function kEe(t,e){return yt(Pw.count(Va(t)-1,t),e,2)}function iz(t){var e=t.getDay();return e>=4||e===0?Wd(t):Wd.ceil(t)}function PEe(t,e){return t=iz(t),yt(Wd.count(Va(t),t)+(Va(t).getDay()===4),e,2)}function IEe(t){return t.getDay()}function OEe(t,e){return yt(ox.count(Va(t)-1,t),e,2)}function REe(t,e){return yt(t.getFullYear()%100,e,2)}function MEe(t,e){return t=iz(t),yt(t.getFullYear()%100,e,2)}function DEe(t,e){return yt(t.getFullYear()%1e4,e,4)}function $Ee(t,e){var n=t.getDay();return t=n>=4||n===0?Wd(t):Wd.ceil(t),yt(t.getFullYear()%1e4,e,4)}function LEe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function nM(t,e){return yt(t.getUTCDate(),e,2)}function FEe(t,e){return yt(t.getUTCHours(),e,2)}function VEe(t,e){return yt(t.getUTCHours()%12||12,e,2)}function BEe(t,e){return yt(1+kw.count(Ba(t),t),e,3)}function sz(t,e){return yt(t.getUTCMilliseconds(),e,3)}function UEe(t,e){return sz(t,e)+"000"}function zEe(t,e){return yt(t.getUTCMonth()+1,e,2)}function WEe(t,e){return yt(t.getUTCMinutes(),e,2)}function HEe(t,e){return yt(t.getUTCSeconds(),e,2)}function GEe(t){var e=t.getUTCDay();return e===0?7:e}function qEe(t,e){return yt(Iw.count(Ba(t)-1,t),e,2)}function az(t){var e=t.getUTCDay();return e>=4||e===0?Hd(t):Hd.ceil(t)}function KEe(t,e){return t=az(t),yt(Hd.count(Ba(t),t)+(Ba(t).getUTCDay()===4),e,2)}function YEe(t){return t.getUTCDay()}function QEe(t,e){return yt(lx.count(Ba(t)-1,t),e,2)}function XEe(t,e){return yt(t.getUTCFullYear()%100,e,2)}function JEe(t,e){return t=az(t),yt(t.getUTCFullYear()%100,e,2)}function ZEe(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function e2e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hd(t):Hd.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function t2e(){return"+0000"}function rM(){return"%"}function iM(t){return+t}function sM(t){return Math.floor(+t/1e3)}var ou,oz,lz;n2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function n2e(t){return ou=nEe(t),oz=ou.format,ou.parse,lz=ou.utcFormat,ou.utcParse,ou}function r2e(t){return new Date(t)}function i2e(t){return t instanceof Date?+t:+new Date(+t)}function vT(t,e,n,r,i,s,a,l,c,u){var h=iT(),d=h.invert,f=h.domain,m=u(".%L"),g=u(":%S"),v=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),N=u("%Y");function S(P){return(c(P)<P?m:l(P)<P?g:a(P)<P?v:s(P)<P?y:r(P)<P?i(P)<P?x:b:n(P)<P?w:N)(P)}return h.invert=function(P){return new Date(d(P))},h.domain=function(P){return arguments.length?f(Array.from(P,i2e)):f().map(r2e)},h.ticks=function(P){var j=f();return t(j[0],j[j.length-1],P??10)},h.tickFormat=function(P,j){return j==null?S:u(j)},h.nice=function(P){var j=f();return(!P||typeof P.range!="function")&&(P=e(j[0],j[j.length-1],P??10)),P?f(KU(j,P)):h},h.copy=function(){return Ag(h,vT(t,e,n,r,i,s,a,l,c,u))},h}function s2e(){return Vi.apply(vT(eEe,tEe,Va,gT,Pw,Tg,mT,hT,tc,oz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function a2e(){return Vi.apply(vT(Jje,Zje,Ba,yT,Iw,kw,pT,fT,tc,lz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ow(){var t=0,e=1,n,r,i,s,a=Tr,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:a(i===0?.5:(d=(s(d)-n)*i,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(a=d,u):a};function h(d){return function(f){var m,g;return arguments.length?([m,g]=f,a=d(m,g),u):[a(0),a(1)]}}return u.range=h(Bh),u.rangeRound=h(rT),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Cl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function cz(){var t=El(Ow()(Tr));return t.copy=function(){return Cl(t,cz())},Ja.apply(t,arguments)}function uz(){var t=oT(Ow()).domain([1,10]);return t.copy=function(){return Cl(t,uz()).base(t.base())},Ja.apply(t,arguments)}function dz(){var t=lT(Ow());return t.copy=function(){return Cl(t,dz()).constant(t.constant())},Ja.apply(t,arguments)}function xT(){var t=cT(Ow());return t.copy=function(){return Cl(t,xT()).exponent(t.exponent())},Ja.apply(t,arguments)}function o2e(){return xT.apply(null,arguments).exponent(.5)}function hz(){var t=[],e=Tr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Eg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>qNe(t,s/r))},n.copy=function(){return hz(e).domain(t)},Ja.apply(n,arguments)}function Rw(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,u=Tr,h,d=!1,f;function m(v){return isNaN(v=+v)?f:(v=.5+((v=+h(v))-s)*(r*v<r*s?l:c),u(d?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,n]=v,i=h(t=+t),s=h(e=+e),a=h(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(v){return arguments.length?(d=!!v,m):d},m.interpolator=function(v){return arguments.length?(u=v,m):u};function g(v){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=xje(v,[x,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(Bh),m.rangeRound=g(rT),m.unknown=function(v){return arguments.length?(f=v,m):f},function(v){return h=v,i=v(t),s=v(e),a=v(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,m}}function fz(){var t=El(Rw()(Tr));return t.copy=function(){return Cl(t,fz())},Ja.apply(t,arguments)}function mz(){var t=oT(Rw()).domain([.1,1,10]);return t.copy=function(){return Cl(t,mz()).base(t.base())},Ja.apply(t,arguments)}function pz(){var t=lT(Rw());return t.copy=function(){return Cl(t,pz()).constant(t.constant())},Ja.apply(t,arguments)}function bT(){var t=cT(Rw());return t.copy=function(){return Cl(t,bT()).exponent(t.exponent())},Ja.apply(t,arguments)}function l2e(){return bT.apply(null,arguments).exponent(.5)}const aM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gp,scaleDiverging:fz,scaleDivergingLog:mz,scaleDivergingPow:bT,scaleDivergingSqrt:l2e,scaleDivergingSymlog:pz,scaleIdentity:qU,scaleImplicit:Sj,scaleLinear:sx,scaleLog:YU,scaleOrdinal:eT,scalePoint:vm,scalePow:uT,scaleQuantile:JU,scaleQuantize:ZU,scaleRadial:XU,scaleSequential:cz,scaleSequentialLog:uz,scaleSequentialPow:xT,scaleSequentialQuantile:hz,scaleSequentialSqrt:o2e,scaleSequentialSymlog:dz,scaleSqrt:Uje,scaleSymlog:QU,scaleThreshold:ez,scaleTime:s2e,scaleUtc:a2e,tickFormat:GU},Symbol.toStringTag,{value:"Module"}));var c2e=Ih;function u2e(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(l===void 0?a===a&&!c2e(a):n(a,l)))var l=a,c=s}return c}var Mw=u2e;function d2e(t,e){return t>e}var gz=d2e,h2e=Mw,f2e=gz,m2e=Vh;function p2e(t){return t&&t.length?h2e(t,m2e,f2e):void 0}var g2e=p2e;const Ro=bt(g2e);function y2e(t,e){return t<e}var yz=y2e,v2e=Mw,x2e=yz,b2e=Vh;function w2e(t){return t&&t.length?v2e(t,b2e,x2e):void 0}var _2e=w2e;const Dw=bt(_2e);var S2e=RA,N2e=Xs,j2e=jU,E2e=ei;function C2e(t,e){var n=E2e(t)?S2e:j2e;return n(t,N2e(e))}var A2e=C2e,T2e=SU,k2e=A2e;function P2e(t,e){return T2e(k2e(t,e),1)}var I2e=P2e;const O2e=bt(I2e);var R2e=YA;function M2e(t,e){return R2e(t,e)}var D2e=M2e;const gl=bt(D2e);var Uh=1e9,$2e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_T,Qt=!0,$i="[DecimalError] ",hc=$i+"Invalid argument: ",wT=$i+"Exponent out of range: ",zh=Math.floor,zl=Math.pow,L2e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ci,Dn=1e7,Ut=7,vz=9007199254740991,cx=zh(vz/Ut),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(t){return ja(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,n=e.constructor;return It(ja(e,new n(t),0,1),n.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return bn(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ci))throw Error($i+"NaN");if(n.s<1)throw Error($i+(n.s?"NaN":"-Infinity"));return n.eq(ci)?new r(0):(Qt=!1,e=ja(wp(n,s),wp(t,s),s),Qt=!0,It(e,i))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wz(e,t):xz(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error($i+"NaN");return n.s?(Qt=!1,e=ja(n,t,0,1).times(t),Qt=!0,n.minus(e)):It(new r(n),i)};Ie.naturalExponential=Ie.exp=function(){return bz(this)};Ie.naturalLogarithm=Ie.ln=function(){return wp(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xz(e,t):wz(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(hc+t);if(e=bn(i)+1,r=i.d.length-1,n=r*Ut+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ie.squareRoot=Ie.sqrt=function(){var t,e,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error($i+"NaN")}for(t=bn(l),Qt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ps(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(ja(l,s,a+2)).times(.5),Ps(s.d).slice(0,a)===(e=Ps(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(It(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return Qt=!0,It(r,n)};Ie.times=Ie.mul=function(t){var e,n,r,i,s,a,l,c,u,h=this,d=h.constructor,f=h.d,m=(t=new d(t)).d;if(!h.s||!t.s)return new d(0);for(t.s*=h.s,n=h.e+t.e,c=f.length,u=m.length,c<u&&(s=f,f=m,m=s,a=c,c=u,u=a),s=[],a=c+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+m[r]*f[i-r-1]+e,s[i--]=l%Dn|0,e=l/Dn|0;s[i]=(s[i]+e)%Dn|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Qt?It(t,d.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(qs(t,0,Uh),e===void 0?e=r.rounding:qs(e,0,8),It(n,t+bn(n)+1,e))};Ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Oc(r,!0):(qs(t,0,Uh),e===void 0?e=i.rounding:qs(e,0,8),r=It(new i(r),t+1,e),n=Oc(r,!0,t+1)),n};Ie.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Oc(i):(qs(t,0,Uh),e===void 0?e=s.rounding:qs(e,0,8),r=It(new s(i),t+bn(i)+1,e),n=Oc(r.abs(),!1,t+bn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return It(new e(t),bn(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,n,r,i,s,a,l=this,c=l.constructor,u=12,h=+(t=new c(t));if(!t.s)return new c(ci);if(l=new c(l),!l.s){if(t.s<1)throw Error($i+"Infinity");return l}if(l.eq(ci))return l;if(r=c.precision,t.eq(ci))return It(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=h<0?-h:h)<=vz){for(i=new c(ci),e=Math.ceil(r/Ut+4),Qt=!1;n%2&&(i=i.times(l),lM(i.d,e)),n=zh(n/2),n!==0;)l=l.times(l),lM(l.d,e);return Qt=!0,t.s<0?new c(ci).div(i):It(i,r)}}else if(s<0)throw Error($i+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Qt=!1,i=t.times(wp(l,r+u)),Qt=!0,i=bz(i),i.s=s,i};Ie.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=bn(i),r=Oc(i,n<=s.toExpNeg||n>=s.toExpPos)):(qs(t,1,Uh),e===void 0?e=s.rounding:qs(e,0,8),i=It(new s(i),t,e),n=bn(i),r=Oc(i,t<=n||n<=s.toExpNeg,t)),r};Ie.toSignificantDigits=Ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(qs(t,1,Uh),e===void 0?e=r.rounding:qs(e,0,8)),It(new r(n),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=bn(t),n=t.constructor;return Oc(t,e<=n.toExpNeg||e>=n.toExpPos)};function xz(t,e){var n,r,i,s,a,l,c,u,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Qt?It(e,d):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=a,l=c.length),a=Math.ceil(d/Ut),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/Dn|0,c[s]%=Dn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Qt?It(e,d):e}function qs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(hc+t)}function Ps(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Ut-r.length,n&&(s+=vo(n)),s+=r;a=t[e],r=a+"",n=Ut-r.length,n&&(s+=vo(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var ja=function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%Dn|0,a=s/Dn|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Dn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,u,h,d,f,m,g,v,y,x,b,w,N,S,P,j,_,k=r.constructor,E=r.s==i.s?1:-1,A=r.d,I=i.d;if(!r.s)return new k(r);if(!i.s)throw Error($i+"Division by zero");for(c=r.e-i.e,j=I.length,S=A.length,m=new k(E),g=m.d=[],u=0;I[u]==(A[u]||0);)++u;if(I[u]>(A[u]||0)&&--c,s==null?b=s=k.precision:a?b=s+(bn(r)-bn(i))+1:b=s,b<0)return new k(0);if(b=b/Ut+2|0,u=0,j==1)for(h=0,I=I[0],b++;(u<S||h)&&b--;u++)w=h*Dn+(A[u]||0),g[u]=w/I|0,h=w%I|0;else{for(h=Dn/(I[0]+1)|0,h>1&&(I=t(I,h),A=t(A,h),j=I.length,S=A.length),N=j,v=A.slice(0,j),y=v.length;y<j;)v[y++]=0;_=I.slice(),_.unshift(0),P=I[0],I[1]>=Dn/2&&++P;do h=0,l=e(I,v,j,y),l<0?(x=v[0],j!=y&&(x=x*Dn+(v[1]||0)),h=x/P|0,h>1?(h>=Dn&&(h=Dn-1),d=t(I,h),f=d.length,y=v.length,l=e(d,v,f,y),l==1&&(h--,n(d,j<f?_:I,f))):(h==0&&(l=h=1),d=I.slice()),f=d.length,f<y&&d.unshift(0),n(v,d,y),l==-1&&(y=v.length,l=e(I,v,j,y),l<1&&(h++,n(v,j<y?_:I,y))),y=v.length):l===0&&(h++,v=[0]),g[u++]=h,l&&v[0]?v[y++]=A[N]||0:(v=[A[N]],y=1);while((N++<S||v[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=c,It(m,a?s+bn(m)+1:s)}}();function bz(t,e){var n,r,i,s,a,l,c=0,u=0,h=t.constructor,d=h.precision;if(bn(t)>16)throw Error(wT+bn(t));if(!t.s)return new h(ci);for(e==null?(Qt=!1,l=d):l=e,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(zl(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new h(ci),h.precision=l;;){if(i=It(i.times(t),l),n=n.times(++c),a=s.plus(ja(i,n,l)),Ps(a.d).slice(0,l)===Ps(s.d).slice(0,l)){for(;u--;)s=It(s.times(s),l);return h.precision=d,e==null?(Qt=!0,It(s,d)):s}s=a}}function bn(t){for(var e=t.e*Ut,n=t.d[0];n>=10;n/=10)e++;return e}function F_(t,e,n){if(e>t.LN10.sd())throw Qt=!0,n&&(t.precision=n),Error($i+"LN10 precision limit exceeded");return It(new t(t.LN10),e)}function vo(t){for(var e="";t--;)e+="0";return e}function wp(t,e){var n,r,i,s,a,l,c,u,h,d=1,f=10,m=t,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error($i+(m.s?"NaN":"-Infinity"));if(m.eq(ci))return new v(0);if(e==null?(Qt=!1,u=y):u=e,m.eq(10))return e==null&&(Qt=!0),F_(v,u);if(u+=f,v.precision=u,n=Ps(g),r=n.charAt(0),s=bn(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Ps(m.d),r=n.charAt(0),d++;s=bn(m),r>1?(m=new v("0."+n),s++):m=new v(r+"."+n.slice(1))}else return c=F_(v,u+2,y).times(s+""),m=wp(new v(r+"."+n.slice(1)),u-f).plus(c),v.precision=y,e==null?(Qt=!0,It(m,y)):m;for(l=a=m=ja(m.minus(ci),m.plus(ci),u),h=It(m.times(m),u),i=3;;){if(a=It(a.times(h),u),c=l.plus(ja(a,new v(i),u)),Ps(c.d).slice(0,u)===Ps(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(F_(v,u+2,y).times(s+""))),l=ja(l,new v(d),u),v.precision=y,e==null?(Qt=!0,It(l,y)):l;l=c,i+=2}}function oM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=zh(n/Ut),t.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ut;r<i;)t.d.push(+e.slice(r,r+=Ut));e=e.slice(r),r=Ut-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Qt&&(t.e>cx||t.e<-cx))throw Error(wT+n)}else t.s=0,t.e=0,t.d=[0];return t}function It(t,e,n){var r,i,s,a,l,c,u,h,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Ut,i=e,u=d[h=0];else{if(h=Math.ceil((r+1)/Ut),s=d.length,h>=s)return t;for(u=s=d[h],a=1;s>=10;s/=10)a++;r%=Ut,i=r-Ut+a}if(n!==void 0&&(s=zl(10,a-i-1),l=u/s%10|0,c=e<0||d[h+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/zl(10,a-i):0:d[h-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return c?(s=bn(t),d.length=1,e=e-s-1,d[0]=zl(10,(Ut-e%Ut)%Ut),t.e=zh(-e/Ut)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=h,s=1,h--):(d.length=h+1,s=zl(10,Ut-r),d[h]=i>0?(u/zl(10,a-i)%zl(10,i)|0)*s:0),c)for(;;)if(h==0){(d[0]+=s)==Dn&&(d[0]=1,++t.e);break}else{if(d[h]+=s,d[h]!=Dn)break;d[h--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(Qt&&(t.e>cx||t.e<-cx))throw Error(wT+bn(t));return t}function wz(t,e){var n,r,i,s,a,l,c,u,h,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Qt?It(e,m):e;if(c=t.d,d=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r,a){for(h=a<0,h?(n=c,a=-a,l=d.length):(n=d,r=u,l=c.length),i=Math.max(Math.ceil(m/Ut),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=d.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){h=c[i]<d[i];break}a=0}for(h&&(n=c,c=d,d=n,e.s=-e.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>a;){if(c[--i]<d[i]){for(s=i;s&&c[--s]===0;)c[s]=Dn-1;--c[s],c[i]+=Dn}c[i]-=d[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Qt?It(e,m):e):new f(0)}function Oc(t,e,n){var r,i=bn(t),s=Ps(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+vo(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+vo(-i-1)+s,n&&(r=n-a)>0&&(s+=vo(r))):i>=a?(s+=vo(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+vo(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=vo(r))),t.s<0?"-"+s:s}function lM(t,e){if(t.length>e)return t.length=e,!0}function _z(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(hc+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return oM(a,s.toString())}else if(typeof s!="string")throw Error(hc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,L2e.test(s))oM(a,s);else throw Error(hc+s)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_z,i.config=i.set=F2e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function F2e(t){if(!t||typeof t!="object")throw Error($i+"Object expected");var e,n,r,i=["precision",1,Uh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(zh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(hc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hc+n+": "+r);return this}var _T=_z($2e);ci=new _T(1);const Tt=_T;function V2e(t){return W2e(t)||z2e(t)||U2e(t)||B2e()}function B2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U2e(t,e){if(t){if(typeof t=="string")return Cj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cj(t,e)}}function z2e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function W2e(t){if(Array.isArray(t))return Cj(t)}function Cj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var H2e=function(e){return e},Sz={"@@functional/placeholder":!0},Nz=function(e){return e===Sz},cM=function(e){return function n(){return arguments.length===0||arguments.length===1&&Nz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},G2e=function t(e,n){return e===1?n:cM(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(l){return l!==Sz}).length;return a>=e?n.apply(void 0,i):t(e-a,cM(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var h=i.map(function(d){return Nz(d)?c.shift():d});return n.apply(void 0,V2e(h).concat(c))}))})},$w=function(e){return G2e(e.length,e)},Aj=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},q2e=$w(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),K2e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return H2e;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Tj=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jz=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function Y2e(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function Q2e(t,e,n){for(var r=new Tt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var X2e=$w(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),J2e=$w(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Z2e=$w(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Lw={rangeStep:Q2e,getDigitCount:Y2e,interpolateNumber:X2e,uninterpolateNumber:J2e,uninterpolateTruncation:Z2e};function kj(t){return nCe(t)||tCe(t)||Ez(t)||eCe()}function eCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tCe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nCe(t){if(Array.isArray(t))return Pj(t)}function _p(t,e){return sCe(t)||iCe(t,e)||Ez(t,e)||rCe()}function rCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ez(t,e){if(t){if(typeof t=="string")return Pj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pj(t,e)}}function Pj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iCe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function sCe(t){if(Array.isArray(t))return t}function Cz(t){var e=_p(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function Az(t,e,n){if(t.lte(0))return new Tt(0);var r=Lw.getDigitCount(t.toNumber()),i=new Tt(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new Tt(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?c:new Tt(Math.ceil(c))}function aCe(t,e,n){var r=1,i=new Tt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Tt(10).pow(Lw.getDigitCount(t)-1),i=new Tt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Tt(Math.floor(t)))}else t===0?i=new Tt(Math.floor((e-1)/2)):n||(i=new Tt(Math.floor(t)));var a=Math.floor((e-1)/2),l=K2e(q2e(function(c){return i.add(new Tt(c-a).mul(r)).toNumber()}),Aj);return l(0,e)}function Tz(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var s=Az(new Tt(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Tt(0):(a=new Tt(t).add(e).div(2),a=a.sub(new Tt(a).mod(s)));var l=Math.ceil(a.sub(t).div(s).toNumber()),c=Math.ceil(new Tt(e).sub(a).div(s).toNumber()),u=l+c+1;return u>n?Tz(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:s,tickMin:a.sub(new Tt(l).mul(s)),tickMax:a.add(new Tt(c).mul(s))})}function oCe(t){var e=_p(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),l=Cz([n,r]),c=_p(l,2),u=c[0],h=c[1];if(u===-1/0||h===1/0){var d=h===1/0?[u].concat(kj(Aj(0,i-1).map(function(){return 1/0}))):[].concat(kj(Aj(0,i-1).map(function(){return-1/0})),[h]);return n>r?Tj(d):d}if(u===h)return aCe(u,i,s);var f=Tz(u,h,a,s),m=f.step,g=f.tickMin,v=f.tickMax,y=Lw.rangeStep(g,v.add(new Tt(.1).mul(m)),m);return n>r?Tj(y):y}function lCe(t,e){var n=_p(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Cz([r,i]),l=_p(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var h=Math.max(e,2),d=Az(new Tt(u).sub(c).div(h-1),s,0),f=[].concat(kj(Lw.rangeStep(new Tt(c),new Tt(u).sub(new Tt(.99).mul(d)),d)),[u]);return r>i?Tj(f):f}var cCe=jz(oCe),uCe=jz(lCe),dCe="Invariant failed";function Rc(t,e){throw new Error(dCe)}var hCe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ux.apply(this,arguments)}function fCe(t,e){return yCe(t)||gCe(t,e)||pCe(t,e)||mCe()}function mCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pCe(t,e){if(t){if(typeof t=="string")return uM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uM(t,e)}}function uM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function yCe(t){if(Array.isArray(t))return t}function vCe(t,e){if(t==null)return{};var n=xCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Iz(r.key),r)}}function _Ce(t,e,n){return e&&wCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SCe(t,e,n){return e=dx(e),NCe(t,kz()?Reflect.construct(e,n||[],dx(t).constructor):e.apply(t,n))}function NCe(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jCe(t)}function jCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!t})()}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(t)}function ECe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ij(t,e)}function Ij(t,e){return Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ij(t,e)}function Pz(t,e,n){return e=Iz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iz(t){var e=CCe(t,"string");return Gd(e)=="symbol"?e:e+""}function CCe(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kg=function(t){function e(){return bCe(this,e),SCe(this,e,arguments)}return ECe(e,t),_Ce(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,h=r.xAxis,d=r.yAxis,f=vCe(r,hCe),m=Me(f,!1);this.props.direction==="x"&&h.type!=="number"&&Rc();var g=c.map(function(v){var y=u(v,l),x=y.x,b=y.y,w=y.value,N=y.errorVal;if(!N)return null;var S=[],P,j;if(Array.isArray(N)){var _=fCe(N,2);P=_[0],j=_[1]}else P=j=N;if(s==="vertical"){var k=h.scale,E=b+i,A=E+a,I=E-a,R=k(w-P),$=k(w+j);S.push({x1:$,y1:A,x2:$,y2:I}),S.push({x1:R,y1:E,x2:$,y2:E}),S.push({x1:R,y1:A,x2:R,y2:I})}else if(s==="horizontal"){var W=d.scale,H=x+i,M=H-a,F=H+a,U=W(w-P),X=W(w+j);S.push({x1:M,y1:X,x2:F,y2:X}),S.push({x1:H,y1:U,x2:H,y2:X}),S.push({x1:M,y1:U,x2:F,y2:U})}return D.createElement(et,ux({className:"recharts-errorBar",key:"bar-".concat(S.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},m),S.map(function(z){return D.createElement("line",ux({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return D.createElement(et,{className:"recharts-errorBars"},g)}}])}(D.Component);Pz(kg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Pz(kg,"displayName","ErrorBar");function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ol(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){ACe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ACe(t,e,n){return e=TCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TCe(t){var e=kCe(t,"string");return Sp(e)=="symbol"?e:e+""}function kCe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oz=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=oi(n,Yu);if(!a)return null;var l=Yu.defaultProps,c=l!==void 0?Ol(Ol({},l),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(r||[]).reduce(function(h,d){var f=d.item,m=d.props,g=m.sectors||m.data||[];return h.concat(g.map(function(v){return{type:a.props.iconType||f.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(h){var d=h.item,f=d.type.defaultProps,m=f!==void 0?Ol(Ol({},f),d.props):{},g=m.dataKey,v=m.name,y=m.legendType,x=m.hide;return{inactive:x,dataKey:g,type:c.iconType||y||"square",color:ST(d),value:v||g,payload:m}}),Ol(Ol(Ol({},c),Yu.getWithHeight(a,i)),{},{payload:u,item:a})};function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function hM(t){return RCe(t)||OCe(t)||ICe(t)||PCe()}function PCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ICe(t,e){if(t){if(typeof t=="string")return Oj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oj(t,e)}}function OCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RCe(t){if(Array.isArray(t))return Oj(t)}function Oj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){Xu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xu(t,e,n){return e=MCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MCe(t){var e=DCe(t,"string");return Np(e)=="symbol"?e:e+""}function DCe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tn(t,e,n){return Ge(t)||Ge(e)?n:An(e)?pi(t,e,n):Ve(e)?e(t):n}function xm(t,e,n,r){var i=O2e(t,function(l){return tn(l,e)});if(n==="number"){var s=i.filter(function(l){return ge(l)||parseFloat(l)});return s.length?[Dw(s),Ro(s)]:[1/0,-1/0]}var a=r?i.filter(function(l){return!Ge(l)}):i;return a.map(function(l){return An(l)||l instanceof Date?l:""})}var $Ce=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var h=u>0?i[u-1].coordinate:i[l-1].coordinate,d=i[u].coordinate,f=u>=l-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Cr(d-h)!==Cr(f-d)){var g=[];if(Cr(f-d)===Cr(c[1]-c[0])){m=f;var v=d+c[1]-c[0];g[0]=Math.min(v,(v+h)/2),g[1]=Math.max(v,(v+h)/2)}else{m=h;var y=f+c[1]-c[0];g[0]=Math.min(d,(y+d)/2),g[1]=Math.max(d,(y+d)/2)}var x=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var b=Math.min(h,f),w=Math.max(h,f);if(e>(b+d)/2&&e<=(w+d)/2){a=i[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<l-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===l-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){a=r[N].index;break}return a},ST=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?cn(cn({},e.type.defaultProps),e.props):e.props,a=s.stroke,l=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},LCe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var h=s[l[c]].stackGroups,d=Object.keys(h),f=0,m=d.length;f<m;f++){var g=h[d[f]],v=g.items,y=g.cateAxisId,x=v.filter(function(j){return Na(j.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?cn(cn({},b),x[0].props):x[0].props,N=w.barSize,S=w[y];a[S]||(a[S]=[]);var P=Ge(N)?n:N;a[S].push({item:x[0],stackList:x.slice(1),barSize:Ge(P)?void 0:Ar(P,r,0)})}}return a},FCe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,l=e.maxBarSize,c=a.length;if(c<1)return null;var u=Ar(n,i,0,!0),h,d=[];if(a[0].barSize===+a[0].barSize){var f=!1,m=i/c,g=a.reduce(function(N,S){return N+S.barSize||0},0);g+=(c-1)*u,g>=i&&(g-=(c-1)*u,u=0),g>=i&&m>0&&(f=!0,m*=.9,g=c*m);var v=(i-g)/2>>0,y={offset:v-u,size:0};h=a.reduce(function(N,S){var P={item:S.item,position:{offset:y.offset+y.size+u,size:f?m:S.barSize}},j=[].concat(hM(N),[P]);return y=j[j.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){j.push({item:_,position:y})}),j},d)}else{var x=Ar(r,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var b=(i-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;h=a.reduce(function(N,S,P){var j=[].concat(hM(N),[{item:S.item,position:{offset:x+(b+u)*P+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){j.push({item:_,position:j[j.length-1].position})}),j},d)}return h},VCe=function(e,n,r,i){var s=r.children,a=r.width,l=r.margin,c=a-(l.left||0)-(l.right||0),u=Oz({children:s,legendWidth:c});if(u){var h=i||{},d=h.width,f=h.height,m=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&m!=="center"&&ge(e[m]))return cn(cn({},e),{},Xu({},m,e[m]+(d||0)));if((v==="horizontal"||v==="vertical"&&m==="center")&&g!=="middle"&&ge(e[g]))return cn(cn({},e),{},Xu({},g,e[g]+(f||0)))}return e},BCe=function(e,n,r){return Ge(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Rz=function(e,n,r,i,s){var a=n.props.children,l=gi(a,kg).filter(function(u){return BCe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,h){var d=tn(h,r);if(Ge(d))return u;var f=Array.isArray(d)?[Dw(d),Ro(d)]:[d,d],m=c.reduce(function(g,v){var y=tn(h,v,0),x=f[0]-Math.abs(Array.isArray(y)?y[0]:y),b=f[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},UCe=function(e,n,r,i,s){var a=n.map(function(l){return Rz(e,l,r,s,i)}).filter(function(l){return!Ge(l)});return a&&a.length?a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Mz=function(e,n,r,i,s){var a=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&Rz(e,c,u,i)||xm(e,u,r,s)});if(r==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return a.reduce(function(c,u){for(var h=0,d=u.length;h<d;h++)l[u[h]]||(l[u[h]]=!0,c.push(u[h]));return c},[])},Dz=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},$z=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,a,l=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(a=!0),c.coordinate});return s||l.push(n),a||l.push(r),l},xa=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Cr(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(d){var f=s?s.indexOf(d):d;return{coordinate:i(f)+u,value:d,offset:u}});return h.filter(function(d){return!$h(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+u,value:d,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,f){return{coordinate:i(d)+u,value:s?s[d]:d,index:f,offset:u}})},V_=new WeakMap,Vy=function(e,n){if(typeof n!="function")return e;V_.has(e)||V_.set(e,new WeakMap);var r=V_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Lz=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,l=e.axisType;if(i==="auto")return a==="radial"&&l==="radiusAxis"?{scale:gp(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:sx(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:vm(),realScaleType:"point"}:s==="category"?{scale:gp(),realScaleType:"band"}:{scale:sx(),realScaleType:"linear"};if(Ng(i)){var c="scale".concat(ww(i));return{scale:(aM[c]||vm)(),realScaleType:aM[c]?c:"point"}}return Ve(i)?{scale:i}:{scale:vm(),realScaleType:"point"}},mM=1e-4,Fz=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-mM,a=Math.max(i[0],i[1])+mM,l=e(n[0]),c=e(n[r-1]);(l<s||l>a||c<s||c>a)&&e.domain([n[0],n[r-1]])}},zCe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},WCe=function(e,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ge(e[0])||e[0]<r)&&(s[0]=r),(!ge(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},HCe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,l=0;l<n;++l){var c=$h(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1])}},GCe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var l=$h(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},qCe={sign:HCe,expand:hye,none:Ld,silhouette:fye,wiggle:mye,positive:GCe},KCe=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=qCe[r],a=dye().keys(i).value(function(l,c){return+tn(l,c,0)}).order(ij).offset(s);return a(e)},YCe=function(e,n,r,i,s,a){if(!e)return null;var l=a?n.reverse():n,c={},u=l.reduce(function(d,f){var m,g=(m=f.type)!==null&&m!==void 0&&m.defaultProps?cn(cn({},f.type.defaultProps),f.props):f.props,v=g.stackId,y=g.hide;if(y)return d;var x=g[r],b=d[x]||{hasStack:!1,stackGroups:{}};if(An(v)){var w=b.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[v]=w}else b.stackGroups[qc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return cn(cn({},d),{},Xu({},x,b))},c),h={};return Object.keys(u).reduce(function(d,f){var m=u[f];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(v,y){var x=m.stackGroups[y];return cn(cn({},v),{},Xu({},y,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:KCe(e,x.items,s)}))},g)}return cn(cn({},d),{},Xu({},f,m))},h)},Vz=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var h=cCe(u,s,l);return e.domain([Dw(h),Ro(h)]),{niceTicks:h}}if(s&&i==="number"){var d=e.domain(),f=uCe(d,s,l);return{niceTicks:f}}return null};function hx(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ge(i[e.dataKey])){var l=Lv(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=tn(i,Ge(a)?e.dataKey:a);return Ge(c)?null:e.scale(c)}var pM=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=tn(a,n.dataKey,n.domain[l]);return Ge(c)?null:n.scale(c)-s/2+i},QCe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},XCe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?cn(cn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(An(s)){var a=n[s];if(a){var l=a.items.indexOf(e);return l>=0?a.stackedData[l]:null}}return null},JCe=function(e){return e.reduce(function(n,r){return[Dw(r.concat([n[0]]).filter(ge)),Ro(r.concat([n[1]]).filter(ge))]},[1/0,-1/0])},Bz=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],l=a.stackedData,c=l.reduce(function(u,h){var d=JCe(h.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},gM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rj=function(e,n,r){if(Ve(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ge(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(gM.test(e[0])){var s=+gM.exec(e[0])[1];i[0]=n[0]-s}else Ve(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ge(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(yM.test(e[1])){var a=+yM.exec(e[1])[1];i[1]=n[1]+a}else Ve(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},fx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=XA(n,function(d){return d.coordinate}),a=1/0,l=1,c=s.length;l<c;l++){var u=s[l],h=s[l-1];a=Math.min((u.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},vM=function(e,n,r){return!e||!e.length||gl(e,pi(r,"type.defaultProps.domain"))?n:e},Uz=function(e,n){var r=e.type.defaultProps?cn(cn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,h=r.hide;return cn(cn({},Me(e,!1)),{},{dataKey:i,unit:a,formatter:l,name:s||i,color:ST(e),value:tn(n,i),type:c,payload:n,chartType:u,hide:h})};function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){zz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zz(t,e,n){return e=ZCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZCe(t){var e=eAe(t,"string");return jp(e)=="symbol"?e:e+""}function eAe(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tAe(t,e){return sAe(t)||iAe(t,e)||rAe(t,e)||nAe()}function nAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rAe(t,e){if(t){if(typeof t=="string")return bM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bM(t,e)}}function bM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function sAe(t){if(Array.isArray(t))return t}var mx=Math.PI/180,aAe=function(e){return e*180/Math.PI},xt=function(e,n,r,i){return{x:e+Math.cos(-mx*i)*r,y:n+Math.sin(-mx*i)*r}},Wz=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Hz=function(e,n,r,i,s){var a=e.width,l=e.height,c=e.startAngle,u=e.endAngle,h=Ar(e.cx,a,a/2),d=Ar(e.cy,l,l/2),f=Wz(a,l,r),m=Ar(e.innerRadius,f,0),g=Ar(e.outerRadius,f,f*.8),v=Object.keys(n);return v.reduce(function(y,x){var b=n[x],w=b.domain,N=b.reversed,S;if(Ge(b.range))i==="angleAxis"?S=[c,u]:i==="radiusAxis"&&(S=[m,g]),N&&(S=[S[1],S[0]]);else{S=b.range;var P=S,j=tAe(P,2);c=j[0],u=j[1]}var _=Lz(b,s),k=_.realScaleType,E=_.scale;E.domain(w).range(S),Fz(E);var A=Vz(E,aa(aa({},b),{},{realScaleType:k})),I=aa(aa(aa({},b),A),{},{range:S,radius:g,realScaleType:k,scale:E,cx:h,cy:d,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return aa(aa({},y),{},zz({},x,I))},{})},oAe=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},lAe=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,l=oAe({x:r,y:i},{x:s,y:a});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:l,angle:aAe(u),angleInRadian:u}},cAe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},uAe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),l=Math.min(s,a);return e+l*360},wM=function(e,n){var r=e.x,i=e.y,s=lAe({x:r,y:i},n),a=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var h=cAe(n),d=h.startAngle,f=h.endAngle,m=l,g;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}return g?aa(aa({},n),{},{radius:a,angle:uAe(m,n)}):null},Gz=function(e){return!C.isValidElement(e)&&!Ve(e)&&typeof e!="boolean"?e.className:""};function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}var dAe=["offset"];function hAe(t){return gAe(t)||pAe(t)||mAe(t)||fAe()}function fAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mAe(t,e){if(t){if(typeof t=="string")return Mj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mj(t,e)}}function pAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gAe(t){if(Array.isArray(t))return Mj(t)}function Mj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yAe(t,e){if(t==null)return{};var n=vAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){xAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xAe(t,e,n){return e=bAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bAe(t){var e=wAe(t,"string");return Ep(e)=="symbol"?e:e+""}function wAe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cp.apply(this,arguments)}var _Ae=function(e){var n=e.value,r=e.formatter,i=Ge(e.children)?n:e.children;return Ve(r)?r(i):i},SAe=function(e,n){var r=Cr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},NAe=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,l=e.className,c=s,u=c.cx,h=c.cy,d=c.innerRadius,f=c.outerRadius,m=c.startAngle,g=c.endAngle,v=c.clockWise,y=(d+f)/2,x=SAe(m,g),b=x>=0?1:-1,w,N;i==="insideStart"?(w=m+b*a,N=v):i==="insideEnd"?(w=g-b*a,N=!v):i==="end"&&(w=g+b*a,N=v),N=x<=0?N:!N;var S=xt(u,h,y,w),P=xt(u,h,y,w+(N?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),_=Ge(e.id)?qc("recharts-radial-line-"):e.id;return D.createElement("text",Cp({},r,{dominantBaseline:"central",className:He("recharts-radial-bar-label",l)}),D.createElement("defs",null,D.createElement("path",{id:_,d:j})),D.createElement("textPath",{xlinkHref:"#".concat(_)},n))},jAe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,h=s.startAngle,d=s.endAngle,f=(h+d)/2;if(i==="outside"){var m=xt(a,l,u+r,f),g=m.x,v=m.y;return{x:g,y:v,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=xt(a,l,y,f),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},EAe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,l=a.x,c=a.y,u=a.width,h=a.height,d=h>=0?1:-1,f=d*i,m=d>0?"end":"start",g=d>0?"start":"end",v=u>=0?1:-1,y=v*i,x=v>0?"end":"start",b=v>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-d*i,textAnchor:"middle",verticalAnchor:m};return Sn(Sn({},w),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var N={x:l+u/2,y:c+h+f,textAnchor:"middle",verticalAnchor:g};return Sn(Sn({},N),r?{height:Math.max(r.y+r.height-(c+h),0),width:u}:{})}if(s==="left"){var S={x:l-y,y:c+h/2,textAnchor:x,verticalAnchor:"middle"};return Sn(Sn({},S),r?{width:Math.max(S.x-r.x,0),height:h}:{})}if(s==="right"){var P={x:l+u+y,y:c+h/2,textAnchor:b,verticalAnchor:"middle"};return Sn(Sn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:h}:{})}var j=r?{width:u,height:h}:{};return s==="insideLeft"?Sn({x:l+y,y:c+h/2,textAnchor:b,verticalAnchor:"middle"},j):s==="insideRight"?Sn({x:l+u-y,y:c+h/2,textAnchor:x,verticalAnchor:"middle"},j):s==="insideTop"?Sn({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:g},j):s==="insideBottom"?Sn({x:l+u/2,y:c+h-f,textAnchor:"middle",verticalAnchor:m},j):s==="insideTopLeft"?Sn({x:l+y,y:c+f,textAnchor:b,verticalAnchor:g},j):s==="insideTopRight"?Sn({x:l+u-y,y:c+f,textAnchor:x,verticalAnchor:g},j):s==="insideBottomLeft"?Sn({x:l+y,y:c+h-f,textAnchor:b,verticalAnchor:m},j):s==="insideBottomRight"?Sn({x:l+u-y,y:c+h-f,textAnchor:x,verticalAnchor:m},j):Oh(s)&&(ge(s.x)||Zl(s.x))&&(ge(s.y)||Zl(s.y))?Sn({x:l+Ar(s.x,u),y:c+Ar(s.y,h),textAnchor:"end",verticalAnchor:"end"},j):Sn({x:l+u/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},j)},CAe=function(e){return"cx"in e&&ge(e.cx)};function Fn(t){var e=t.offset,n=e===void 0?5:e,r=yAe(t,dAe),i=Sn({offset:n},r),s=i.viewBox,a=i.position,l=i.value,c=i.children,u=i.content,h=i.className,d=h===void 0?"":h,f=i.textBreakAll;if(!s||Ge(l)&&Ge(c)&&!C.isValidElement(u)&&!Ve(u))return null;if(C.isValidElement(u))return C.cloneElement(u,i);var m;if(Ve(u)){if(m=C.createElement(u,i),C.isValidElement(m))return m}else m=_Ae(i);var g=CAe(s),v=Me(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return NAe(i,m,v);var y=g?jAe(i):EAe(i);return D.createElement(Ic,Cp({className:He("recharts-label",d)},v,y,{breakAll:f}),m)}Fn.displayName="Label";var qz=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,h=e.outerRadius,d=e.x,f=e.y,m=e.top,g=e.left,v=e.width,y=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(ge(v)&&ge(y)){if(ge(d)&&ge(f))return{x:d,y:f,width:v,height:y};if(ge(m)&&ge(g))return{x:m,y:g,width:v,height:y}}return ge(d)&&ge(f)?{x:d,y:f,width:0,height:0}:ge(n)&&ge(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:h||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},AAe=function(e,n){return e?e===!0?D.createElement(Fn,{key:"label-implicit",viewBox:n}):An(e)?D.createElement(Fn,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===Fn?C.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(Fn,{key:"label-implicit",content:e,viewBox:n}):Ve(e)?D.createElement(Fn,{key:"label-implicit",content:e,viewBox:n}):Oh(e)?D.createElement(Fn,Cp({viewBox:n},e,{key:"label-implicit"})):null:null},TAe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=qz(e),a=gi(i,Fn).map(function(c,u){return C.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return a;var l=AAe(e.label,n||s);return[l].concat(hAe(a))};Fn.parseViewBox=qz;Fn.renderCallByParent=TAe;function kAe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var PAe=kAe;const Kz=bt(PAe);function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}var IAe=["valueAccessor"],OAe=["data","dataKey","clockWise","id","textBreakAll"];function RAe(t){return LAe(t)||$Ae(t)||DAe(t)||MAe()}function MAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DAe(t,e){if(t){if(typeof t=="string")return Dj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dj(t,e)}}function $Ae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LAe(t){if(Array.isArray(t))return Dj(t)}function Dj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},px.apply(this,arguments)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){FAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FAe(t,e,n){return e=VAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VAe(t){var e=BAe(t,"string");return Ap(e)=="symbol"?e:e+""}function BAe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jM(t,e){if(t==null)return{};var n=UAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zAe=function(e){return Array.isArray(e.value)?Kz(e.value):e.value};function hs(t){var e=t.valueAccessor,n=e===void 0?zAe:e,r=jM(t,IAe),i=r.data,s=r.dataKey,a=r.clockWise,l=r.id,c=r.textBreakAll,u=jM(r,OAe);return!i||!i.length?null:D.createElement(et,{className:"recharts-label-list"},i.map(function(h,d){var f=Ge(s)?n(h,d):tn(h&&h.payload,s),m=Ge(l)?{}:{id:"".concat(l,"-").concat(d)};return D.createElement(Fn,px({},Me(h,!0),u,m,{parentViewBox:h.parentViewBox,value:f,textBreakAll:c,viewBox:Fn.parseViewBox(Ge(a)?h:NM(NM({},h),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}hs.displayName="LabelList";function WAe(t,e){return t?t===!0?D.createElement(hs,{key:"labelList-implicit",data:e}):D.isValidElement(t)||Ve(t)?D.createElement(hs,{key:"labelList-implicit",data:e,content:t}):Oh(t)?D.createElement(hs,px({data:e},t,{key:"labelList-implicit"})):null:null}function HAe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=gi(r,hs).map(function(a,l){return C.cloneElement(a,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=WAe(t.label,e);return[s].concat(RAe(i))}hs.renderCallByParent=HAe;function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function $j(){return $j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$j.apply(this,arguments)}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){GAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GAe(t,e,n){return e=qAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qAe(t){var e=KAe(t,"string");return Tp(e)=="symbol"?e:e+""}function KAe(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YAe=function(e,n){var r=Cr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},By=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,h=c*(l?1:-1)+i,d=Math.asin(c/h)/mx,f=u?s:s+a*d,m=xt(n,r,h,f),g=xt(n,r,i,f),v=u?s-a*d:s,y=xt(n,r,h*Math.cos(d*mx),v);return{center:m,circleTangency:g,lineTangency:y,theta:d}},Yz=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,l=e.endAngle,c=YAe(a,l),u=a+c,h=xt(n,r,s,a),d=xt(n,r,s,u),f="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=xt(n,r,i,a),g=xt(n,r,i,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},QAe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,h=e.endAngle,d=Cr(h-u),f=By({cx:n,cy:r,radius:s,angle:u,sign:d,cornerRadius:a,cornerIsExternal:c}),m=f.circleTangency,g=f.lineTangency,v=f.theta,y=By({cx:n,cy:r,radius:s,angle:h,sign:-d,cornerRadius:a,cornerIsExternal:c}),x=y.circleTangency,b=y.lineTangency,w=y.theta,N=c?Math.abs(u-h):Math.abs(u-h)-v-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Yz({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:h});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=By({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),j=P.circleTangency,_=P.lineTangency,k=P.theta,E=By({cx:n,cy:r,radius:i,angle:h,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),A=E.circleTangency,I=E.lineTangency,R=E.theta,$=c?Math.abs(u-h):Math.abs(u-h)-k-R;if($<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},XAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Qz=function(e){var n=CM(CM({},XAe),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,h=n.startAngle,d=n.endAngle,f=n.className;if(a<s||h===d)return null;var m=He("recharts-sector",f),g=a-s,v=Ar(l,g,0,!0),y;return v>0&&Math.abs(h-d)<360?y=QAe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(v,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:d}):y=Yz({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:h,endAngle:d}),D.createElement("path",$j({},Me(n,!0),{className:m,d:y,role:"img"}))};function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function Lj(){return Lj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lj.apply(this,arguments)}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){JAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JAe(t,e,n){return e=ZAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZAe(t){var e=eTe(t,"string");return kp(e)=="symbol"?e:e+""}function eTe(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kM={curveBasisClosed:eye,curveBasisOpen:tye,curveBasis:Zge,curveBumpX:Fge,curveBumpY:Vge,curveLinearClosed:nye,curveLinear:Sw,curveMonotoneX:rye,curveMonotoneY:iye,curveNatural:sye,curveStep:aye,curveStepAfter:lye,curveStepBefore:oye},Uy=function(e){return e.x===+e.x&&e.y===+e.y},kf=function(e){return e.x},Pf=function(e){return e.y},tTe=function(e,n){if(Ve(e))return e;var r="curve".concat(ww(e));return(r==="curveMonotone"||r==="curveBump")&&n?kM["".concat(r).concat(n==="vertical"?"Y":"X")]:kM[r]||Sw},nTe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,h=tTe(r,l),d=u?s.filter(function(v){return Uy(v)}):s,f;if(Array.isArray(a)){var m=u?a.filter(function(v){return Uy(v)}):a,g=d.map(function(v,y){return TM(TM({},v),{},{base:m[y]})});return l==="vertical"?f=Iy().y(Pf).x1(kf).x0(function(v){return v.base.x}):f=Iy().x(kf).y1(Pf).y0(function(v){return v.base.y}),f.defined(Uy).curve(h),f(g)}return l==="vertical"&&ge(a)?f=Iy().y(Pf).x1(kf).x0(a):ge(a)?f=Iy().x(kf).y1(Pf).y0(a):f=UB().x(kf).y(Pf),f.defined(Uy).curve(h),f(d)},fc=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?nTe(e):i;return D.createElement("path",Lj({},Me(e,!1),Fv(e),{className:He("recharts-curve",n),d:a,ref:s}))},Xz={exports:{}},rTe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iTe=rTe,sTe=iTe;function Jz(){}function Zz(){}Zz.resetWarningCache=Jz;var aTe=function(){function t(r,i,s,a,l,c){if(c!==sTe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Zz,resetWarningCache:Jz};return n.PropTypes=n,n};Xz.exports=aTe();var oTe=Xz.exports;const Je=bt(oTe);var lTe=Object.getOwnPropertyNames,cTe=Object.getOwnPropertySymbols,uTe=Object.prototype.hasOwnProperty;function PM(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function zy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),l=s.get(r);if(a&&l)return a===r&&l===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function IM(t){return lTe(t).concat(cTe(t))}var eW=Object.hasOwn||function(t,e){return uTe.call(t,e)};function Wh(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var tW="_owner",OM=Object.getOwnPropertyDescriptor,RM=Object.keys;function dTe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function hTe(t,e){return Wh(t.getTime(),e.getTime())}function MM(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),s=0,a,l;(a=i.next())&&!a.done;){for(var c=e.entries(),u=!1,h=0;(l=c.next())&&!l.done;){var d=a.value,f=d[0],m=d[1],g=l.value,v=g[0],y=g[1];!u&&!r[h]&&(u=n.equals(f,v,s,h,t,e,n)&&n.equals(m,y,f,v,t,e,n))&&(r[h]=!0),h++}if(!u)return!1;s++}return!0}function fTe(t,e,n){var r=RM(t),i=r.length;if(RM(e).length!==i)return!1;for(var s;i-- >0;)if(s=r[i],s===tW&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!eW(e,s)||!n.equals(t[s],e[s],s,s,t,e,n))return!1;return!0}function If(t,e,n){var r=IM(t),i=r.length;if(IM(e).length!==i)return!1;for(var s,a,l;i-- >0;)if(s=r[i],s===tW&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!eW(e,s)||!n.equals(t[s],e[s],s,s,t,e,n)||(a=OM(t,s),l=OM(e,s),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function mTe(t,e){return Wh(t.valueOf(),e.valueOf())}function pTe(t,e){return t.source===e.source&&t.flags===e.flags}function DM(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),s,a;(s=i.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(a=l.next())&&!a.done;)!c&&!r[u]&&(c=n.equals(s.value,a.value,s.value,a.value,t,e,n))&&(r[u]=!0),u++;if(!c)return!1}return!0}function gTe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var yTe="[object Arguments]",vTe="[object Boolean]",xTe="[object Date]",bTe="[object Map]",wTe="[object Number]",_Te="[object Object]",STe="[object RegExp]",NTe="[object Set]",jTe="[object String]",ETe=Array.isArray,$M=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,LM=Object.assign,CTe=Object.prototype.toString.call.bind(Object.prototype.toString);function ATe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,s=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(h,d,f){if(h===d)return!0;if(h==null||d==null||typeof h!="object"||typeof d!="object")return h!==h&&d!==d;var m=h.constructor;if(m!==d.constructor)return!1;if(m===Object)return i(h,d,f);if(ETe(h))return e(h,d,f);if($M!=null&&$M(h))return c(h,d,f);if(m===Date)return n(h,d,f);if(m===RegExp)return a(h,d,f);if(m===Map)return r(h,d,f);if(m===Set)return l(h,d,f);var g=CTe(h);return g===xTe?n(h,d,f):g===STe?a(h,d,f):g===bTe?r(h,d,f):g===NTe?l(h,d,f):g===_Te?typeof h.then!="function"&&typeof d.then!="function"&&i(h,d,f):g===yTe?i(h,d,f):g===vTe||g===wTe||g===jTe?s(h,d,f):!1}}function TTe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?If:dTe,areDatesEqual:hTe,areMapsEqual:r?PM(MM,If):MM,areObjectsEqual:r?If:fTe,arePrimitiveWrappersEqual:mTe,areRegExpsEqual:pTe,areSetsEqual:r?PM(DM,If):DM,areTypedArraysEqual:r?If:gTe};if(n&&(i=LM({},i,n(i))),e){var s=zy(i.areArraysEqual),a=zy(i.areMapsEqual),l=zy(i.areObjectsEqual),c=zy(i.areSetsEqual);i=LM({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return i}function kTe(t){return function(e,n,r,i,s,a,l){return t(e,n,l)}}function PTe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var h=r(),d=h.cache,f=d===void 0?e?new WeakMap:void 0:d,m=h.meta;return n(c,u,{cache:f,equals:i,meta:m,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,a)}}var ITe=Al();Al({strict:!0});Al({circular:!0});Al({circular:!0,strict:!0});Al({createInternalComparator:function(){return Wh}});Al({strict:!0,createInternalComparator:function(){return Wh}});Al({circular:!0,createInternalComparator:function(){return Wh}});Al({circular:!0,createInternalComparator:function(){return Wh},strict:!0});function Al(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,l=TTe(t),c=ATe(l),u=r?r(c):kTe(c);return PTe({circular:n,comparator:c,createState:i,equals:u,strict:a})}function OTe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function FM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):OTe(i)};requestAnimationFrame(r)}function Fj(t){"@babel/helpers - typeof";return Fj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fj(t)}function RTe(t){return LTe(t)||$Te(t)||DTe(t)||MTe()}function MTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DTe(t,e){if(t){if(typeof t=="string")return VM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VM(t,e)}}function VM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $Te(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LTe(t){if(Array.isArray(t))return t}function FTe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,l=RTe(a),c=l[0],u=l.slice(1);if(typeof c=="number"){FM(i.bind(null,u),c);return}i(c),FM(i.bind(null,u));return}Fj(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){nW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nW(t,e,n){return e=VTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VTe(t){var e=BTe(t,"string");return Pp(e)==="symbol"?e:String(e)}function BTe(t,e){if(Pp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UTe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},zTe=function(e){return e},WTe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},bm=function(e,n){return Object.keys(n).reduce(function(r,i){return UM(UM({},r),{},nW({},i,e(i,n[i])))},{})},zM=function(e,n,r){return e.map(function(i){return"".concat(WTe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function HTe(t,e){return KTe(t)||qTe(t,e)||rW(t,e)||GTe()}function GTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function KTe(t){if(Array.isArray(t))return t}function YTe(t){return JTe(t)||XTe(t)||rW(t)||QTe()}function QTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(t,e){if(t){if(typeof t=="string")return Vj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vj(t,e)}}function XTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JTe(t){if(Array.isArray(t))return Vj(t)}function Vj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gx=1e-4,iW=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},sW=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},WM=function(e,n){return function(r){var i=iW(e,n);return sW(i,r)}},ZTe=function(e,n){return function(r){var i=iW(e,n),s=[].concat(YTe(i.map(function(a,l){return a*l}).slice(1)),[0]);return sW(s,r)}},HM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,l=1;break;case"ease":i=.25,s=.1,a=.25,l=1;break;case"ease-in":i=.42,s=0,a=1,l=1;break;case"ease-out":i=.42,s=0,a=.58,l=1;break;case"ease-in-out":i=0,s=0,a=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),h=HTe(u,4);i=h[0],s=h[1],a=h[2],l=h[3]}}}var d=WM(i,a),f=WM(s,l),m=ZTe(i,a),g=function(x){return x>1?1:x<0?0:x},v=function(x){for(var b=x>1?1:x,w=b,N=0;N<8;++N){var S=d(w)-b,P=m(w);if(Math.abs(S-b)<gx||P<gx)return f(w);w=g(w-S/P)}return f(w)};return v.isStepper=!1,v},eke=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,l=a===void 0?17:a,c=function(h,d,f){var m=-(h-d)*r,g=f*s,v=f+(m-g)*l/1e3,y=f*l/1e3+h;return Math.abs(y-d)<gx&&Math.abs(v)<gx?[d,0]:[y,v]};return c.isStepper=!0,c.dt=l,c},tke=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HM(i);case"spring":return eke();default:if(i.split("(")[0]==="cubic-bezier")return HM(i)}return typeof i=="function"?i:null};function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function GM(t){return ike(t)||rke(t)||aW(t)||nke()}function nke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ike(t){if(Array.isArray(t))return Uj(t)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Bj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bj(t,e,n){return e=ske(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ske(t){var e=ake(t,"string");return Ip(e)==="symbol"?e:String(e)}function ake(t,e){if(Ip(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ip(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oke(t,e){return uke(t)||cke(t,e)||aW(t,e)||lke()}function lke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aW(t,e){if(t){if(typeof t=="string")return Uj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uj(t,e)}}function Uj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function uke(t){if(Array.isArray(t))return t}var yx=function(e,n,r){return e+(n-e)*r},zj=function(e){var n=e.from,r=e.to;return n!==r},dke=function t(e,n,r){var i=bm(function(s,a){if(zj(a)){var l=e(a.from,a.to,a.velocity),c=oke(l,2),u=c[0],h=c[1];return zn(zn({},a),{},{from:u,velocity:h})}return a},n);return r<1?bm(function(s,a){return zj(a)?zn(zn({},a),{},{velocity:yx(a.velocity,i[s].velocity,r),from:yx(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const hke=function(t,e,n,r,i){var s=UTe(t,e),a=s.reduce(function(y,x){return zn(zn({},y),{},Bj({},x,[t[x],e[x]]))},{}),l=s.reduce(function(y,x){return zn(zn({},y),{},Bj({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,h,d=function(){return null},f=function(){return bm(function(x,b){return b.from},l)},m=function(){return!Object.values(l).filter(zj).length},g=function(x){u||(u=x);var b=x-u,w=b/n.dt;l=dke(n,l,w),i(zn(zn(zn({},t),e),f())),u=x,m()||(c=requestAnimationFrame(d))},v=function(x){h||(h=x);var b=(x-h)/r,w=bm(function(S,P){return yx.apply(void 0,GM(P).concat([n(b)]))},a);if(i(zn(zn(zn({},t),e),w)),b<1)c=requestAnimationFrame(d);else{var N=bm(function(S,P){return yx.apply(void 0,GM(P).concat([n(1)]))},a);i(zn(zn(zn({},t),e),N))}};return d=n.isStepper?g:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}var fke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mke(t,e){if(t==null)return{};var n=pke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pke(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function B_(t){return xke(t)||vke(t)||yke(t)||gke()}function gke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yke(t,e){if(t){if(typeof t=="string")return Wj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wj(t,e)}}function vke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xke(t){if(Array.isArray(t))return Wj(t)}function Wj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Gf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gf(t,e,n){return e=oW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oW(r.key),r)}}function _ke(t,e,n){return e&&wke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oW(t){var e=Ske(t,"string");return qd(e)==="symbol"?e:String(e)}function Ske(t,e){if(qd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hj(t,e)}function Hj(t,e){return Hj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hj(t,e)}function jke(t){var e=Eke();return function(){var r=vx(t),i;if(e){var s=vx(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Gj(this,i)}}function Gj(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qj(t)}function qj(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vx(t){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vx(t)}var Li=function(t){Nke(n,t);var e=jke(n);function n(r,i){var s;bke(this,n),s=e.call(this,r,i);var a=s.props,l=a.isActive,c=a.attributeName,u=a.from,h=a.to,d=a.steps,f=a.children,m=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(qj(s)),s.changeStyle=s.changeStyle.bind(qj(s)),!l||m<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:h}),Gj(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof f=="function")return s.state={style:u},Gj(s);s.state={style:c?Gf({},c,u):u}}else s.state={style:{}};return s}return _ke(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,h=s.to,d=s.from,f=this.state.style;if(l){if(!a){var m={style:c?Gf({},c,h):h};this.state&&f&&(c&&f[c]!==h||!c&&f!==h)&&this.setState(m);return}if(!(ITe(i.to,h)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?d:i.to;if(this.state&&f){var y={style:c?Gf({},c,v):v};(c&&f[c]!==v||!c&&f!==v)&&this.setState(y)}this.runAnimation(Wi(Wi({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,l=i.to,c=i.duration,u=i.easing,h=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,m=hke(a,l,tke(u),c,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([f,h,g,c,d])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,l=i.begin,c=i.onAnimationStart,u=a[0],h=u.style,d=u.duration,f=d===void 0?0:d,m=function(v,y,x){if(x===0)return v;var b=y.duration,w=y.easing,N=w===void 0?"ease":w,S=y.style,P=y.properties,j=y.onAnimationEnd,_=x>0?a[x-1]:y,k=P||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat(B_(v),[s.runJSAnimation.bind(s,{from:_.style,to:S,duration:b,easing:N}),b]);var E=zM(k,b,N),A=Wi(Wi(Wi({},_.style),S),{},{transition:E});return[].concat(B_(v),[A,b,j]).filter(zTe)};return this.manager.start([c].concat(B_(a.reduce(m,[h,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=FTe());var s=i.begin,a=i.duration,l=i.attributeName,c=i.to,u=i.easing,h=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var v=l?Gf({},l,c):c,y=zM(Object.keys(v),a,u);g.start([h,s,Wi(Wi({},v),{},{transition:y}),a,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=mke(i,fke),u=C.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!l||u===0||a<=0)return s;var d=function(m){var g=m.props,v=g.style,y=v===void 0?{}:v,x=g.className,b=C.cloneElement(m,Wi(Wi({},c),{},{style:Wi(Wi({},y),h),className:x}));return b};return u===1?d(C.Children.only(s)):D.createElement("div",null,C.Children.map(s,function(f){return d(f)}))}}]),n}(C.PureComponent);Li.displayName="Animate";Li.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Li.propTypes={from:Je.oneOfType([Je.object,Je.string]),to:Je.oneOfType([Je.object,Je.string]),attributeName:Je.string,duration:Je.number,begin:Je.number,easing:Je.oneOfType([Je.string,Je.func]),steps:Je.arrayOf(Je.shape({duration:Je.number.isRequired,style:Je.object.isRequired,easing:Je.oneOfType([Je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Je.func]),properties:Je.arrayOf("string"),onAnimationEnd:Je.func})),children:Je.oneOfType([Je.node,Je.func]),isActive:Je.bool,canBegin:Je.bool,onAnimationEnd:Je.func,shouldReAnimate:Je.bool,onAnimationStart:Je.func,onAnimationReStart:Je.func};Je.object,Je.object,Je.object,Je.element;Je.object,Je.object,Je.object,Je.oneOfType([Je.array,Je.element]),Je.any;function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xx.apply(this,arguments)}function Cke(t,e){return Pke(t)||kke(t,e)||Tke(t,e)||Ake()}function Ake(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tke(t,e){if(t){if(typeof t=="string")return YM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YM(t,e)}}function YM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Pke(t){if(Array.isArray(t))return t}function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){Ike(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ike(t,e,n){return e=Oke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oke(t){var e=Rke(t,"string");return Op(e)=="symbol"?e:e+""}function Rke(t,e){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JM=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,h;if(a>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,m=4;f<m;f++)d[f]=s[f]>a?a:s[f];h="M".concat(e,",").concat(n+l*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+c*d[0],",").concat(n)),h+="L ".concat(e+r-c*d[1],",").concat(n),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*d[1])),h+="L ".concat(e+r,",").concat(n+i-l*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-c*d[2],",").concat(n+i)),h+="L ".concat(e+c*d[3],",").concat(n+i),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*d[3])),h+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);h="M ".concat(e,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(n,`
            L `).concat(e+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*g,`
            L `).concat(e+r,",").concat(n+i-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-c*g,",").concat(n+i,`
            L `).concat(e+c*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*g," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},Mke=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),h=Math.max(s,s+l),d=Math.min(a,a+c),f=Math.max(a,a+c);return r>=u&&r<=h&&i>=d&&i<=f}return!1},Dke={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NT=function(e){var n=XM(XM({},Dke),e),r=C.useRef(),i=C.useState(-1),s=Cke(i,2),a=s[0],l=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,u=n.y,h=n.width,d=n.height,f=n.radius,m=n.className,g=n.animationEasing,v=n.animationDuration,y=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||d!==+d||h===0||d===0)return null;var w=He("recharts-rectangle",m);return b?D.createElement(Li,{canBegin:a>0,from:{width:h,height:d,x:c,y:u},to:{width:h,height:d,x:c,y:u},duration:v,animationEasing:g,isActive:b},function(N){var S=N.width,P=N.height,j=N.x,_=N.y;return D.createElement(Li,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:x,easing:g},D.createElement("path",xx({},Me(n,!0),{className:w,d:JM(j,_,S,P,f),ref:r})))}):D.createElement("path",xx({},Me(n,!0),{className:w,d:JM(c,u,h,d,f)}))},$ke=["points","className","baseLinePoints","connectNulls"];function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(this,arguments)}function Lke(t,e){if(t==null)return{};var n=Fke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZM(t){return zke(t)||Uke(t)||Bke(t)||Vke()}function Vke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bke(t,e){if(t){if(typeof t=="string")return Kj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kj(t,e)}}function Uke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zke(t){if(Array.isArray(t))return Kj(t)}function Kj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eD=function(e){return e&&e.x===+e.x&&e.y===+e.y},Wke=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){eD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),eD(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},wm=function(e,n){var r=Wke(e);n&&(r=[r.reduce(function(s,a){return[].concat(ZM(s),ZM(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,l,c){return"".concat(a).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Hke=function(e,n,r){var i=wm(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(wm(n.reverse(),r).slice(1))},lW=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=Lke(e,$ke);if(!n||!n.length)return null;var l=He("recharts-polygon",r);if(i&&i.length){var c=a.stroke&&a.stroke!=="none",u=Hke(n,i,s);return D.createElement("g",{className:l},D.createElement("path",ku({},Me(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),c?D.createElement("path",ku({},Me(a,!0),{fill:"none",d:wm(n,s)})):null,c?D.createElement("path",ku({},Me(a,!0),{fill:"none",d:wm(i,s)})):null)}var h=wm(n,s);return D.createElement("path",ku({},Me(a,!0),{fill:h.slice(-1)==="Z"?a.fill:"none",className:l,d:h}))};function Yj(){return Yj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yj.apply(this,arguments)}var Hh=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=He("recharts-dot",s);return n===+n&&r===+r&&i===+i?D.createElement("circle",Yj({},Me(e,!1),Fv(e),{className:a,cx:n,cy:r,r:i})):null};function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}var Gke=["x","y","top","left","width","height","className"];function Qj(){return Qj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qj.apply(this,arguments)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){Kke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kke(t,e,n){return e=Yke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yke(t){var e=Qke(t,"string");return Rp(e)=="symbol"?e:e+""}function Qke(t,e){if(Rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xke(t,e){if(t==null)return{};var n=Jke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zke=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},ePe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,l=a===void 0?0:a,c=e.left,u=c===void 0?0:c,h=e.width,d=h===void 0?0:h,f=e.height,m=f===void 0?0:f,g=e.className,v=Xke(e,Gke),y=qke({x:r,y:s,top:l,left:u,width:d,height:m},v);return!ge(r)||!ge(s)||!ge(d)||!ge(m)||!ge(l)||!ge(u)?null:D.createElement("path",Qj({},Me(y,!0),{className:He("recharts-cross",g),d:Zke(r,s,d,m,l,u)}))},tPe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function nPe(t,e){if(t==null)return{};var n=rPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(this,arguments)}function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){iPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iPe(t,e,n){return e=sPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sPe(t){var e=aPe(t,"string");return Mp(e)=="symbol"?e:e+""}function aPe(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oPe=function(e,n,r,i){var s="";return i.forEach(function(a,l){var c=xt(n,r,e,a);l?s+="L ".concat(c.x,",").concat(c.y):s+="M ".concat(c.x,",").concat(c.y)}),s+="Z",s},lPe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.polarAngles,l=e.radialLines;if(!a||!a.length||!l)return null;var c=Dp({stroke:"#ccc"},Me(e,!1));return D.createElement("g",{className:"recharts-polar-grid-angle"},a.map(function(u){var h=xt(n,r,i,u),d=xt(n,r,s,u);return D.createElement("line",Ua({},c,{key:"line-".concat(u),x1:h.x,y1:h.y,x2:d.x,y2:d.y}))}))},cPe=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.index,a=Dp(Dp({stroke:"#ccc"},Me(e,!1)),{},{fill:"none"});return D.createElement("circle",Ua({},a,{className:He("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(s),cx:n,cy:r,r:i}))},uPe=function(e){var n=e.radius,r=e.index,i=Dp(Dp({stroke:"#ccc"},Me(e,!1)),{},{fill:"none"});return D.createElement("path",Ua({},i,{className:He("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:oPe(n,e.cx,e.cy,e.polarAngles)}))},dPe=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:D.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,s){var a=s;return r==="circle"?D.createElement(cPe,Ua({key:a},e,{radius:i,index:s})):D.createElement(uPe,Ua({key:a},e,{radius:i,index:s}))}))},cW=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,s=i===void 0?0:i,a=e.innerRadius,l=a===void 0?0:a,c=e.outerRadius,u=c===void 0?0:c,h=e.gridType,d=h===void 0?"polygon":h,f=e.radialLines,m=f===void 0?!0:f,g=nPe(e,tPe);return u<=0?null:D.createElement("g",{className:"recharts-polar-grid"},D.createElement(lPe,Ua({cx:r,cy:s,innerRadius:l,outerRadius:u,gridType:d,radialLines:m},g)),D.createElement(dPe,Ua({cx:r,cy:s,innerRadius:l,outerRadius:u,gridType:d,radialLines:m},g)))};cW.displayName="PolarGrid";var hPe=Mw,fPe=gz,mPe=Xs;function pPe(t,e){return t&&t.length?hPe(t,mPe(e),fPe):void 0}var gPe=pPe;const yPe=bt(gPe);var vPe=Mw,xPe=Xs,bPe=yz;function wPe(t,e){return t&&t.length?vPe(t,xPe(e),bPe):void 0}var _Pe=wPe;const SPe=bt(_Pe);var NPe=["cx","cy","angle","ticks","axisLine"],jPe=["ticks","tick","angle","tickFormatter","stroke"];function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_m.apply(this,arguments)}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){Fw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iD(t,e){if(t==null)return{};var n=EPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dW(r.key),r)}}function APe(t,e,n){return e&&sD(t.prototype,e),n&&sD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TPe(t,e,n){return e=bx(e),kPe(t,uW()?Reflect.construct(e,n||[],bx(t).constructor):e.apply(t,n))}function kPe(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PPe(t)}function PPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uW=function(){return!!t})()}function bx(t){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bx(t)}function IPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xj(t,e)}function Xj(t,e){return Xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xj(t,e)}function Fw(t,e,n){return e=dW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=OPe(t,"string");return Kd(e)=="symbol"?e:e+""}function OPe(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gh=function(t){function e(){return CPe(this,e),TPe(this,e,arguments)}return IPe(e,t),APe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,l=s.cx,c=s.cy;return xt(l,c,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,l=r.ticks,c=yPe(l,function(h){return h.coordinate||0}),u=SPe(l,function(h){return h.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,l=r.ticks,c=r.axisLine,u=iD(r,NPe),h=l.reduce(function(g,v){return[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)]},[1/0,-1/0]),d=xt(i,s,h[0],a),f=xt(i,s,h[1],a),m=Rl(Rl(Rl({},Me(u,!1)),{},{fill:"none"},Me(c,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return D.createElement("line",_m({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,h=iD(i,jPe),d=this.getTickTextAnchor(),f=Me(h,!1),m=Me(a,!1),g=s.map(function(v,y){var x=r.getTickValueCoord(v),b=Rl(Rl(Rl(Rl({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},f),{},{stroke:"none",fill:u},m),{},{index:y},x),{},{payload:v});return D.createElement(et,_m({className:He("recharts-polar-radius-axis-tick",Gz(a)),key:"tick-".concat(v.coordinate)},kc(r.props,v,y)),e.renderTickItem(a,b,c?c(v.value,y):v.value))});return D.createElement(et,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:D.createElement(et,{className:He("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Fn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):Ve(r)?a=r(i):a=D.createElement(Ic,_m({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(C.PureComponent);Fw(Gh,"displayName","PolarRadiusAxis");Fw(Gh,"axisType","radiusAxis");Fw(Gh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(this,arguments)}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){Vw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fW(r.key),r)}}function MPe(t,e,n){return e&&oD(t.prototype,e),n&&oD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DPe(t,e,n){return e=wx(e),$Pe(t,hW()?Reflect.construct(e,n||[],wx(t).constructor):e.apply(t,n))}function $Pe(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LPe(t)}function LPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hW=function(){return!!t})()}function wx(t){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wx(t)}function FPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jj(t,e)}function Jj(t,e){return Jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jj(t,e)}function Vw(t,e,n){return e=fW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fW(t){var e=VPe(t,"string");return Yd(e)=="symbol"?e:e+""}function VPe(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BPe=Math.PI/180,lD=1e-5,qh=function(t){function e(){return RPe(this,e),DPe(this,e,arguments)}return FPe(e,t),MPe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,h=u||8,d=xt(s,a,l,r.coordinate),f=xt(s,a,l+(c==="inner"?-1:1)*h,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*BPe),a;return s>lD?a=i==="outer"?"start":"end":s<-lD?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,l=r.axisLine,c=r.axisLineType,u=Ml(Ml({},Me(this.props,!1)),{},{fill:"none"},Me(l,!1));if(c==="circle")return D.createElement(Hh,Wl({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:a}));var h=this.props.ticks,d=h.map(function(f){return xt(i,s,a,f.coordinate)});return D.createElement(lW,Wl({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,h=Me(this.props,!1),d=Me(a,!1),f=Ml(Ml({},h),{},{fill:"none"},Me(l,!1)),m=s.map(function(g,v){var y=r.getTickLineCoord(g),x=r.getTickTextAnchor(g),b=Ml(Ml(Ml({textAnchor:x},h),{},{stroke:"none",fill:u},d),{},{index:v,payload:g,x:y.x2,y:y.y2});return D.createElement(et,Wl({className:He("recharts-polar-angle-axis-tick",Gz(a)),key:"tick-".concat(g.coordinate)},kc(r.props,g,v)),l&&D.createElement("line",Wl({className:"recharts-polar-angle-axis-tick-line"},f,y)),a&&e.renderTickItem(a,b,c?c(g.value,v):g.value))});return D.createElement(et,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:D.createElement(et,{className:He("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):Ve(r)?a=r(i):a=D.createElement(Ic,Wl({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(C.PureComponent);Vw(qh,"displayName","PolarAngleAxis");Vw(qh,"axisType","angleAxis");Vw(qh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var UPe=hU,zPe=UPe(Object.getPrototypeOf,Object),WPe=zPe,HPe=Qa,GPe=WPe,qPe=Xa,KPe="[object Object]",YPe=Function.prototype,QPe=Object.prototype,mW=YPe.toString,XPe=QPe.hasOwnProperty,JPe=mW.call(Object);function ZPe(t){if(!qPe(t)||HPe(t)!=KPe)return!1;var e=GPe(t);if(e===null)return!0;var n=XPe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&mW.call(n)==JPe}var eIe=ZPe;const tIe=bt(eIe);var nIe=Qa,rIe=Xa,iIe="[object Boolean]";function sIe(t){return t===!0||t===!1||rIe(t)&&nIe(t)==iIe}var aIe=sIe;const oIe=bt(aIe);function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(this,arguments)}function lIe(t,e){return hIe(t)||dIe(t,e)||uIe(t,e)||cIe()}function cIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uIe(t,e){if(t){if(typeof t=="string")return cD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cD(t,e)}}function cD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function hIe(t){if(Array.isArray(t))return t}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){fIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fIe(t,e,n){return e=mIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mIe(t){var e=pIe(t,"string");return $p(e)=="symbol"?e:e+""}function pIe(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hD=function(e,n,r,i,s){var a=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-a/2,",").concat(n+s),l+="L ".concat(e+r-a/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},gIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yIe=function(e){var n=dD(dD({},gIe),e),r=C.useRef(),i=C.useState(-1),s=lIe(i,2),a=s[0],l=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,u=n.y,h=n.upperWidth,d=n.lowerWidth,f=n.height,m=n.className,g=n.animationEasing,v=n.animationDuration,y=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||d!==+d||f!==+f||h===0&&d===0||f===0)return null;var b=He("recharts-trapezoid",m);return x?D.createElement(Li,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:h,lowerWidth:d,height:f,x:c,y:u},duration:v,animationEasing:g,isActive:x},function(w){var N=w.upperWidth,S=w.lowerWidth,P=w.height,j=w.x,_=w.y;return D.createElement(Li,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:g},D.createElement("path",_x({},Me(n,!0),{className:b,d:hD(j,_,N,S,P),ref:r})))}):D.createElement("g",null,D.createElement("path",_x({},Me(n,!0),{className:b,d:hD(c,u,h,d,f)})))},vIe=["option","shapeType","propTransformer","activeClassName","isActive"];function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function xIe(t,e){if(t==null)return{};var n=bIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){wIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wIe(t,e,n){return e=_Ie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Ie(t){var e=SIe(t,"string");return Lp(e)=="symbol"?e:e+""}function SIe(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NIe(t,e){return Sx(Sx({},e),t)}function jIe(t,e){return t==="symbols"}function mD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(NT,n);case"trapezoid":return D.createElement(yIe,n);case"sector":return D.createElement(Qz,n);case"symbols":if(jIe(e))return D.createElement(zA,n);break;default:return null}}function EIe(t){return C.isValidElement(t)?t.props:t}function pW(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?NIe:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,l=t.isActive,c=xIe(t,vIe),u;if(C.isValidElement(e))u=C.cloneElement(e,Sx(Sx({},c),EIe(e)));else if(Ve(e))u=e(c);else if(tIe(e)&&!oIe(e)){var h=i(e,c);u=D.createElement(mD,{shapeType:n,elementProps:h})}else{var d=c;u=D.createElement(mD,{shapeType:n,elementProps:d})}return l?D.createElement(et,{className:a},u):u}function Bw(t,e){return e!=null&&"trapezoids"in t.props}function Uw(t,e){return e!=null&&"sectors"in t.props}function Fp(t,e){return e!=null&&"points"in t.props}function CIe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function AIe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function TIe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function kIe(t,e){var n;return Bw(t,e)?n=CIe:Uw(t,e)?n=AIe:Fp(t,e)&&(n=TIe),n}function PIe(t,e){var n;return Bw(t,e)?n="trapezoids":Uw(t,e)?n="sectors":Fp(t,e)&&(n="points"),n}function IIe(t,e){if(Bw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Uw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Fp(t,e)?e.payload:{}}function OIe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=PIe(n,e),s=IIe(n,e),a=r.filter(function(c,u){var h=gl(s,c),d=n.props[i].filter(function(g){var v=kIe(n,e);return v(g,e)}),f=n.props[i].indexOf(d[d.length-1]),m=u===f;return h&&m}),l=r.indexOf(a[a.length-1]);return l}var S0;function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pu.apply(this,arguments)}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){Ei(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yW(r.key),r)}}function MIe(t,e,n){return e&&gD(t.prototype,e),n&&gD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DIe(t,e,n){return e=Nx(e),$Ie(t,gW()?Reflect.construct(e,n||[],Nx(t).constructor):e.apply(t,n))}function $Ie(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LIe(t)}function LIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gW=function(){return!!t})()}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nx(t)}function FIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zj(t,e)}function Zj(t,e){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zj(t,e)}function Ei(t,e,n){return e=yW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yW(t){var e=VIe(t,"string");return Qd(e)=="symbol"?e:e+""}function VIe(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Za=function(t){function e(n){var r;return RIe(this,e),r=DIe(this,e,[n]),Ei(r,"pieRef",null),Ei(r,"sectorRefs",[]),Ei(r,"id",qc("recharts-pie-")),Ei(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ve(i)&&i()}),Ei(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ve(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return FIe(e,t),MIe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,h=Me(this.props,!1),d=Me(a,!1),f=Me(l,!1),m=a&&a.offsetRadius||20,g=r.map(function(v,y){var x=(v.startAngle+v.endAngle)/2,b=xt(v.cx,v.cy,v.outerRadius+m,x),w=Rt(Rt(Rt(Rt({},h),v),{},{stroke:"none"},d),{},{index:y,textAnchor:e.getTextAnchor(b.x,v.cx)},b),N=Rt(Rt(Rt(Rt({},h),v),{},{fill:"none",stroke:v.fill},f),{},{index:y,points:[xt(v.cx,v.cy,v.outerRadius,x),b]}),S=c;return Ge(c)&&Ge(u)?S="value":Ge(c)&&(S=u),D.createElement(et,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(a,w,tn(v,S)))});return D.createElement(et,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return r.map(function(u,h){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(h),f=c&&i.hasActiveIndex()?c:null,m=d?a:f,g=Rt(Rt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return D.createElement(et,Pu({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},kc(i.props,u,h),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(h)}),D.createElement(pW,Pu({option:m,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,h=i.animationId,d=this.state,f=d.prevSectors,m=d.prevIsAnimationActive;return D.createElement(Li,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var v=g.t,y=[],x=s&&s[0],b=x.startAngle;return s.forEach(function(w,N){var S=f&&f[N],P=N>0?pi(w,"paddingAngle",0):0;if(S){var j=en(S.endAngle-S.startAngle,w.endAngle-w.startAngle),_=Rt(Rt({},w),{},{startAngle:b+P,endAngle:b+j(v)+P});y.push(_),b=_.endAngle}else{var k=w.endAngle,E=w.startAngle,A=en(0,k-E),I=A(v),R=Rt(Rt({},w),{},{startAngle:b+P,endAngle:b+I+P});y.push(R),b=R.endAngle}}),D.createElement(et,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!gl(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,l=i.className,c=i.label,u=i.cx,h=i.cy,d=i.innerRadius,f=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!a||!a.length||!ge(u)||!ge(h)||!ge(d)||!ge(f))return null;var v=He("recharts-pie",l);return D.createElement(et,{tabIndex:this.props.rootTabIndex,className:v,ref:function(x){r.pieRef=x}},this.renderSectors(),c&&this.renderLabels(a),Fn.renderCallByParent(this.props,null,!1),(!m||g)&&hs.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(D.isValidElement(r))return D.cloneElement(r,i);if(Ve(r))return r(i);var a=He("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return D.createElement(fc,Pu({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(D.isValidElement(r))return D.cloneElement(r,i);var a=s;if(Ve(r)&&(a=r(i),D.isValidElement(a)))return a;var l=He("recharts-pie-label-text",typeof r!="boolean"&&!Ve(r)?r.className:"");return D.createElement(Ic,Pu({},i,{alignmentBaseline:"middle",className:l}),a)}}])}(C.PureComponent);S0=Za;Ei(Za,"displayName","Pie");Ei(Za,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ii.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ei(Za,"parseDeltaAngle",function(t,e){var n=Cr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ei(Za,"getRealPieData",function(t){var e=t.data,n=t.children,r=Me(t,!1),i=gi(n,Aw);return e&&e.length?e.map(function(s,a){return Rt(Rt(Rt({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Rt(Rt({},r),s.props)}):[]});Ei(Za,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,a=Wz(i,s),l=r+Ar(t.cx,i,i/2),c=n+Ar(t.cy,s,s/2),u=Ar(t.innerRadius,a,0),h=Ar(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:h,maxRadius:d}});Ei(Za,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Rt(Rt({},e.type.defaultProps),e.props):e.props,i=S0.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,h=r.nameKey,d=r.valueKey,f=r.tooltipType,m=Math.abs(r.minAngle),g=S0.parseCoordinateOfPie(r,n),v=S0.parseDeltaAngle(a,l),y=Math.abs(v),x=u;Ge(u)&&Ge(d)?(ds(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ge(u)&&(ds(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=d);var b=i.filter(function(_){return tn(_,x,0)!==0}).length,w=(y>=360?b:b-1)*c,N=y-b*m-w,S=i.reduce(function(_,k){var E=tn(k,x,0);return _+(ge(E)?E:0)},0),P;if(S>0){var j;P=i.map(function(_,k){var E=tn(_,x,0),A=tn(_,h,k),I=(ge(E)?E:0)/S,R;k?R=j.endAngle+Cr(v)*c*(E!==0?1:0):R=a;var $=R+Cr(v)*((E!==0?m:0)+I*N),W=(R+$)/2,H=(g.innerRadius+g.outerRadius)/2,M=[{name:A,value:E,payload:_,dataKey:x,type:f}],F=xt(g.cx,g.cy,H,W);return j=Rt(Rt(Rt({percent:I,cornerRadius:s,name:A,tooltipPayload:M,midAngle:W,middleRadius:H,tooltipPosition:F},_),g),{},{value:tn(_,x),startAngle:R,endAngle:$,payload:_,paddingAngle:Cr(v)*c}),j})}return Rt(Rt({},g),{},{sectors:P,data:i})});function BIe(t){return t&&t.length?t[0]:void 0}var UIe=BIe,zIe=UIe;const WIe=bt(zIe);var HIe=["key"];function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function GIe(t,e){if(t==null)return{};var n=qIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){ca(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xW(r.key),r)}}function YIe(t,e,n){return e&&vD(t.prototype,e),n&&vD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QIe(t,e,n){return e=Ex(e),XIe(t,vW()?Reflect.construct(e,n||[],Ex(t).constructor):e.apply(t,n))}function XIe(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JIe(t)}function JIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vW=function(){return!!t})()}function Ex(t){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(t)}function ZIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eE(t,e)}function ca(t,e,n){return e=xW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xW(t){var e=eOe(t,"string");return Xd(e)=="symbol"?e:e+""}function eOe(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pg=function(t){function e(){var n;KIe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=QIe(this,e,[].concat(i)),ca(n,"state",{isAnimationFinished:!1}),ca(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ve(a)&&a()}),ca(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ve(a)&&a()}),ca(n,"handleMouseEnter",function(a){var l=n.props.onMouseEnter;l&&l(n.props,a)}),ca(n,"handleMouseLeave",function(a){var l=n.props.onMouseLeave;l&&l(n.props,a)}),n}return ZIe(e,t),YIe(e,[{key:"renderDots",value:function(r){var i=this.props,s=i.dot,a=i.dataKey,l=Me(this.props,!1),c=Me(s,!0),u=r.map(function(h,d){var f=Sr(Sr(Sr({key:"dot-".concat(d),r:3},l),c),{},{dataKey:a,cx:h.x,cy:h.y,index:d,payload:h});return e.renderDotItem(s,f)});return D.createElement(et,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,s=i.shape,a=i.dot,l=i.isRange,c=i.baseLinePoints,u=i.connectNulls,h;return D.isValidElement(s)?h=D.cloneElement(s,Sr(Sr({},this.props),{},{points:r})):Ve(s)?h=s(Sr(Sr({},this.props),{},{points:r})):h=D.createElement(lW,jx({},Me(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:l?c:null,connectNulls:u})),D.createElement(et,{className:"recharts-radar-polygon"},h,a?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,s=i.points,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,h=i.animationId,d=this.state.prevPoints;return D.createElement(Li,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var m=f.t,g=d&&d.length/s.length,v=s.map(function(y,x){var b=d&&d[Math.floor(x*g)];if(b){var w=en(b.x,y.x),N=en(b.y,y.y);return Sr(Sr({},y),{},{x:w(m),y:N(m)})}var S=en(y.cx,y.x),P=en(y.cy,y.y);return Sr(Sr({},y),{},{x:S(m),y:P(m)})});return r.renderPolygonStatically(v)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,s=r.isAnimationActive,a=r.isRange,l=this.state.prevPoints;return s&&i&&i.length&&!a&&(!l||!gl(l,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.className,a=r.points,l=r.isAnimationActive;if(i||!a||!a.length)return null;var c=this.state.isAnimationFinished,u=He("recharts-radar",s);return D.createElement(et,{className:u},this.renderPolygon(),(!l||c)&&hs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var s;if(D.isValidElement(r))s=D.cloneElement(r,i);else if(Ve(r))s=r(i);else{var a=i.key,l=GIe(i,HIe);s=D.createElement(Hh,jx({},l,{key:a,className:He("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return s}}])}(C.PureComponent);ca(Pg,"displayName","Radar");ca(Pg,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ii.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ca(Pg,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,s=t.bandSize,a=n.cx,l=n.cy,c=!1,u=[],h=n.type!=="number"?s??0:0;r.forEach(function(f,m){var g=tn(f,n.dataKey,m),v=tn(f,i),y=n.scale(g)+h,x=Array.isArray(v)?Kz(v):v,b=Ge(x)?void 0:e.scale(x);Array.isArray(v)&&v.length>=2&&(c=!0),u.push(Sr(Sr({},xt(a,l,b,y)),{},{name:g,value:v,cx:a,cy:l,radius:b,angle:y,payload:f}))});var d=[];return c&&u.forEach(function(f){if(Array.isArray(f.value)){var m=WIe(f.value),g=Ge(m)?void 0:e.scale(m);d.push(Sr(Sr({},f),{},{radius:g},xt(a,l,g,f.angle)))}else d.push(f)}),{points:u,isRange:c,baseLinePoints:d}});var tOe=Math.ceil,nOe=Math.max;function rOe(t,e,n,r){for(var i=-1,s=nOe(tOe((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var iOe=rOe,sOe=PU,xD=1/0,aOe=17976931348623157e292;function oOe(t){if(!t)return t===0?t:0;if(t=sOe(t),t===xD||t===-xD){var e=t<0?-1:1;return e*aOe}return t===t?t:0}var bW=oOe,lOe=iOe,cOe=Cw,U_=bW;function uOe(t){return function(e,n,r){return r&&typeof r!="number"&&cOe(e,n,r)&&(n=r=void 0),e=U_(e),n===void 0?(n=e,e=0):n=U_(n),r=r===void 0?e<n?1:-1:U_(r),lOe(e,n,r,t)}}var dOe=uOe,hOe=dOe,fOe=hOe(),mOe=fOe;const Cx=bt(mOe);function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){wW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wW(t,e,n){return e=pOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pOe(t){var e=gOe(t,"string");return Vp(e)=="symbol"?e:e+""}function gOe(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yOe=["Webkit","Moz","O","ms"],vOe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=yOe.reduce(function(s,a){return wD(wD({},s),{},wW({},a+r,n))},{});return i[e]=n,i};function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(this,arguments)}function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SW(r.key),r)}}function bOe(t,e,n){return e&&SD(t.prototype,e),n&&SD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wOe(t,e,n){return e=Tx(e),_Oe(t,_W()?Reflect.construct(e,n||[],Tx(t).constructor):e.apply(t,n))}function _Oe(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SOe(t)}function SOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _W(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(t)}function NOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tE(t,e)}function tE(t,e){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tE(t,e)}function ri(t,e,n){return e=SW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SW(t){var e=jOe(t,"string");return Jd(e)=="symbol"?e:e+""}function jOe(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EOe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=vm().domain(Cx(0,c)).range([s,s+a-l]),h=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:h}},ND=function(e){return e.changedTouches&&!!e.changedTouches.length},Zd=function(t){function e(n){var r;return xOe(this,e),r=wOe(this,e,[n]),ri(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ri(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ri(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,l=i.startIndex;a==null||a({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),ri(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ri(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ri(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ri(r,"handleSlideDragStart",function(i){var s=ND(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return NOe(e,t),bOe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,h=u.length-1,d=Math.min(i,s),f=Math.max(i,s),m=e.getIndexInRange(a,d),g=e.getIndexInRange(a,f);return{startIndex:m-m%c,endIndex:g===h?h:g-g%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,l=i.dataKey,c=tn(s[r],l,r);return Ve(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,l=i.endX,c=this.props,u=c.x,h=c.width,d=c.travellerWidth,f=c.startIndex,m=c.endIndex,g=c.onChange,v=r.pageX-s;v>0?v=Math.min(v,u+h-d-l,u+h-d-a):v<0&&(v=Math.max(v,u-a,u-l));var y=this.getIndex({startX:a+v,endX:l+v});(y.startIndex!==f||y.endIndex!==m)&&g&&g(y),this.setState({startX:a+v,endX:l+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=ND(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[a],h=this.props,d=h.x,f=h.width,m=h.travellerWidth,g=h.onChange,v=h.gap,y=h.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-s;b>0?b=Math.min(b,d+f-m-u):b<0&&(b=Math.max(b,d-u)),x[a]=u+b;var w=this.getIndex(x),N=w.startIndex,S=w.endIndex,P=function(){var _=y.length-1;return a==="startX"&&(l>c?N%v===0:S%v===0)||l<c&&S===_||a==="endX"&&(l>c?S%v===0:N%v===0)||l>c&&S===_};this.setState(ri(ri({},a,u+b),"brushMoveStartX",r.pageX),function(){g&&P()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,l=a.scaleValues,c=a.startX,u=a.endX,h=this.state[i],d=l.indexOf(h);if(d!==-1){var f=d+r;if(!(f===-1||f>=l.length)){var m=l[f];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(ri({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:a,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.data,u=r.children,h=r.padding,d=C.Children.only(u);return d?D.cloneElement(d,{x:i,y:s,width:a,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,l=this,c=this.props,u=c.y,h=c.travellerWidth,d=c.height,f=c.traveller,m=c.ariaLabel,g=c.data,v=c.startIndex,y=c.endIndex,x=Math.max(r,this.props.x),b=z_(z_({},Me(this.props,!1)),{},{x,y:u,width:h,height:d}),w=m||"Min value: ".concat((s=g[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[y])===null||a===void 0?void 0:a.name);return D.createElement(et,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,h=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:a,width:d,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,h=this.state,d=h.startX,f=h.endX,m=5,g={pointerEvents:"none",fill:u};return D.createElement(et,{className:"recharts-brush-texts"},D.createElement(Ic,Ax({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-m,y:a+l/2},g),this.getTextOfTick(i)),D.createElement(Ic,Ax({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+c+m,y:a+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,l=r.x,c=r.y,u=r.width,h=r.height,d=r.alwaysShowText,f=this.state,m=f.startX,g=f.endX,v=f.isTextActive,y=f.isSlideMoving,x=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!ge(l)||!ge(c)||!ge(u)||!ge(h)||u<=0||h<=0)return null;var w=He("recharts-brush",s),N=D.Children.count(a)===1,S=vOe("userSelect","none");return D.createElement(et,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(v||y||x||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:s,width:a,height:l,fill:c,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return D.isValidElement(r)?s=D.cloneElement(r,i):Ve(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,h=r.startIndex,d=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return z_({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a},s&&s.length?EOe({data:s,width:a,x:l,travellerWidth:c,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+a-c]);var f=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,l=s-1;l-a>1;){var c=Math.floor((a+l)/2);r[c]>i?l=c:a=c}return i>=r[l]?l:a}}])}(C.PureComponent);ri(Zd,"displayName","Brush");ri(Zd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var COe=QA;function AOe(t,e){var n;return COe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var TOe=AOe,kOe=iU,POe=Xs,IOe=TOe,OOe=ei,ROe=Cw;function MOe(t,e,n){var r=OOe(t)?kOe:IOe;return n&&ROe(t,e,n)&&(e=void 0),r(t,POe(e))}var DOe=MOe;const $Oe=bt(DOe);var Vs=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},jD=EU;function LOe(t,e,n){e=="__proto__"&&jD?jD(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var FOe=LOe,VOe=FOe,BOe=NU,UOe=Xs;function zOe(t,e){var n={};return e=UOe(e),BOe(t,function(r,i,s){VOe(n,i,e(r,i,s))}),n}var WOe=zOe;const HOe=bt(WOe);function GOe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var qOe=GOe,KOe=QA;function YOe(t,e){var n=!0;return KOe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var QOe=YOe,XOe=qOe,JOe=QOe,ZOe=Xs,eRe=ei,tRe=Cw;function nRe(t,e,n){var r=eRe(t)?XOe:JOe;return n&&tRe(t,e,n)&&(e=void 0),r(t,ZOe(e))}var rRe=nRe;const NW=bt(rRe);var iRe=["x","y"];function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){sRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sRe(t,e,n){return e=aRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aRe(t){var e=oRe(t,"string");return Bp(e)=="symbol"?e:e+""}function oRe(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lRe(t,e){if(t==null)return{};var n=cRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uRe(t,e){var n=t.x,r=t.y,i=lRe(t,iRe),s="".concat(n),a=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),h=parseInt(u,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Of(Of(Of(Of(Of({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:h,width:f,name:e.name,radius:e.radius})}function CD(t){return D.createElement(pW,nE({shapeType:"rectangle",propTransformer:uRe,activeClassName:"recharts-active-bar"},t))}var dRe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||Rc(),n)}},hRe=["value","background"],jW;function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function fRe(t,e){if(t==null)return{};var n=mRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(this,arguments)}function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){Mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CW(r.key),r)}}function gRe(t,e,n){return e&&TD(t.prototype,e),n&&TD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yRe(t,e,n){return e=Px(e),vRe(t,EW()?Reflect.construct(e,n||[],Px(t).constructor):e.apply(t,n))}function vRe(t,e){if(e&&(eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xRe(t)}function xRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EW=function(){return!!t})()}function Px(t){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Px(t)}function bRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rE(t,e)}function Mo(t,e,n){return e=CW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CW(t){var e=wRe(t,"string");return eh(e)=="symbol"?e:e+""}function wRe(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qc=function(t){function e(){var n;pRe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yRe(this,e,[].concat(i)),Mo(n,"state",{isAnimationFinished:!1}),Mo(n,"id",qc("recharts-bar-")),Mo(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Mo(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return bRe(e,t),gRe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,h=Me(this.props,!1);return r&&r.map(function(d,f){var m=f===c,g=m?u:a,v=pn(pn(pn({},h),d),{},{isActive:m,option:g,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(et,kx({className:"recharts-bar-rectangle"},kc(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),D.createElement(CD,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,h=i.animationEasing,d=i.animationId,f=this.state.prevData;return D.createElement(Li,{begin:c,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,v=s.map(function(y,x){var b=f&&f[x];if(b){var w=en(b.x,y.x),N=en(b.y,y.y),S=en(b.width,y.width),P=en(b.height,y.height);return pn(pn({},y),{},{x:w(g),y:N(g),width:S(g),height:P(g)})}if(a==="horizontal"){var j=en(0,y.height),_=j(g);return pn(pn({},y),{},{y:y.y+y.height-_,height:_})}var k=en(0,y.width),E=k(g);return pn(pn({},y),{},{width:E})});return D.createElement(et,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!gl(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,l=i.activeIndex,c=Me(this.props.background,!1);return s.map(function(u,h){u.value;var d=u.background,f=fRe(u,hRe);if(!d)return null;var m=pn(pn(pn(pn(pn({},f),{},{fill:"#eee"},d),c),kc(r.props,u,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return D.createElement(CD,kx({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,h=s.children,d=gi(h,kg);if(!d)return null;var f=u==="vertical"?a[0].height/2:a[0].width/2,m=function(y,x){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:tn(y,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(et,g,d.map(function(v){return D.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,l=r.xAxis,c=r.yAxis,u=r.left,h=r.top,d=r.width,f=r.height,m=r.isAnimationActive,g=r.background,v=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,x=He("recharts-bar",a),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,N=b||w,S=Ge(v)?this.id:v;return D.createElement(et,{className:x},b||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:b?u:u-d/2,y:w?h:h-f/2,width:b?d:d*2,height:w?f:f*2}))):null,D.createElement(et,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!m||y)&&hs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(C.PureComponent);jW=Qc;Mo(Qc,"displayName","Bar");Mo(Qc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ii.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Mo(Qc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,h=t.dataStartIndex,d=t.displayedData,f=t.offset,m=zCe(r,n);if(!m)return null;var g=e.layout,v=n.type.defaultProps,y=v!==void 0?pn(pn({},v),n.props):n.props,x=y.dataKey,b=y.children,w=y.minPointSize,N=g==="horizontal"?a:s,S=u?N.scale.domain():null,P=QCe({numericAxis:N}),j=gi(b,Aw),_=d.map(function(k,E){var A,I,R,$,W,H;u?A=WCe(u[h+E],S):(A=tn(k,x),Array.isArray(A)||(A=[P,A]));var M=dRe(w,jW.defaultProps.minPointSize)(A[1],E);if(g==="horizontal"){var F,U=[a.scale(A[0]),a.scale(A[1])],X=U[0],z=U[1];I=pM({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:k,index:E}),R=(F=z??X)!==null&&F!==void 0?F:void 0,$=m.size;var G=X-z;if(W=Number.isNaN(G)?0:G,H={x:I,y:a.y,width:$,height:a.height},Math.abs(M)>0&&Math.abs(W)<Math.abs(M)){var q=Cr(W||M)*(Math.abs(M)-Math.abs(W));R-=q,W+=q}}else{var ae=[s.scale(A[0]),s.scale(A[1])],ye=ae[0],ie=ae[1];if(I=ye,R=pM({axis:a,ticks:c,bandSize:i,offset:m.offset,entry:k,index:E}),$=ie-ye,W=m.size,H={x:s.x,y:R,width:s.width,height:W},Math.abs(M)>0&&Math.abs($)<Math.abs(M)){var B=Cr($||M)*(Math.abs(M)-Math.abs($));$+=B}}return pn(pn(pn({},k),{},{x:I,y:R,width:$,height:W,value:u?A:A[1],payload:k,background:H},j&&j[E]&&j[E].props),{},{tooltipPayload:[Uz(n,k)],tooltipPosition:{x:I+$/2,y:R+W/2}})});return pn({data:_,layout:g},f)});function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function _Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AW(r.key),r)}}function SRe(t,e,n){return e&&kD(t.prototype,e),n&&kD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(n),!0).forEach(function(r){zw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zw(t,e,n){return e=AW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AW(t){var e=NRe(t,"string");return Up(e)=="symbol"?e:e+""}function NRe(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jT=function(e,n,r,i,s){var a=e.width,l=e.height,c=e.layout,u=e.children,h=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!oi(u,Qc);return h.reduce(function(m,g){var v=n[g],y=v.orientation,x=v.domain,b=v.padding,w=b===void 0?{}:b,N=v.mirror,S=v.reversed,P="".concat(y).concat(N?"Mirror":""),j,_,k,E,A;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var I=x[1]-x[0],R=1/0,$=v.categoricalDomain.sort();if($.forEach(function(ae,ye){ye>0&&(R=Math.min((ae||0)-($[ye-1]||0),R))}),Number.isFinite(R)){var W=R/I,H=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(j=W*H/2),v.padding==="no-gap"){var M=Ar(e.barCategoryGap,W*H),F=W*H/2;j=F-M-(F-M)/H*M}}}i==="xAxis"?_=[r.left+(w.left||0)+(j||0),r.left+r.width-(w.right||0)-(j||0)]:i==="yAxis"?_=c==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(j||0),r.top+r.height-(w.bottom||0)-(j||0)]:_=v.range,S&&(_=[_[1],_[0]]);var U=Lz(v,s,f),X=U.scale,z=U.realScaleType;X.domain(x).range(_),Fz(X);var G=Vz(X,Qi(Qi({},v),{},{realScaleType:z}));i==="xAxis"?(A=y==="top"&&!N||y==="bottom"&&N,k=r.left,E=d[P]-A*v.height):i==="yAxis"&&(A=y==="left"&&!N||y==="right"&&N,k=d[P]-A*v.width,E=r.top);var q=Qi(Qi(Qi({},v),G),{},{realScaleType:z,x:k,y:E,scale:X,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return q.bandSize=fx(q,G),!v.hide&&i==="xAxis"?d[P]+=(A?-1:1)*q.height:v.hide||(d[P]+=(A?-1:1)*q.width),Qi(Qi({},m),{},zw({},g,q))},{})},TW=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},jRe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return TW({x:n,y:r},{x:i,y:s})},kW=function(){function t(e){_Re(this,t),this.scale=e}return SRe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();zw(kW,"EPS",1e-4);var ET=function(e){var n=Object.keys(e).reduce(function(r,i){return Qi(Qi({},r),{},zw({},i,kW.create(e[i])))},{});return Qi(Qi({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,l=s.position;return HOe(i,function(c,u){return n[u].apply(c,{bandAware:a,position:l})})},isInRange:function(i){return NW(i,function(s,a){return n[a].isInRange(s)})}})};function ERe(t){return(t%180+180)%180}var CRe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=ERe(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},ARe=Xs,TRe=jg,kRe=jw;function PRe(t){return function(e,n,r){var i=Object(e);if(!TRe(e)){var s=ARe(n);e=kRe(e),n=function(l){return s(i[l],l,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var IRe=PRe,ORe=bW;function RRe(t){var e=ORe(t),n=e%1;return e===e?n?e-n:e:0}var MRe=RRe,DRe=vU,$Re=Xs,LRe=MRe,FRe=Math.max;function VRe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:LRe(n);return i<0&&(i=FRe(r+i,0)),DRe(t,$Re(e),i)}var BRe=VRe,URe=IRe,zRe=BRe,WRe=URe(zRe),HRe=WRe;const GRe=bt(HRe);var qRe=Ime(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),CT=C.createContext(void 0),AT=C.createContext(void 0),PW=C.createContext(void 0),IW=C.createContext({}),OW=C.createContext(void 0),RW=C.createContext(0),MW=C.createContext(0),ID=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,l=e.children,c=e.width,u=e.height,h=qRe(s);return D.createElement(CT.Provider,{value:r},D.createElement(AT.Provider,{value:i},D.createElement(IW.Provider,{value:s},D.createElement(PW.Provider,{value:h},D.createElement(OW.Provider,{value:a},D.createElement(RW.Provider,{value:u},D.createElement(MW.Provider,{value:c},l)))))))},KRe=function(){return C.useContext(OW)},DW=function(e){var n=C.useContext(CT);n==null&&Rc();var r=n[e];return r==null&&Rc(),r},YRe=function(){var e=C.useContext(CT);return No(e)},QRe=function(){var e=C.useContext(AT),n=GRe(e,function(r){return NW(r.domain,Number.isFinite)});return n||No(e)},$W=function(e){var n=C.useContext(AT);n==null&&Rc();var r=n[e];return r==null&&Rc(),r},XRe=function(){var e=C.useContext(PW);return e},JRe=function(){return C.useContext(IW)},TT=function(){return C.useContext(MW)},kT=function(){return C.useContext(RW)};function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function ZRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FW(r.key),r)}}function t4e(t,e,n){return e&&e4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n4e(t,e,n){return e=Ix(e),r4e(t,LW()?Reflect.construct(e,n||[],Ix(t).constructor):e.apply(t,n))}function r4e(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i4e(t)}function i4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LW=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ix(t)}function s4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iE(t,e)}function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){PT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PT(t,e,n){return e=FW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FW(t){var e=a4e(t,"string");return th(e)=="symbol"?e:e+""}function a4e(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o4e(t,e){return d4e(t)||u4e(t,e)||c4e(t,e)||l4e()}function l4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c4e(t,e){if(t){if(typeof t=="string")return MD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MD(t,e)}}function MD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function d4e(t){if(Array.isArray(t))return t}function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(this,arguments)}var h4e=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):Ve(e)?r=e(n):r=D.createElement("line",sE({},n,{className:"recharts-reference-line-line"})),r},f4e=function(e,n,r,i,s,a,l,c,u){var h=s.x,d=s.y,f=s.width,m=s.height;if(r){var g=u.y,v=e.y.apply(g,{position:a});if(Vs(u,"discard")&&!e.y.isInRange(v))return null;var y=[{x:h+f,y:v},{x:h,y:v}];return c==="left"?y.reverse():y}if(n){var x=u.x,b=e.x.apply(x,{position:a});if(Vs(u,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+m},{x:b,y:d}];return l==="top"?w.reverse():w}if(i){var N=u.segment,S=N.map(function(P){return e.apply(P,{position:a})});return Vs(u,"discard")&&$Oe(S,function(P){return!e.isInRange(P)})?null:S}return null};function m4e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,l=t.className,c=t.alwaysShow,u=KRe(),h=DW(i),d=$W(s),f=XRe();if(!u||!f)return null;ds(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ET({x:h.scale,y:d.scale}),g=An(e),v=An(n),y=r&&r.length===2,x=f4e(m,g,v,y,f,t.position,h.orientation,d.orientation,t);if(!x)return null;var b=o4e(x,2),w=b[0],N=w.x,S=w.y,P=b[1],j=P.x,_=P.y,k=Vs(t,"hidden")?"url(#".concat(u,")"):void 0,E=RD(RD({clipPath:k},Me(t,!0)),{},{x1:N,y1:S,x2:j,y2:_});return D.createElement(et,{className:He("recharts-reference-line",l)},h4e(a,E),Fn.renderCallByParent(t,jRe({x1:N,y1:S,x2:j,y2:_})))}var IT=function(t){function e(){return ZRe(this,e),n4e(this,e,arguments)}return s4e(e,t),t4e(e,[{key:"render",value:function(){return D.createElement(m4e,this.props)}}])}(D.Component);PT(IT,"displayName","ReferenceLine");PT(IT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE.apply(this,arguments)}function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){Ww(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BW(r.key),r)}}function y4e(t,e,n){return e&&g4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v4e(t,e,n){return e=Ox(e),x4e(t,VW()?Reflect.construct(e,n||[],Ox(t).constructor):e.apply(t,n))}function x4e(t,e){if(e&&(nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b4e(t)}function b4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VW=function(){return!!t})()}function Ox(t){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ox(t)}function w4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oE(t,e)}function oE(t,e){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oE(t,e)}function Ww(t,e,n){return e=BW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BW(t){var e=_4e(t,"string");return nh(e)=="symbol"?e:e+""}function _4e(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S4e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=ET({x:i.scale,y:s.scale}),l=a.apply({x:n,y:r},{bandAware:!0});return Vs(e,"discard")&&!a.isInRange(l)?null:l},Hw=function(t){function e(){return p4e(this,e),v4e(this,e,arguments)}return w4e(e,t),y4e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,l=r.alwaysShow,c=r.clipPathId,u=An(i),h=An(s);if(ds(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var d=S4e(this.props);if(!d)return null;var f=d.x,m=d.y,g=this.props,v=g.shape,y=g.className,x=Vs(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=$D($D({clipPath:x},Me(this.props,!0)),{},{cx:f,cy:m});return D.createElement(et,{className:He("recharts-reference-dot",y)},e.renderDot(v,b),Fn.renderCallByParent(this.props,{x:f-a,y:m-a,width:2*a,height:2*a}))}}])}(D.Component);Ww(Hw,"displayName","ReferenceDot");Ww(Hw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ww(Hw,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Ve(t)?n=t(e):n=D.createElement(Hh,aE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(this,arguments)}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){Gw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zW(r.key),r)}}function E4e(t,e,n){return e&&j4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C4e(t,e,n){return e=Rx(e),A4e(t,UW()?Reflect.construct(e,n||[],Rx(t).constructor):e.apply(t,n))}function A4e(t,e){if(e&&(rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T4e(t)}function T4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UW=function(){return!!t})()}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(t)}function k4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(t,e)}function Gw(t,e,n){return e=zW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zW(t){var e=P4e(t,"string");return rh(e)=="symbol"?e:e+""}function P4e(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I4e=function(e,n,r,i,s){var a=s.x1,l=s.x2,c=s.y1,u=s.y2,h=s.xAxis,d=s.yAxis;if(!h||!d)return null;var f=ET({x:h.scale,y:d.scale}),m={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Vs(s,"discard")&&(!f.isInRange(m)||!f.isInRange(g))?null:TW(m,g)},qw=function(t){function e(){return N4e(this,e),C4e(this,e,arguments)}return k4e(e,t),E4e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,h=r.clipPathId;ds(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=An(i),f=An(s),m=An(a),g=An(l),v=this.props.shape;if(!d&&!f&&!m&&!g&&!v)return null;var y=I4e(d,f,m,g,this.props);if(!y&&!v)return null;var x=Vs(this.props,"hidden")?"url(#".concat(h,")"):void 0;return D.createElement(et,{className:He("recharts-reference-area",c)},e.renderRect(v,FD(FD({clipPath:x},Me(this.props,!0)),y)),Fn.renderCallByParent(this.props,y))}}])}(D.Component);Gw(qw,"displayName","ReferenceArea");Gw(qw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gw(qw,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Ve(t)?n=t(e):n=D.createElement(NT,lE({},e,{className:"recharts-reference-area-rect"})),n});function WW(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function O4e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return CRe(r,n)}function R4e(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function Mx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function M4e(t,e){return WW(t,e+1)}function D4e(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,l=e.end,c=0,u=1,h=a,d=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:WW(r,u)};var v=c,y,x=function(){return y===void 0&&(y=n(g,v)),y},b=g.coordinate,w=c===0||Mx(t,b,x,h,l);w||(c=0,h=a,u+=1),w&&(h=b+t*(x()/2+i),c+=u)},f;u<=s.length;)if(f=d(),f)return f.v;return[]}function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){$4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $4e(t,e,n){return e=L4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4e(t){var e=F4e(t,"string");return zp(e)=="symbol"?e:e+""}function F4e(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V4e(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end,u=function(f){var m=s[f],g,v=function(){return g===void 0&&(g=n(m,f)),g};if(f===a-1){var y=t*(m.coordinate+t*v()/2-c);s[f]=m=or(or({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else s[f]=m=or(or({},m),{},{tickCoord:m.coordinate});var x=Mx(t,m.tickCoord,v,l,c);x&&(c=m.tickCoord-t*(v()/2+i),s[f]=or(or({},m),{},{isShow:!0}))},h=a-1;h>=0;h--)u(h);return s}function B4e(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,c=e.start,u=e.end;if(s){var h=r[l-1],d=n(h,l-1),f=t*(h.coordinate+t*d/2-u);a[l-1]=h=or(or({},h),{},{tickCoord:f>0?h.coordinate-f*t:h.coordinate});var m=Mx(t,h.tickCoord,function(){return d},c,u);m&&(u=h.tickCoord-t*(d/2+i),a[l-1]=or(or({},h),{},{isShow:!0}))}for(var g=s?l-1:l,v=function(b){var w=a[b],N,S=function(){return N===void 0&&(N=n(w,b)),N};if(b===0){var P=t*(w.coordinate-t*S()/2-c);a[b]=w=or(or({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else a[b]=w=or(or({},w),{},{tickCoord:w.coordinate});var j=Mx(t,w.tickCoord,S,c,u);j&&(c=w.tickCoord+t*(S()/2+i),a[b]=or(or({},w),{},{isShow:!0}))},y=0;y<g;y++)v(y);return a}function OT(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,h=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ge(c)||Ii.isSsr)return M4e(i,typeof c=="number"&&ge(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",g=h&&m==="width"?ym(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(w,N){var S=Ve(u)?u(w.value,N):w.value;return m==="width"?O4e(ym(S,{fontSize:e,letterSpacing:n}),g,d):ym(S,{fontSize:e,letterSpacing:n})[m]},y=i.length>=2?Cr(i[1].coordinate-i[0].coordinate):1,x=R4e(s,y,m);return c==="equidistantPreserveStart"?D4e(y,x,v,i,a):(c==="preserveStart"||c==="preserveStartEnd"?f=B4e(y,x,v,i,a,c==="preserveStartEnd"):f=V4e(y,x,v,i,a),f.filter(function(b){return b.isShow}))}var U4e=["viewBox"],z4e=["viewBox"],W4e=["ticks"];function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){RT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W_(t,e){if(t==null)return{};var n=H4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GW(r.key),r)}}function q4e(t,e,n){return e&&UD(t.prototype,e),n&&UD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function K4e(t,e,n){return e=Dx(e),Y4e(t,HW()?Reflect.construct(e,n||[],Dx(t).constructor):e.apply(t,n))}function Y4e(t,e){if(e&&(ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q4e(t)}function Q4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HW=function(){return!!t})()}function Dx(t){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dx(t)}function X4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uE(t,e)}function RT(t,e,n){return e=GW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GW(t){var e=J4e(t,"string");return ih(e)=="symbol"?e:e+""}function J4e(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kh=function(t){function e(n){var r;return G4e(this,e),r=K4e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return X4e(e,t),q4e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=W_(r,U4e),l=this.props,c=l.viewBox,u=W_(l,z4e);return!Ku(s,c)||!Ku(a,u)||!Ku(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,l=i.width,c=i.height,u=i.orientation,h=i.tickSize,d=i.mirror,f=i.tickMargin,m,g,v,y,x,b,w=d?-1:1,N=r.tickSize||h,S=ge(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,y=a+ +!d*c,v=y-w*N,b=v-w*f,x=S;break;case"left":v=y=r.coordinate,g=s+ +!d*l,m=g-w*N,x=m-w*f,b=S;break;case"right":v=y=r.coordinate,g=s+ +d*l,m=g+w*N,x=m+w*f,b=S;break;default:m=g=r.coordinate,y=a+ +d*c,v=y+w*N,b=v+w*f,x=S;break}return{line:{x1:m,y1:v,x2:g,y2:y},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.orientation,u=r.mirror,h=r.axisLine,d=wr(wr(wr({},Me(this.props,!1)),Me(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);d=wr(wr({},d),{},{x1:i,y1:s+f*l,x2:i+a,y2:s+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);d=wr(wr({},d),{},{x1:i+m*a,y1:s,x2:i+m*a,y2:s+l})}return D.createElement("line",Iu({},d,{className:He("recharts-cartesian-axis-line",pi(h,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,l=this.props,c=l.tickLine,u=l.stroke,h=l.tick,d=l.tickFormatter,f=l.unit,m=OT(wr(wr({},this.props),{},{ticks:r}),i,s),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=Me(this.props,!1),x=Me(h,!1),b=wr(wr({},y),{},{fill:"none"},Me(c,!1)),w=m.map(function(N,S){var P=a.getTickLineCoord(N),j=P.line,_=P.tick,k=wr(wr(wr(wr({textAnchor:g,verticalAnchor:v},y),{},{stroke:"none",fill:u},x),_),{},{index:S,payload:N,visibleTicksCount:m.length,tickFormatter:d});return D.createElement(et,Iu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},kc(a.props,N,S)),c&&D.createElement("line",Iu({},b,j,{className:He("recharts-cartesian-axis-tick-line",pi(c,"className"))})),h&&e.renderTickItem(h,k,"".concat(Ve(d)?d(N.value,S):N.value).concat(f||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,l=i.height,c=i.ticksGenerator,u=i.className,h=i.hide;if(h)return null;var d=this.props,f=d.ticks,m=W_(d,W4e),g=f;return Ve(c)&&(g=f&&f.length>0?c(this.props):c(m)),a<=0||l<=0||!g||!g.length?null:D.createElement(et,{className:He("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):Ve(r)?a=r(i):a=D.createElement(Ic,Iu({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(C.Component);RT(Kh,"displayName","CartesianAxis");RT(Kh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Z4e=["x1","y1","x2","y2","key"],e5e=["offset"];function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){t5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t5e(t,e,n){return e=n5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n5e(t){var e=r5e(t,"string");return Mc(e)=="symbol"?e:e+""}function r5e(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}function WD(t,e){if(t==null)return{};var n=i5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var s5e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,l=e.height,c=e.ry;return D.createElement("rect",{x:i,y:s,ry:c,width:a,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function qW(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(Ve(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,l=e.key,c=WD(e,Z4e),u=Me(c,!1);u.offset;var h=WD(u,e5e);n=D.createElement("line",nc({},h,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:l}))}return n}function a5e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,c){var u=hr(hr({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return qW(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function o5e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,c){var u=hr(hr({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return qW(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function l5e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var h=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==h[0]&&h.unshift(0);var d=h.map(function(f,m){var g=!h[m+1],v=g?i+a-f:h[m+1]-f;if(v<=0)return null;var y=m%e.length;return D.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:v,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function c5e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var h=u.map(function(f){return Math.round(f+s-s)}).sort(function(f,m){return f-m});s!==h[0]&&h.unshift(0);var d=h.map(function(f,m){var g=!h[m+1],v=g?s+l-f:h[m+1]-f;if(v<=0)return null;var y=m%r.length;return D.createElement("rect",{key:"react-".concat(m),x:f,y:a,width:v,height:c,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var u5e=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return $z(OT(hr(hr(hr({},Kh.defaultProps),r),{},{ticks:xa(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},d5e=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return $z(OT(hr(hr(hr({},Kh.defaultProps),r),{},{ticks:xa(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},lu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ig(t){var e,n,r,i,s,a,l=TT(),c=kT(),u=JRe(),h=hr(hr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:lu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:lu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:lu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:lu.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:lu.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:lu.verticalFill,x:ge(t.x)?t.x:u.left,y:ge(t.y)?t.y:u.top,width:ge(t.width)?t.width:u.width,height:ge(t.height)?t.height:u.height}),d=h.x,f=h.y,m=h.width,g=h.height,v=h.syncWithTicks,y=h.horizontalValues,x=h.verticalValues,b=YRe(),w=QRe();if(!ge(m)||m<=0||!ge(g)||g<=0||!ge(d)||d!==+d||!ge(f)||f!==+f)return null;var N=h.verticalCoordinatesGenerator||u5e,S=h.horizontalCoordinatesGenerator||d5e,P=h.horizontalPoints,j=h.verticalPoints;if((!P||!P.length)&&Ve(S)){var _=y&&y.length,k=S({yAxis:w?hr(hr({},w),{},{ticks:_?y:w.ticks}):void 0,width:l,height:c,offset:u},_?!0:v);ds(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Mc(k),"]")),Array.isArray(k)&&(P=k)}if((!j||!j.length)&&Ve(N)){var E=x&&x.length,A=N({xAxis:b?hr(hr({},b),{},{ticks:E?x:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:v);ds(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Mc(A),"]")),Array.isArray(A)&&(j=A)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(s5e,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),D.createElement(a5e,nc({},h,{offset:u,horizontalPoints:P,xAxis:b,yAxis:w})),D.createElement(o5e,nc({},h,{offset:u,verticalPoints:j,xAxis:b,yAxis:w})),D.createElement(l5e,nc({},h,{horizontalPoints:P})),D.createElement(c5e,nc({},h,{verticalPoints:j})))}Ig.displayName="CartesianGrid";var h5e=["type","layout","connectNulls","ref"],f5e=["key"];function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function HD(t,e){if(t==null)return{};var n=m5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(this,arguments)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){Xi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cu(t){return v5e(t)||y5e(t)||g5e(t)||p5e()}function p5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g5e(t,e){if(t){if(typeof t=="string")return dE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dE(t,e)}}function y5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v5e(t){if(Array.isArray(t))return dE(t)}function dE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YW(r.key),r)}}function b5e(t,e,n){return e&&qD(t.prototype,e),n&&qD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function w5e(t,e,n){return e=$x(e),_5e(t,KW()?Reflect.construct(e,n||[],$x(t).constructor):e.apply(t,n))}function _5e(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S5e(t)}function S5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KW=function(){return!!t})()}function $x(t){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$x(t)}function N5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hE(t,e)}function hE(t,e){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hE(t,e)}function Xi(t,e,n){return e=YW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YW(t){var e=j5e(t,"string");return sh(e)=="symbol"?e:e+""}function j5e(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ci=function(t){function e(){var n;x5e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=w5e(this,e,[].concat(i)),Xi(n,"state",{isAnimationFinished:!0,totalLength:0}),Xi(n,"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),Xi(n,"getStrokeDasharray",function(a,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return n.generateSimpleStrokeDasharray(l,a);for(var h=Math.floor(a/u),d=a%u,f=l-a,m=[],g=0,v=0;g<c.length;v+=c[g],++g)if(v+c[g]>d){m=[].concat(cu(c.slice(0,g)),[d-v]);break}var y=m.length%2===0?[0,f]:[f];return[].concat(cu(e.repeat(c,h)),cu(m),y).map(function(x){return"".concat(x,"px")}).join(", ")}),Xi(n,"id",qc("recharts-line-")),Xi(n,"pathRef",function(a){n.mainCurve=a}),Xi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Xi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return N5e(e,t),b5e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,h=s.children,d=gi(h,kg);if(!d)return null;var f=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:tn(v.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(et,m,d.map(function(g){return D.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,h=l.dataKey,d=Me(this.props,!1),f=Me(c,!0),m=u.map(function(v,y){var x=ni(ni(ni({key:"dot-".concat(y),r:3},d),f),{},{value:v.value,dataKey:h,cx:v.x,cy:v.y,index:y,payload:v.payload});return e.renderDotItem(c,x)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return D.createElement(et,Sm({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,i,s,a){var l=this.props,c=l.type,u=l.layout,h=l.connectNulls;l.ref;var d=HD(l,h5e),f=ni(ni(ni({},Me(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:c,layout:u,connectNulls:h});return D.createElement(fc,Sm({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,l=a.points,c=a.strokeDasharray,u=a.isAnimationActive,h=a.animationBegin,d=a.animationDuration,f=a.animationEasing,m=a.animationId,g=a.animateNewValues,v=a.width,y=a.height,x=this.state,b=x.prevPoints,w=x.totalLength;return D.createElement(Li,{begin:h,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(b){var P=b.length/l.length,j=l.map(function(I,R){var $=Math.floor(R*P);if(b[$]){var W=b[$],H=en(W.x,I.x),M=en(W.y,I.y);return ni(ni({},I),{},{x:H(S),y:M(S)})}if(g){var F=en(v*2,I.x),U=en(y/2,I.y);return ni(ni({},I),{},{x:F(S),y:U(S)})}return ni(ni({},I),{},{x:I.x,y:I.y})});return s.renderCurveStatically(j,r,i)}var _=en(0,w),k=_(S),E;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});E=s.getStrokeDasharray(k,w,A)}else E=s.generateSimpleStrokeDasharray(w,k);return s.renderCurveStatically(l,r,i,{strokeDasharray:E})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,h=c.totalLength;return l&&a&&a.length&&(!u&&h>0||!gl(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,l=i.points,c=i.className,u=i.xAxis,h=i.yAxis,d=i.top,f=i.left,m=i.width,g=i.height,v=i.isAnimationActive,y=i.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,w=He("recharts-line",c),N=u&&u.allowDataOverflow,S=h&&h.allowDataOverflow,P=N||S,j=Ge(y)?this.id:y,_=(r=Me(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=_.r,E=k===void 0?3:k,A=_.strokeWidth,I=A===void 0?2:A,R=TB(a)?a:{},$=R.clipDot,W=$===void 0?!0:$,H=E*2+I;return D.createElement(et,{className:w},N||S?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(j)},D.createElement("rect",{x:N?f:f-m/2,y:S?d:d-g/2,width:N?m:m*2,height:S?g:g*2})),!W&&D.createElement("clipPath",{id:"clipPath-dots-".concat(j)},D.createElement("rect",{x:f-H/2,y:d-H/2,width:m+H,height:g+H}))):null,!b&&this.renderCurve(P,j),this.renderErrorBar(P,j),(b||a)&&this.renderDots(P,W,j),(!v||x)&&hs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(cu(r),[0]):r,a=[],l=0;l<i;++l)a=[].concat(cu(a),cu(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(D.isValidElement(r))s=D.cloneElement(r,i);else if(Ve(r))s=r(i);else{var a=i.key,l=HD(i,f5e),c=He("recharts-line-dot",typeof r!="boolean"?r.className:"");s=D.createElement(Hh,Sm({key:a},l,{className:c}))}return s}}])}(C.PureComponent);Xi(Ci,"displayName","Line");Xi(Ci,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ii.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Xi(Ci,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,h=e.layout,d=c.map(function(f,m){var g=tn(f,a);return h==="horizontal"?{x:hx({axis:n,ticks:i,bandSize:l,entry:f,index:m}),y:Ge(g)?null:r.scale(g),value:g,payload:f}:{x:Ge(g)?null:n.scale(g),y:hx({axis:r,ticks:s,bandSize:l,entry:f,index:m}),value:g,payload:f}});return ni({points:d,layout:h},u)});var E5e=["layout","type","stroke","connectNulls","isRange","ref"],C5e=["key"],QW;function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function XW(t,e){if(t==null)return{};var n=A5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){Is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZW(r.key),r)}}function k5e(t,e,n){return e&&YD(t.prototype,e),n&&YD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P5e(t,e,n){return e=Lx(e),I5e(t,JW()?Reflect.construct(e,n||[],Lx(t).constructor):e.apply(t,n))}function I5e(t,e){if(e&&(ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O5e(t)}function O5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!t})()}function Lx(t){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lx(t)}function R5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fE(t,e)}function Is(t,e,n){return e=ZW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZW(t){var e=M5e(t,"string");return ah(e)=="symbol"?e:e+""}function M5e(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var za=function(t){function e(){var n;T5e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=P5e(this,e,[].concat(i)),Is(n,"state",{isAnimationFinished:!0}),Is(n,"id",qc("recharts-area-")),Is(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ve(a)&&a()}),Is(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ve(a)&&a()}),n}return R5e(e,t),k5e(e,[{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(a&&!l)return null;var c=this.props,u=c.dot,h=c.points,d=c.dataKey,f=Me(this.props,!1),m=Me(u,!0),g=h.map(function(y,x){var b=po(po(po({key:"dot-".concat(x),r:3},f),m),{},{index:x,cx:y.x,cy:y.y,dataKey:d,value:y.value,payload:y.payload,points:h});return e.renderDotItem(u,b)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return D.createElement(et,rc({className:"recharts-area-dots"},v),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,c=a[0].x,u=a[a.length-1].x,h=r*Math.abs(c-u),d=Ro(a.map(function(f){return f.y||0}));return ge(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(Ro(s.map(function(f){return f.y||0})),d)),ge(d)?D.createElement("rect",{x:c<u?c:c-h,y:0,width:h,height:Math.floor(d+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,c=a[0].y,u=a[a.length-1].y,h=r*Math.abs(c-u),d=Ro(a.map(function(f){return f.x||0}));return ge(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(Ro(s.map(function(f){return f.x||0})),d)),ge(d)?D.createElement("rect",{x:0,y:c<u?c:c-h,width:d+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,a){var l=this.props,c=l.layout,u=l.type,h=l.stroke,d=l.connectNulls,f=l.isRange;l.ref;var m=XW(l,E5e);return D.createElement(et,{clipPath:s?"url(#clipPath-".concat(a,")"):null},D.createElement(fc,rc({},Me(m,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&D.createElement(fc,rc({},Me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:r})),h!=="none"&&f&&D.createElement(fc,rc({},Me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,a=this.props,l=a.points,c=a.baseLine,u=a.isAnimationActive,h=a.animationBegin,d=a.animationDuration,f=a.animationEasing,m=a.animationId,g=this.state,v=g.prevPoints,y=g.prevBaseLine;return D.createElement(Li,{begin:h,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(v){var w=v.length/l.length,N=l.map(function(_,k){var E=Math.floor(k*w);if(v[E]){var A=v[E],I=en(A.x,_.x),R=en(A.y,_.y);return po(po({},_),{},{x:I(b),y:R(b)})}return _}),S;if(ge(c)&&typeof c=="number"){var P=en(y,c);S=P(b)}else if(Ge(c)||$h(c)){var j=en(y,0);S=j(b)}else S=c.map(function(_,k){var E=Math.floor(k*w);if(y[E]){var A=y[E],I=en(A.x,_.x),R=en(A.y,_.y);return po(po({},_),{},{x:I(b),y:R(b)})}return _});return s.renderAreaStatically(N,S,r,i)}return D.createElement(et,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(b))),D.createElement(et,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,a=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,h=u.prevPoints,d=u.prevBaseLine,f=u.totalLength;return c&&a&&a.length&&(!h&&f>0||!gl(h,a)||!gl(d,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,l=i.points,c=i.className,u=i.top,h=i.left,d=i.xAxis,f=i.yAxis,m=i.width,g=i.height,v=i.isAnimationActive,y=i.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,w=He("recharts-area",c),N=d&&d.allowDataOverflow,S=f&&f.allowDataOverflow,P=N||S,j=Ge(y)?this.id:y,_=(r=Me(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=_.r,E=k===void 0?3:k,A=_.strokeWidth,I=A===void 0?2:A,R=TB(a)?a:{},$=R.clipDot,W=$===void 0?!0:$,H=E*2+I;return D.createElement(et,{className:w},N||S?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(j)},D.createElement("rect",{x:N?h:h-m/2,y:S?u:u-g/2,width:N?m:m*2,height:S?g:g*2})),!W&&D.createElement("clipPath",{id:"clipPath-dots-".concat(j)},D.createElement("rect",{x:h-H/2,y:u-H/2,width:m+H,height:g+H}))):null,b?null:this.renderArea(P,j),(a||b)&&this.renderDots(P,W,j),(!v||x)&&hs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(C.PureComponent);QW=za;Is(za,"displayName","Area");Is(za,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ii.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Is(za,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,a=e.props.baseValue,l=a??s;if(ge(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var h=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return l==="dataMin"?d:l==="dataMax"||h<0?h:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Is(za,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,h=t.dataStartIndex,d=t.displayedData,f=t.offset,m=e.layout,g=u&&u.length,v=QW.getBaseValue(e,n,r,i),y=m==="horizontal",x=!1,b=d.map(function(N,S){var P;g?P=u[h+S]:(P=tn(N,c),Array.isArray(P)?x=!0:P=[v,P]);var j=P[1]==null||g&&tn(N,c)==null;return y?{x:hx({axis:r,ticks:s,bandSize:l,entry:N,index:S}),y:j?null:i.scale(P[1]),value:P,payload:N}:{x:j?null:r.scale(P[1]),y:hx({axis:i,ticks:a,bandSize:l,entry:N,index:S}),value:P,payload:N}}),w;return g||x?w=b.map(function(N){var S=Array.isArray(N.value)?N.value[0]:null;return y?{x:N.x,y:S!=null&&N.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:N.y}}):w=y?i.scale(v):r.scale(v),po({points:b,baseLine:w,layout:m,isRange:x},f)});Is(za,"renderDotItem",function(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(Ve(t))n=t(e);else{var r=He("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=XW(e,C5e);n=D.createElement(Hh,rc({},s,{key:i,className:r}))}return n});function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function D5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nH(r.key),r)}}function L5e(t,e,n){return e&&$5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F5e(t,e,n){return e=Fx(e),V5e(t,eH()?Reflect.construct(e,n||[],Fx(t).constructor):e.apply(t,n))}function V5e(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B5e(t)}function B5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eH=function(){return!!t})()}function Fx(t){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(t)}function U5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mE(t,e)}function tH(t,e,n){return e=nH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nH(t){var e=z5e(t,"string");return oh(e)=="symbol"?e:e+""}function z5e(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pE(){return pE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pE.apply(this,arguments)}function W5e(t){var e=t.xAxisId,n=TT(),r=kT(),i=DW(e);return i==null?null:D.createElement(Kh,pE({},i,{className:He("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return xa(a,!0)}}))}var eo=function(t){function e(){return D5e(this,e),F5e(this,e,arguments)}return U5e(e,t),L5e(e,[{key:"render",value:function(){return D.createElement(W5e,this.props)}}])}(D.Component);tH(eo,"displayName","XAxis");tH(eo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function H5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sH(r.key),r)}}function q5e(t,e,n){return e&&G5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K5e(t,e,n){return e=Vx(e),Y5e(t,rH()?Reflect.construct(e,n||[],Vx(t).constructor):e.apply(t,n))}function Y5e(t,e){if(e&&(lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q5e(t)}function Q5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rH=function(){return!!t})()}function Vx(t){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vx(t)}function X5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gE(t,e)}function gE(t,e){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gE(t,e)}function iH(t,e,n){return e=sH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sH(t){var e=J5e(t,"string");return lh(e)=="symbol"?e:e+""}function J5e(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(this,arguments)}var Z5e=function(e){var n=e.yAxisId,r=TT(),i=kT(),s=$W(n);return s==null?null:D.createElement(Kh,yE({},s,{className:He("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return xa(l,!0)}}))},to=function(t){function e(){return H5e(this,e),K5e(this,e,arguments)}return X5e(e,t),q5e(e,[{key:"render",value:function(){return D.createElement(Z5e,this.props)}}])}(D.Component);iH(to,"displayName","YAxis");iH(to,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function QD(t){return rMe(t)||nMe(t)||tMe(t)||eMe()}function eMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tMe(t,e){if(t){if(typeof t=="string")return vE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vE(t,e)}}function nMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rMe(t){if(Array.isArray(t))return vE(t)}function vE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xE=function(e,n,r,i,s){var a=gi(e,IT),l=gi(e,Hw),c=[].concat(QD(a),QD(l)),u=gi(e,qw),h="".concat(i,"Id"),d=i[0],f=n;if(c.length&&(f=c.reduce(function(v,y){if(y.props[h]===r&&Vs(y.props,"extendDomain")&&ge(y.props[d])){var x=y.props[d];return[Math.min(v[0],x),Math.max(v[1],x)]}return v},f)),u.length){var m="".concat(d,"1"),g="".concat(d,"2");f=u.reduce(function(v,y){if(y.props[h]===r&&Vs(y.props,"extendDomain")&&ge(y.props[m])&&ge(y.props[g])){var x=y.props[m],b=y.props[g];return[Math.min(v[0],x,b),Math.max(v[1],x,b)]}return v},f)}return s&&s.length&&(f=s.reduce(function(v,y){return ge(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},f)),f},aH={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function s(c,u,h,d,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,d||c,f),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,d;if(this._eventsCount===0)return u;for(d in h=this._events)e.call(h,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=n?n+u:u,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,m=d.length,g=new Array(m);f<m;f++)g[f]=d[f].fn;return g},l.prototype.listenerCount=function(u){var h=n?n+u:u,d=this._events[h];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,h,d,f,m,g){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,d),!0;case 4:return y.fn.call(y.context,h,d,f),!0;case 5:return y.fn.call(y.context,h,d,f,m),!0;case 6:return y.fn.call(y.context,h,d,f,m,g),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var N=y.length,S;for(w=0;w<N;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,h);break;case 3:y[w].fn.call(y[w].context,h,d);break;case 4:y[w].fn.call(y[w].context,h,d,f);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];y[w].fn.apply(y[w].context,b)}}return!0},l.prototype.on=function(u,h,d){return s(this,u,h,d,!1)},l.prototype.once=function(u,h,d){return s(this,u,h,d,!0)},l.prototype.removeListener=function(u,h,d,f){var m=n?n+u:u;if(!this._events[m])return this;if(!h)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===h&&(!f||g.once)&&(!d||g.context===d)&&a(this,m);else{for(var v=0,y=[],x=g.length;v<x;v++)(g[v].fn!==h||f&&!g[v].once||d&&g[v].context!==d)&&y.push(g[v]);y.length?this._events[m]=y.length===1?y[0]:y:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(aH);var iMe=aH.exports;const sMe=bt(iMe);var H_=new sMe,G_="recharts.syncMouseEvents";function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function aMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oH(r.key),r)}}function lMe(t,e,n){return e&&oMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q_(t,e,n){return e=oH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oH(t){var e=cMe(t,"string");return Wp(e)=="symbol"?e:e+""}function cMe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uMe=function(){function t(){aMe(this,t),q_(this,"activeIndex",0),q_(this,"coordinateList",[]),q_(this,"layout","horizontal")}return lMe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,l=a===void 0?null:a,c=n.layout,u=c===void 0?null:c,h=n.offset,d=h===void 0?null:h,f=n.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+c+u,f=a+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function dMe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ge(r)&&ge(i))return!0}return!1}function hMe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function lH(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=xt(e,n,r,i),l=xt(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function fMe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,h=e.outerRadius,d=e.angle,f=xt(l,c,u,d),m=xt(l,c,h,d);r=f.x,i=f.y,s=m.x,a=m.y}else return lH(e);return[{x:r,y:i},{x:s,y:a}]}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){mMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mMe(t,e,n){return e=pMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pMe(t){var e=gMe(t,"string");return Hp(e)=="symbol"?e:e+""}function gMe(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yMe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,h=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!s||!a||f!=="ScatterChart"&&i!=="axis")return null;var g,v=fc;if(f==="ScatterChart")g=a,v=ePe;else if(f==="BarChart")g=hMe(d,a,c,h),v=NT;else if(d==="radial"){var y=lH(a),x=y.cx,b=y.cy,w=y.radius,N=y.startAngle,S=y.endAngle;g={cx:x,cy:b,startAngle:N,endAngle:S,innerRadius:w,outerRadius:w},v=Qz}else g={points:fMe(d,a,c)},v=fc;var P=Wy(Wy(Wy(Wy({stroke:"#ccc",pointerEvents:"none"},c),g),Me(m,!1)),{},{payload:l,payloadIndex:u,className:He("recharts-tooltip-cursor",m.className)});return C.isValidElement(m)?C.cloneElement(m,P):C.createElement(v,P)}var vMe=["item"],xMe=["children","className","width","height","style","compact","title","desc"];function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}function JD(t,e){return _Me(t)||wMe(t,e)||uH(t,e)||bMe()}function bMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function _Me(t){if(Array.isArray(t))return t}function ZD(t,e){if(t==null)return{};var n=SMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dH(r.key),r)}}function EMe(t,e,n){return e&&jMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CMe(t,e,n){return e=Bx(e),AMe(t,cH()?Reflect.construct(e,n||[],Bx(t).constructor):e.apply(t,n))}function AMe(t,e){if(e&&(ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TMe(t)}function TMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!t})()}function Bx(t){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bx(t)}function kMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bE(t,e)}function bE(t,e){return bE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bE(t,e)}function uh(t){return OMe(t)||IMe(t)||uH(t)||PMe()}function PMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uH(t,e){if(t){if(typeof t=="string")return wE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(t,e)}}function IMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OMe(t){if(Array.isArray(t))return wE(t)}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(n),!0).forEach(function(r){We(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function We(t,e,n){return e=dH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dH(t){var e=RMe(t,"string");return ch(e)=="symbol"?e:e+""}function RMe(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MMe={xAxis:["bottom","top"],yAxis:["left","right"]},DMe={width:"100%",height:"100%"},hH={x:0,y:0};function Hy(t){return t}var $Me=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},LMe=function(e,n,r,i){var s=n.find(function(h){return h&&h.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,l=i.radius;return ee(ee(ee({},i),xt(i.cx,i.cy,l,a)),{},{angle:a,radius:l})}var c=s.coordinate,u=i.angle;return ee(ee(ee({},i),xt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return hH},Kw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(uh(l),uh(u)):l},[]);return a.length>0?a:e&&e.length&&ge(i)&&ge(s)?e.slice(i,s+1):[]};function fH(t){return t==="number"?[0,"auto"]:void 0}var _E=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,l=Kw(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var h,d=(h=u.props.data)!==null&&h!==void 0?h:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(a.dataKey&&!a.allowDuplicatedCategory){var m=d===void 0?l:d;f=Lv(m,a.dataKey,i)}else f=d&&d[r]||l[r];return f?[].concat(uh(c),[Uz(u,f)]):c},[])},t6=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=$Me(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,h=$Ce(a,l,u,c);if(h>=0&&u){var d=u[h]&&u[h].value,f=_E(e,n,h,d),m=LMe(r,l,h,s);return{activeTooltipIndex:h,activeLabel:d,activePayload:f,activeCoordinate:m}}return null},FMe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=e.layout,d=e.children,f=e.stackOffset,m=Dz(h,s);return r.reduce(function(g,v){var y,x=v.type.defaultProps!==void 0?ee(ee({},v.type.defaultProps),v.props):v.props,b=x.type,w=x.dataKey,N=x.allowDataOverflow,S=x.allowDuplicatedCategory,P=x.scale,j=x.ticks,_=x.includeHidden,k=x[a];if(g[k])return g;var E=Kw(e.data,{graphicalItems:i.filter(function(G){var q,ae=a in G.props?G.props[a]:(q=G.type.defaultProps)===null||q===void 0?void 0:q[a];return ae===k}),dataStartIndex:c,dataEndIndex:u}),A=E.length,I,R,$;dMe(x.domain,N,b)&&(I=Rj(x.domain,null,N),m&&(b==="number"||P!=="auto")&&($=xm(E,w,"category")));var W=fH(b);if(!I||I.length===0){var H,M=(H=x.domain)!==null&&H!==void 0?H:W;if(w){if(I=xm(E,w,b),b==="category"&&m){var F=Ape(I);S&&F?(R=I,I=Cx(0,A)):S||(I=vM(M,I,v).reduce(function(G,q){return G.indexOf(q)>=0?G:[].concat(uh(G),[q])},[]))}else if(b==="category")S?I=I.filter(function(G){return G!==""&&!Ge(G)}):I=vM(M,I,v).reduce(function(G,q){return G.indexOf(q)>=0||q===""||Ge(q)?G:[].concat(uh(G),[q])},[]);else if(b==="number"){var U=UCe(E,i.filter(function(G){var q,ae,ye=a in G.props?G.props[a]:(q=G.type.defaultProps)===null||q===void 0?void 0:q[a],ie="hide"in G.props?G.props.hide:(ae=G.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return ye===k&&(_||!ie)}),w,s,h);U&&(I=U)}m&&(b==="number"||P!=="auto")&&($=xm(E,w,"category"))}else m?I=Cx(0,A):l&&l[k]&&l[k].hasStack&&b==="number"?I=f==="expand"?[0,1]:Bz(l[k].stackGroups,c,u):I=Mz(E,i.filter(function(G){var q=a in G.props?G.props[a]:G.type.defaultProps[a],ae="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return q===k&&(_||!ae)}),b,h,!0);if(b==="number")I=xE(d,I,k,s,j),M&&(I=Rj(M,I,N));else if(b==="category"&&M){var X=M,z=I.every(function(G){return X.indexOf(G)>=0});z&&(I=X)}}return ee(ee({},g),{},We({},k,ee(ee({},x),{},{axisType:s,domain:I,categoricalDomain:$,duplicateDomain:R,originalDomain:(y=x.domain)!==null&&y!==void 0?y:W,isCategorical:m,layout:h})))},{})},VMe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=e.layout,d=e.children,f=Kw(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=f.length,g=Dz(h,s),v=-1;return r.reduce(function(y,x){var b=x.type.defaultProps!==void 0?ee(ee({},x.type.defaultProps),x.props):x.props,w=b[a],N=fH("number");if(!y[w]){v++;var S;return g?S=Cx(0,m):l&&l[w]&&l[w].hasStack?(S=Bz(l[w].stackGroups,c,u),S=xE(d,S,w,s)):(S=Rj(N,Mz(f,r.filter(function(P){var j,_,k=a in P.props?P.props[a]:(j=P.type.defaultProps)===null||j===void 0?void 0:j[a],E="hide"in P.props?P.props.hide:(_=P.type.defaultProps)===null||_===void 0?void 0:_.hide;return k===w&&!E}),"number",h),i.defaultProps.allowDataOverflow),S=xE(d,S,w,s)),ee(ee({},y),{},We({},w,ee(ee({axisType:s},i.defaultProps),{},{hide:!0,orientation:pi(MMe,"".concat(s,".").concat(v%2),null),domain:S,originalDomain:N,isCategorical:g,layout:h})))}return y},{})},BMe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=e.children,d="".concat(i,"Id"),f=gi(h,s),m={};return f&&f.length?m=FMe(e,{axes:f,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(m=VMe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},UMe=function(e){var n=No(e),r=xa(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:XA(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:fx(n,r)}},n6=function(e){var n=e.children,r=e.defaultShowTooltip,i=oi(n,Zd),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},zMe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Na(n&&n.type);return r&&r.indexOf("Bar")>=0})},r6=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WMe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,h=r.height,d=r.children,f=r.margin||{},m=oi(d,Zd),g=oi(d,Yu),v=Object.keys(c).reduce(function(S,P){var j=c[P],_=j.orientation;return!j.mirror&&!j.hide?ee(ee({},S),{},We({},_,S[_]+j.width)):S},{left:f.left||0,right:f.right||0}),y=Object.keys(a).reduce(function(S,P){var j=a[P],_=j.orientation;return!j.mirror&&!j.hide?ee(ee({},S),{},We({},_,pi(S,"".concat(_))+j.height)):S},{top:f.top||0,bottom:f.bottom||0}),x=ee(ee({},y),v),b=x.bottom;m&&(x.bottom+=m.props.height||Zd.defaultProps.height),g&&n&&(x=VCe(x,i,r,n));var w=u-x.left-x.right,N=h-x.top-x.bottom;return ee(ee({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(N,0)})},HMe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Og=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,f=function(y,x){var b=x.graphicalItems,w=x.stackGroups,N=x.offset,S=x.updateId,P=x.dataStartIndex,j=x.dataEndIndex,_=y.barSize,k=y.layout,E=y.barGap,A=y.barCategoryGap,I=y.maxBarSize,R=r6(k),$=R.numericAxisName,W=R.cateAxisName,H=zMe(b),M=[];return b.forEach(function(F,U){var X=Kw(y.data,{graphicalItems:[F],dataStartIndex:P,dataEndIndex:j}),z=F.type.defaultProps!==void 0?ee(ee({},F.type.defaultProps),F.props):F.props,G=z.dataKey,q=z.maxBarSize,ae=z["".concat($,"Id")],ye=z["".concat(W,"Id")],ie={},B=c.reduce(function(de,ve){var De=x["".concat(ve.axisType,"Map")],Le=z["".concat(ve.axisType,"Id")];De&&De[Le]||ve.axisType==="zAxis"||Rc();var $e=De[Le];return ee(ee({},de),{},We(We({},ve.axisType,$e),"".concat(ve.axisType,"Ticks"),xa($e)))},ie),Q=B[W],Z=B["".concat(W,"Ticks")],ue=w&&w[ae]&&w[ae].hasStack&&XCe(F,w[ae].stackGroups),pe=Na(F.type).indexOf("Bar")>=0,V=fx(Q,Z),le=[],we=H&&LCe({barSize:_,stackGroups:w,totalSize:HMe(B,W)});if(pe){var Ae,tt,Xt=Ge(q)?I:q,me=(Ae=(tt=fx(Q,Z,!0))!==null&&tt!==void 0?tt:Xt)!==null&&Ae!==void 0?Ae:0;le=FCe({barGap:E,barCategoryGap:A,bandSize:me!==V?me:V,sizeList:we[ye],maxBarSize:Xt}),me!==V&&(le=le.map(function(de){return ee(ee({},de),{},{position:ee(ee({},de.position),{},{offset:de.position.offset-me/2})})}))}var be=F&&F.type&&F.type.getComposedData;be&&M.push({props:ee(ee({},be(ee(ee({},B),{},{displayedData:X,props:y,dataKey:G,item:F,bandSize:V,barPosition:le,offset:N,stackedData:ue,layout:k,dataStartIndex:P,dataEndIndex:j}))),{},We(We(We({key:F.key||"item-".concat(U)},$,B[$]),W,B[W]),"animationId",S)),childIndex:Fpe(F,y.children),item:F})}),M},m=function(y,x){var b=y.props,w=y.dataStartIndex,N=y.dataEndIndex,S=y.updateId;if(!h4({props:b}))return null;var P=b.children,j=b.layout,_=b.stackOffset,k=b.data,E=b.reverseStackOrder,A=r6(j),I=A.numericAxisName,R=A.cateAxisName,$=gi(P,r),W=YCe(k,$,"".concat(I,"Id"),"".concat(R,"Id"),_,E),H=c.reduce(function(z,G){var q="".concat(G.axisType,"Map");return ee(ee({},z),{},We({},q,BMe(b,ee(ee({},G),{},{graphicalItems:$,stackGroups:G.axisType===I&&W,dataStartIndex:w,dataEndIndex:N}))))},{}),M=WMe(ee(ee({},H),{},{props:b,graphicalItems:$}),x==null?void 0:x.legendBBox);Object.keys(H).forEach(function(z){H[z]=h(b,H[z],M,z.replace("Map",""),n)});var F=H["".concat(R,"Map")],U=UMe(F),X=f(b,ee(ee({},H),{},{dataStartIndex:w,dataEndIndex:N,updateId:S,graphicalItems:$,stackGroups:W,offset:M}));return ee(ee({formattedGraphicalItems:X,graphicalItems:$,offset:M,stackGroups:W},U),H)},g=function(v){function y(x){var b,w,N;return NMe(this,y),N=CMe(this,y,[x]),We(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(N,"accessibilityManager",new uMe),We(N,"handleLegendBBoxUpdate",function(S){if(S){var P=N.state,j=P.dataStartIndex,_=P.dataEndIndex,k=P.updateId;N.setState(ee({legendBBox:S},m({props:N.props,dataStartIndex:j,dataEndIndex:_,updateId:k},ee(ee({},N.state),{},{legendBBox:S}))))}}),We(N,"handleReceiveSyncEvent",function(S,P,j){if(N.props.syncId===S){if(j===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(P)}}),We(N,"handleBrushChange",function(S){var P=S.startIndex,j=S.endIndex;if(P!==N.state.dataStartIndex||j!==N.state.dataEndIndex){var _=N.state.updateId;N.setState(function(){return ee({dataStartIndex:P,dataEndIndex:j},m({props:N.props,dataStartIndex:P,dataEndIndex:j,updateId:_},N.state))}),N.triggerSyncEvent({dataStartIndex:P,dataEndIndex:j})}}),We(N,"handleMouseEnter",function(S){var P=N.getMouseInfo(S);if(P){var j=ee(ee({},P),{},{isTooltipActive:!0});N.setState(j),N.triggerSyncEvent(j);var _=N.props.onMouseEnter;Ve(_)&&_(j,S)}}),We(N,"triggeredAfterMouseMove",function(S){var P=N.getMouseInfo(S),j=P?ee(ee({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(j),N.triggerSyncEvent(j);var _=N.props.onMouseMove;Ve(_)&&_(j,S)}),We(N,"handleItemMouseEnter",function(S){N.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),We(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),We(N,"handleMouseMove",function(S){S.persist(),N.throttleTriggeredAfterMouseMove(S)}),We(N,"handleMouseLeave",function(S){N.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var j=N.props.onMouseLeave;Ve(j)&&j(P,S)}),We(N,"handleOuterEvent",function(S){var P=Lpe(S),j=pi(N.props,"".concat(P));if(P&&Ve(j)){var _,k;/.*touch.*/i.test(P)?k=N.getMouseInfo(S.changedTouches[0]):k=N.getMouseInfo(S),j((_=k)!==null&&_!==void 0?_:{},S)}}),We(N,"handleClick",function(S){var P=N.getMouseInfo(S);if(P){var j=ee(ee({},P),{},{isTooltipActive:!0});N.setState(j),N.triggerSyncEvent(j);var _=N.props.onClick;Ve(_)&&_(j,S)}}),We(N,"handleMouseDown",function(S){var P=N.props.onMouseDown;if(Ve(P)){var j=N.getMouseInfo(S);P(j,S)}}),We(N,"handleMouseUp",function(S){var P=N.props.onMouseUp;if(Ve(P)){var j=N.getMouseInfo(S);P(j,S)}}),We(N,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),We(N,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseDown(S.changedTouches[0])}),We(N,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseUp(S.changedTouches[0])}),We(N,"triggerSyncEvent",function(S){N.props.syncId!==void 0&&H_.emit(G_,N.props.syncId,S,N.eventEmitterSymbol)}),We(N,"applySyncEvent",function(S){var P=N.props,j=P.layout,_=P.syncMethod,k=N.state.updateId,E=S.dataStartIndex,A=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)N.setState(ee({dataStartIndex:E,dataEndIndex:A},m({props:N.props,dataStartIndex:E,dataEndIndex:A,updateId:k},N.state)));else if(S.activeTooltipIndex!==void 0){var I=S.chartX,R=S.chartY,$=S.activeTooltipIndex,W=N.state,H=W.offset,M=W.tooltipTicks;if(!H)return;if(typeof _=="function")$=_(M,S);else if(_==="value"){$=-1;for(var F=0;F<M.length;F++)if(M[F].value===S.activeLabel){$=F;break}}var U=ee(ee({},H),{},{x:H.left,y:H.top}),X=Math.min(I,U.x+U.width),z=Math.min(R,U.y+U.height),G=M[$]&&M[$].value,q=_E(N.state,N.props.data,$),ae=M[$]?{x:j==="horizontal"?M[$].coordinate:X,y:j==="horizontal"?z:M[$].coordinate}:hH;N.setState(ee(ee({},S),{},{activeLabel:G,activeCoordinate:ae,activePayload:q,activeTooltipIndex:$}))}else N.setState(S)}),We(N,"renderCursor",function(S){var P,j=N.state,_=j.isTooltipActive,k=j.activeCoordinate,E=j.activePayload,A=j.offset,I=j.activeTooltipIndex,R=j.tooltipAxisBandSize,$=N.getTooltipEventType(),W=(P=S.props.active)!==null&&P!==void 0?P:_,H=N.props.layout,M=S.key||"_recharts-cursor";return D.createElement(yMe,{key:M,activeCoordinate:k,activePayload:E,activeTooltipIndex:I,chartName:n,element:S,isActive:W,layout:H,offset:A,tooltipAxisBandSize:R,tooltipEventType:$})}),We(N,"renderPolarAxis",function(S,P,j){var _=pi(S,"type.axisType"),k=pi(N.state,"".concat(_,"Map")),E=S.type.defaultProps,A=E!==void 0?ee(ee({},E),S.props):S.props,I=k&&k[A["".concat(_,"Id")]];return C.cloneElement(S,ee(ee({},I),{},{className:He(_,I.className),key:S.key||"".concat(P,"-").concat(j),ticks:xa(I,!0)}))}),We(N,"renderPolarGrid",function(S){var P=S.props,j=P.radialLines,_=P.polarAngles,k=P.polarRadius,E=N.state,A=E.radiusAxisMap,I=E.angleAxisMap,R=No(A),$=No(I),W=$.cx,H=$.cy,M=$.innerRadius,F=$.outerRadius;return C.cloneElement(S,{polarAngles:Array.isArray(_)?_:xa($,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(k)?k:xa(R,!0).map(function(U){return U.coordinate}),cx:W,cy:H,innerRadius:M,outerRadius:F,key:S.key||"polar-grid",radialLines:j})}),We(N,"renderLegend",function(){var S=N.state.formattedGraphicalItems,P=N.props,j=P.children,_=P.width,k=P.height,E=N.props.margin||{},A=_-(E.left||0)-(E.right||0),I=Oz({children:j,formattedGraphicalItems:S,legendWidth:A,legendContent:u});if(!I)return null;var R=I.item,$=ZD(I,vMe);return C.cloneElement(R,ee(ee({},$),{},{chartWidth:_,chartHeight:k,margin:E,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),We(N,"renderTooltip",function(){var S,P=N.props,j=P.children,_=P.accessibilityLayer,k=oi(j,jr);if(!k)return null;var E=N.state,A=E.isTooltipActive,I=E.activeCoordinate,R=E.activePayload,$=E.activeLabel,W=E.offset,H=(S=k.props.active)!==null&&S!==void 0?S:A;return C.cloneElement(k,{viewBox:ee(ee({},W),{},{x:W.left,y:W.top}),active:H,label:$,payload:H?R:[],coordinate:I,accessibilityLayer:_})}),We(N,"renderBrush",function(S){var P=N.props,j=P.margin,_=P.data,k=N.state,E=k.offset,A=k.dataStartIndex,I=k.dataEndIndex,R=k.updateId;return C.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Vy(N.handleBrushChange,S.props.onChange),data:_,x:ge(S.props.x)?S.props.x:E.left,y:ge(S.props.y)?S.props.y:E.top+E.height+E.brushBottom-(j.bottom||0),width:ge(S.props.width)?S.props.width:E.width,startIndex:A,endIndex:I,updateId:"brush-".concat(R)})}),We(N,"renderReferenceElement",function(S,P,j){if(!S)return null;var _=N,k=_.clipPathId,E=N.state,A=E.xAxisMap,I=E.yAxisMap,R=E.offset,$=S.type.defaultProps||{},W=S.props,H=W.xAxisId,M=H===void 0?$.xAxisId:H,F=W.yAxisId,U=F===void 0?$.yAxisId:F;return C.cloneElement(S,{key:S.key||"".concat(P,"-").concat(j),xAxis:A[M],yAxis:I[U],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:k})}),We(N,"renderActivePoints",function(S){var P=S.item,j=S.activePoint,_=S.basePoint,k=S.childIndex,E=S.isRange,A=[],I=P.props.key,R=P.item.type.defaultProps!==void 0?ee(ee({},P.item.type.defaultProps),P.item.props):P.item.props,$=R.activeDot,W=R.dataKey,H=ee(ee({index:k,dataKey:W,cx:j.x,cy:j.y,r:4,fill:ST(P.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Me($,!1)),Fv($));return A.push(y.renderActiveDot($,H,"".concat(I,"-activePoint-").concat(k))),_?A.push(y.renderActiveDot($,ee(ee({},H),{},{cx:_.x,cy:_.y}),"".concat(I,"-basePoint-").concat(k))):E&&A.push(null),A}),We(N,"renderGraphicChild",function(S,P,j){var _=N.filterFormatItem(S,P,j);if(!_)return null;var k=N.getTooltipEventType(),E=N.state,A=E.isTooltipActive,I=E.tooltipAxis,R=E.activeTooltipIndex,$=E.activeLabel,W=N.props.children,H=oi(W,jr),M=_.props,F=M.points,U=M.isRange,X=M.baseLine,z=_.item.type.defaultProps!==void 0?ee(ee({},_.item.type.defaultProps),_.item.props):_.item.props,G=z.activeDot,q=z.hide,ae=z.activeBar,ye=z.activeShape,ie=!!(!q&&A&&H&&(G||ae||ye)),B={};k!=="axis"&&H&&H.props.trigger==="click"?B={onClick:Vy(N.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(B={onMouseLeave:Vy(N.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Vy(N.handleItemMouseEnter,S.props.onMouseEnter)});var Q=C.cloneElement(S,ee(ee({},_.props),B));function Z(ve){return typeof I.dataKey=="function"?I.dataKey(ve.payload):null}if(ie)if(R>=0){var ue,pe;if(I.dataKey&&!I.allowDuplicatedCategory){var V=typeof I.dataKey=="function"?Z:"payload.".concat(I.dataKey.toString());ue=Lv(F,V,$),pe=U&&X&&Lv(X,V,$)}else ue=F==null?void 0:F[R],pe=U&&X&&X[R];if(ye||ae){var le=S.props.activeIndex!==void 0?S.props.activeIndex:R;return[C.cloneElement(S,ee(ee(ee({},_.props),B),{},{activeIndex:le})),null,null]}if(!Ge(ue))return[Q].concat(uh(N.renderActivePoints({item:_,activePoint:ue,basePoint:pe,childIndex:R,isRange:U})))}else{var we,Ae=(we=N.getItemByXY(N.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:Q},tt=Ae.graphicalItem,Xt=tt.item,me=Xt===void 0?S:Xt,be=tt.childIndex,de=ee(ee(ee({},_.props),B),{},{activeIndex:be});return[C.cloneElement(me,de),null,null]}return U?[Q,null,null]:[Q,null]}),We(N,"renderCustomized",function(S,P,j){return C.cloneElement(S,ee(ee({key:"recharts-customized-".concat(j)},N.props),N.state))}),We(N,"renderMap",{CartesianGrid:{handler:Hy,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Hy},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Hy},YAxis:{handler:Hy},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:qc("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=IU(N.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),N.state={},N}return kMe(y,v),EMe(y,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,N=b.data,S=b.height,P=b.layout,j=oi(w,jr);if(j){var _=j.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,E=_E(this.state,N,_,k),A=this.state.tooltipTicks[_].coordinate,I=(this.state.offset.top+S)/2,R=P==="horizontal",$=R?{x:A,y:I}:{y:A,x:I},W=this.state.formattedGraphicalItems.find(function(M){var F=M.item;return F.type.name==="Scatter"});W&&($=ee(ee({},$),W.props.points[_].tooltipPosition),E=W.props.points[_].tooltipPayload);var H={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:k,activePayload:E,activeCoordinate:$};this.setState(H),this.renderCursor(j),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var N,S;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){YN([oi(b.children,jr)],[oi(this.props.children,jr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=oi(this.props.children,jr);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,N=w.getBoundingClientRect(),S=dNe(N),P={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},j=N.width/w.offsetWidth||1,_=this.inRange(P.chartX,P.chartY,j);if(!_)return null;var k=this.state,E=k.xAxisMap,A=k.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&E&&A){var R=No(E).scale,$=No(A).scale,W=R&&R.invert?R.invert(P.chartX):null,H=$&&$.invert?$.invert(P.chartY):null;return ee(ee({},P),{},{xValue:W,yValue:H})}var M=t6(this.state,this.props.data,this.props.layout,_);return M?ee(ee({},P),M):null}},{key:"inRange",value:function(b,w){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,P=b/N,j=w/N;if(S==="horizontal"||S==="vertical"){var _=this.state.offset,k=P>=_.left&&P<=_.left+_.width&&j>=_.top&&j<=_.top+_.height;return k?{x:P,y:j}:null}var E=this.state,A=E.angleAxisMap,I=E.radiusAxisMap;if(A&&I){var R=No(A);return wM({x:P,y:j},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),N=oi(b,jr),S={};N&&w==="axis"&&(N.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var P=Fv(this.props,this.handleOuterEvent);return ee(ee({},P),S)}},{key:"addListener",value:function(){H_.on(G_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){H_.removeListener(G_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,N){for(var S=this.state.formattedGraphicalItems,P=0,j=S.length;P<j;P++){var _=S[P];if(_.item===b||_.props.key===b.key||w===Na(_.item.type)&&N===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,N=w.left,S=w.top,P=w.height,j=w.width;return D.createElement("defs",null,D.createElement("clipPath",{id:b},D.createElement("rect",{x:N,y:S,height:P,width:j})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,N){var S=JD(N,2),P=S[0],j=S[1];return ee(ee({},w),{},We({},P,j.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,N){var S=JD(N,2),P=S[0],j=S[1];return ee(ee({},w),{},We({},P,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,N=w.formattedGraphicalItems,S=w.activeItem;if(N&&N.length)for(var P=0,j=N.length;P<j;P++){var _=N[P],k=_.props,E=_.item,A=E.type.defaultProps!==void 0?ee(ee({},E.type.defaultProps),E.props):E.props,I=Na(E.type);if(I==="Bar"){var R=(k.data||[]).find(function(M){return Mke(b,M)});if(R)return{graphicalItem:_,payload:R}}else if(I==="RadialBar"){var $=(k.data||[]).find(function(M){return wM(b,M)});if($)return{graphicalItem:_,payload:$}}else if(Bw(_,S)||Uw(_,S)||Fp(_,S)){var W=OIe({graphicalItem:_,activeTooltipItem:S,itemData:A.data}),H=A.activeIndex===void 0?W:A.activeIndex;return{graphicalItem:ee(ee({},_),{},{childIndex:H}),payload:Fp(_,S)?A.data[W]:_.props.data[W]}}}return null}},{key:"render",value:function(){var b=this;if(!h4(this))return null;var w=this.props,N=w.children,S=w.className,P=w.width,j=w.height,_=w.style,k=w.compact,E=w.title,A=w.desc,I=ZD(w,xMe),R=Me(I,!1);if(k)return D.createElement(ID,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(XN,Nm({},R,{width:P,height:j,title:E,desc:A}),this.renderClipPath(),m4(N,this.renderMap)));if(this.props.accessibilityLayer){var $,W;R.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,R.role=(W=this.props.role)!==null&&W!==void 0?W:"application",R.onKeyDown=function(M){b.accessibilityManager.keyboardEvent(M)},R.onFocus=function(){b.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return D.createElement(ID,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Nm({className:He("recharts-wrapper",S),style:ee({position:"relative",cursor:"default",width:P,height:j},_)},H,{ref:function(F){b.container=F}}),D.createElement(XN,Nm({},R,{width:P,height:j,title:E,desc:A,style:DMe}),this.renderClipPath(),m4(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);return We(g,"displayName",n),We(g,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),We(g,"getDerivedStateFromProps",function(v,y){var x=v.dataKey,b=v.data,w=v.children,N=v.width,S=v.height,P=v.layout,j=v.stackOffset,_=v.margin,k=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var A=n6(v);return ee(ee(ee({},A),{},{updateId:0},m(ee(ee({props:v},A),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:b,prevWidth:N,prevHeight:S,prevLayout:P,prevStackOffset:j,prevMargin:_,prevChildren:w})}if(x!==y.prevDataKey||b!==y.prevData||N!==y.prevWidth||S!==y.prevHeight||P!==y.prevLayout||j!==y.prevStackOffset||!Ku(_,y.prevMargin)){var I=n6(v),R={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=ee(ee({},t6(y,b,P)),{},{updateId:y.updateId+1}),W=ee(ee(ee({},I),R),$);return ee(ee(ee({},W),m(ee({props:v},W),y)),{},{prevDataKey:x,prevData:b,prevWidth:N,prevHeight:S,prevLayout:P,prevStackOffset:j,prevMargin:_,prevChildren:w})}if(!YN(w,y.prevChildren)){var H,M,F,U,X=oi(w,Zd),z=X&&(H=(M=X.props)===null||M===void 0?void 0:M.startIndex)!==null&&H!==void 0?H:k,G=X&&(F=(U=X.props)===null||U===void 0?void 0:U.endIndex)!==null&&F!==void 0?F:E,q=z!==k||G!==E,ae=!Ge(b),ye=ae&&!q?y.updateId:y.updateId+1;return ee(ee({updateId:ye},m(ee(ee({props:v},y),{},{updateId:ye,dataStartIndex:z,dataEndIndex:G}),y)),{},{prevChildren:w,dataStartIndex:z,dataEndIndex:G})}return null}),We(g,"renderActiveDot",function(v,y,x){var b;return C.isValidElement(v)?b=C.cloneElement(v,y):Ve(v)?b=v(y):b=D.createElement(Hh,y),D.createElement(et,{className:"recharts-active-dot",key:x},b)}),function(y){return D.createElement(g,y)}},MT=Og({chartName:"LineChart",GraphicalChild:Ci,axisComponents:[{axisType:"xAxis",AxisComp:eo},{axisType:"yAxis",AxisComp:to}],formatAxisMap:jT}),GMe=Og({chartName:"BarChart",GraphicalChild:Qc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:eo},{axisType:"yAxis",AxisComp:to}],formatAxisMap:jT}),qMe=Og({chartName:"PieChart",GraphicalChild:Za,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qh},{axisType:"radiusAxis",AxisComp:Gh}],formatAxisMap:Hz,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),KMe=Og({chartName:"RadarChart",GraphicalChild:Pg,axisComponents:[{axisType:"angleAxis",AxisComp:qh},{axisType:"radiusAxis",AxisComp:Gh}],formatAxisMap:Hz,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),YMe=Og({chartName:"AreaChart",GraphicalChild:za,axisComponents:[{axisType:"xAxis",AxisComp:eo},{axisType:"yAxis",AxisComp:to}],formatAxisMap:jT});const QMe=()=>{const[t,e]=C.useState("patagonia"),[n,r]=C.useState(""),i={patagonia:{name:"Patagonia",logo:"",industry:"Outdoor Apparel",founded:1973,headquarters:"Ventura, CA",employees:"3,000+",sustainability:{overall:94,carbon:96,water:92,waste:95,energy:93,ethics:97},trend:"+2",initiatives:["1% for the Planet founding member","100% renewable energy in facilities","Fair Trade Certified products","Regenerative agriculture support","Circular economy practices"],certifications:["B Corp","Fair Trade","Bluesign","1% for the Planet"],products:145,avgProductScore:89,description:"Leading outdoor clothing company with strong environmental and social mission.",recentNews:["Commits to carbon neutrality by 2025","Launches regenerative cotton initiative","Donates $1M to climate action groups"]},unilever:{name:"Unilever",logo:"",industry:"Consumer Goods",founded:1929,headquarters:"London, UK",employees:"190,000+",sustainability:{overall:76,carbon:74,water:78,waste:75,energy:77,ethics:79},trend:"-1",initiatives:["Sustainable Living Plan","Zero waste to landfill factories","Sustainable sourcing program","Clean water access projects","Gender equality initiatives"],certifications:["Rainforest Alliance","Fair Trade","RSPO"],products:2847,avgProductScore:71,description:"Global consumer goods company transforming business for sustainability.",recentNews:["Reduces plastic packaging by 15%","Expands sustainable sourcing","Invests in clean energy projects"]}},s=i[t],[a,l]=C.useState([]),{currentUser:c}=_n(),u=async()=>{if(!c)return;const m=Re(Ne,"users",c.uid);try{a.includes(t)?await un(m,{following:Ev(t)}):await un(m,{following:dm(t)})}catch(g){console.error("Error toggling follow:",g)}};C.useEffect(()=>{if(!c)return;const m=Re(Ne,"users",c.uid),g=Or(m,v=>{if(v.exists()){const y=v.data();l(y.following||[])}else l([])});return()=>g()},[c]);const h=c&&a.includes(t),d=[{month:"Jan",score:91},{month:"Feb",score:92},{month:"Mar",score:93},{month:"Apr",score:94},{month:"May",score:93},{month:"Jun",score:94}],f=[{category:"Carbon",score:s.sustainability.carbon,color:"#22c55e"},{category:"Water",score:s.sustainability.water,color:"#3b82f6"},{category:"Waste",score:s.sustainability.waste,color:"#f59e0b"},{category:"Energy",score:s.sustainability.energy,color:"#8b5cf6"},{category:"Ethics",score:s.sustainability.ethics,color:"#ef4444"}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(te,{className:"bg-white/60 backdrop-blur-sm border-green-100",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(_Y,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{children:"Company Sustainability Profiles"})]})}),o.jsxs(ce,{children:[o.jsxs("div",{className:"flex space-x-2 mb-4",children:[o.jsx(st,{placeholder:"Search companies...",value:n,onChange:m=>r(m.target.value),className:"flex-1"}),o.jsx(Y,{children:o.jsx(Kr,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(i).map(([m,g])=>o.jsx(te,{className:`cursor-pointer transition-all hover:shadow-lg ${t===m?"ring-2 ring-blue-500":""}`,onClick:()=>e(m),children:o.jsxs(ce,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:g.logo}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:g.name}),o.jsx("p",{className:"text-sm text-gray-600",children:g.industry})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-lg font-bold text-green-600",children:g.sustainability.overall}),o.jsxs("div",{className:"flex items-center space-x-1",children:[g.trend.startsWith("+")?o.jsx(vr,{className:"w-3 h-3 text-green-500"}):o.jsx(X0,{className:"w-3 h-3 text-red-500"}),o.jsx("span",{className:"text-xs",children:g.trend})]})]})]}),o.jsx(Ht,{value:g.sustainability.overall,className:"h-2"})]})},m))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(te,{className:"lg:col-span-2 bg-white/60 backdrop-blur-sm border-green-100",children:[o.jsx(je,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-3xl",children:s.logo}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-2xl",children:s.name}),o.jsx("p",{className:"text-gray-600",children:s.industry})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-3xl font-bold text-green-600",children:s.sustainability.overall}),o.jsx(ne,{className:"bg-green-500 text-white",children:"Industry Leader"})]})]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-end",children:o.jsx(Y,{onClick:u,disabled:!c,variant:h?"outline":"default",children:h?"Following":"Follow Company"})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Founded"}),o.jsx("p",{className:"font-medium",children:s.founded})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Headquarters"}),o.jsx("p",{className:"font-medium",children:s.headquarters})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Employees"}),o.jsx("p",{className:"font-medium",children:s.employees})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Products Analyzed"}),o.jsx("p",{className:"font-medium",children:s.products})]})]}),o.jsx("p",{className:"text-gray-700",children:s.description}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Sustainability Breakdown"}),o.jsx(Pc,{width:"100%",height:200,children:o.jsxs(GMe,{data:f,children:[o.jsx(Ig,{strokeDasharray:"3 3"}),o.jsx(eo,{dataKey:"category"}),o.jsx(to,{domain:[0,100]}),o.jsx(jr,{formatter:m=>[`${m}%`,"Score"],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e5e7eb",borderRadius:"8px"}}),o.jsx(Qc,{dataKey:"score",fill:"#22c55e",radius:[4,4,0,0]})]})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Certifications"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:s.certifications.map(m=>o.jsxs(ne,{variant:"outline",className:"border-green-200 text-green-700",children:[o.jsx(Yn,{className:"w-3 h-3 mr-1"}),m]},m))})]})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs(te,{className:"bg-white/60 backdrop-blur-sm border-green-100",children:[o.jsx(ce,{className:"p-4 flex justify-center"})," "]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(te,{className:"bg-white/60 backdrop-blur-sm border-green-100",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg",children:"Performance Trend"})}),o.jsx(ce,{children:o.jsx(Pc,{width:"100%",height:150,children:o.jsxs(MT,{data:d,children:[o.jsx(Ci,{type:"monotone",dataKey:"score",stroke:"#22c55e",strokeWidth:3,dot:{fill:"#22c55e",strokeWidth:2,r:4}}),o.jsx(jr,{formatter:m=>[`${m}%`,"Score"],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})})})]}),o.jsxs(te,{className:"bg-white/60 backdrop-blur-sm border-green-100",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg",children:"Key Initiatives"})}),o.jsx(ce,{children:o.jsx("ul",{className:"space-y-2",children:s.initiatives.map((m,g)=>o.jsxs("li",{className:"text-sm flex items-start space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-1.5 flex-shrink-0"}),o.jsx("span",{children:m})]},g))})})]}),o.jsxs(te,{className:"bg-white/60 backdrop-blur-sm border-green-100",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg",children:"Recent News"})}),o.jsx(ce,{children:o.jsx("ul",{className:"space-y-3",children:s.recentNews.map((m,g)=>o.jsx("li",{className:"text-sm p-2 bg-blue-50 rounded border-l-4 border-blue-400",children:m},g))})})]})]})]})]})},XMe=({product:t})=>{console.log("ProductAnalysis component rendered, product:",t);const[e,n]=C.useState("6months"),[r,i]=C.useState("overview"),{currentUser:s}=C.useContext(pA);if(C.useEffect(()=>{if(s&&t){const g=s.uid,v=Dce(Qce,`users/${g}/productAnalysis/${t.id}`);Lce(v,t).then(()=>{console.log(`Product analysis for ${t.name} saved successfully for user ${g}`)}).catch(y=>{console.error("Error saving product analysis:",y)})}},[s,t]),!t)return console.log("No product provided, showing empty state"),o.jsx(te,{className:"bg-white/95 backdrop-blur-sm border-slate-200/50 shadow-xl rounded-3xl overflow-hidden",children:o.jsxs(ce,{className:"p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-slate-100 to-gray-100 rounded-full flex items-center justify-center",children:o.jsx(ka,{className:"w-12 h-12 text-slate-400"})}),o.jsx("h3",{className:"text-2xl font-bold text-slate-600 mb-3",children:"No Product Selected"}),o.jsx("p",{className:"text-slate-500 mb-6 max-w-md mx-auto",children:"Scan a product or search our database to see detailed sustainability analysis and insights."}),o.jsx(Y,{className:"bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 px-6 py-3 rounded-2xl",children:"Scan Product"})]})});console.log("Product data available, rendering full analysis");const l={"3months":[{month:"Mar",overall:t.sustainability.overall,carbon:t.sustainability.carbon,water:t.sustainability.water,waste:t.sustainability.waste,energy:t.sustainability.energy,ethics:t.sustainability.ethics},{month:"Apr",overall:t.sustainability.overall+1,carbon:t.sustainability.carbon+1,water:t.sustainability.water+1,waste:t.sustainability.waste+1,energy:t.sustainability.energy+1,ethics:t.sustainability.ethics+1},{month:"May",overall:t.sustainability.overall+2,carbon:t.sustainability.carbon+1,water:t.sustainability.water+2,waste:t.sustainability.waste+2,energy:t.sustainability.energy+2,ethics:t.sustainability.ethics+2}],"6months":[{month:"Jan",overall:t.sustainability.overall-5,carbon:t.sustainability.carbon-3,water:t.sustainability.water-3,waste:t.sustainability.waste-4,energy:t.sustainability.energy-3,ethics:t.sustainability.ethics-3},{month:"Feb",overall:t.sustainability.overall-4,carbon:t.sustainability.carbon-2,water:t.sustainability.water-2,waste:t.sustainability.waste-3,energy:t.sustainability.energy-2,ethics:t.sustainability.ethics-2},{month:"Mar",overall:t.sustainability.overall-2,carbon:t.sustainability.carbon-1,water:t.sustainability.water,waste:t.sustainability.waste-2,energy:t.sustainability.energy,ethics:t.sustainability.ethics},{month:"Apr",overall:t.sustainability.overall-1,carbon:t.sustainability.carbon,water:t.sustainability.water+1,waste:t.sustainability.waste-1,energy:t.sustainability.energy+1,ethics:t.sustainability.ethics+1},{month:"May",overall:t.sustainability.overall,carbon:t.sustainability.carbon+1,water:t.sustainability.water+2,waste:t.sustainability.waste,energy:t.sustainability.energy+2,ethics:t.sustainability.ethics+2},{month:"Jun",overall:t.sustainability.overall+1,carbon:t.sustainability.carbon+1,water:t.sustainability.water+2,waste:t.sustainability.waste+1,energy:t.sustainability.energy+2,ethics:t.sustainability.ethics+2}],"1year":[{month:"Jul 23",overall:t.sustainability.overall-9,carbon:t.sustainability.carbon-6,water:t.sustainability.water-7,waste:t.sustainability.waste-8,energy:t.sustainability.energy-6,ethics:t.sustainability.ethics-7},{month:"Aug 23",overall:t.sustainability.overall-8,carbon:t.sustainability.carbon-5,water:t.sustainability.water-6,waste:t.sustainability.waste-7,energy:t.sustainability.energy-5,ethics:t.sustainability.ethics-6},{month:"Sep 23",overall:t.sustainability.overall-7,carbon:t.sustainability.carbon-4,water:t.sustainability.water-5,waste:t.sustainability.waste-6,energy:t.sustainability.energy-4,ethics:t.sustainability.ethics-5},{month:"Oct 23",overall:t.sustainability.overall-6,carbon:t.sustainability.carbon-3,water:t.sustainability.water-4,waste:t.sustainability.waste-5,energy:t.sustainability.energy-3,ethics:t.sustainability.ethics-4},{month:"Nov 23",overall:t.sustainability.overall-5,carbon:t.sustainability.carbon-2,water:t.sustainability.water-3,waste:t.sustainability.waste-4,energy:t.sustainability.energy-2,ethics:t.sustainability.ethics-3},{month:"Dec 23",overall:t.sustainability.overall-4,carbon:t.sustainability.carbon-1,water:t.sustainability.water-2,waste:t.sustainability.waste-3,energy:t.sustainability.energy-1,ethics:t.sustainability.ethics-2},{month:"Jan 24",overall:t.sustainability.overall-3,carbon:t.sustainability.carbon,water:t.sustainability.water-1,waste:t.sustainability.waste-2,energy:t.sustainability.energy,ethics:t.sustainability.ethics-1},{month:"Feb 24",overall:t.sustainability.overall-2,carbon:t.sustainability.carbon+1,water:t.sustainability.water,waste:t.sustainability.waste-1,energy:t.sustainability.energy+1,ethics:t.sustainability.ethics},{month:"Mar 24",overall:t.sustainability.overall-1,carbon:t.sustainability.carbon+2,water:t.sustainability.water+1,waste:t.sustainability.waste,energy:t.sustainability.energy+2,ethics:t.sustainability.ethics+1},{month:"Apr 24",overall:t.sustainability.overall,carbon:t.sustainability.carbon+3,water:t.sustainability.water+2,waste:t.sustainability.waste+1,energy:t.sustainability.energy+3,ethics:t.sustainability.ethics+2},{month:"May 24",overall:t.sustainability.overall+1,carbon:t.sustainability.carbon+4,water:t.sustainability.water+3,waste:t.sustainability.waste+2,energy:t.sustainability.energy+4,ethics:t.sustainability.ethics+3},{month:"Jun 24",overall:t.sustainability.overall+2,carbon:t.sustainability.carbon+5,water:t.sustainability.water+4,waste:t.sustainability.waste+3,energy:t.sustainability.energy+5,ethics:t.sustainability.ethics+4}]}[e],c=[{subject:"Carbon",A:t.sustainability.carbon,fullMark:100},{subject:"Water",A:t.sustainability.water,fullMark:100},{subject:"Waste",A:t.sustainability.waste,fullMark:100},{subject:"Energy",A:t.sustainability.energy,fullMark:100},{subject:"Ethics",A:t.sustainability.ethics,fullMark:100}],h=$d.slice(0,4).map(g=>({name:g.brand,score:g.sustainabilityScore,trend:Math.random()>.5?`+${Math.floor(Math.random()*3)+1}`:`-${Math.floor(Math.random()*2)+1}`})),d=[{category:"Packaging",impact:"High",suggestion:t.packaging.recyclable?"Explore compostable packaging options":"Switch to recyclable packaging materials",potential:"+8 points",status:"recommended"},{category:"Supply Chain",impact:"Medium",suggestion:"Implement local sourcing for 40% of materials",potential:"+5 points",status:"in-progress"},{category:"Manufacturing",impact:"High",suggestion:t.energySource.includes("Renewable")?"Achieve 100% renewable energy":"Increase renewable energy usage to 80%",potential:"+12 points",status:"planned"},{category:"Transportation",impact:"Low",suggestion:"Optimize logistics routes and packaging density",potential:"+2 points",status:"completed"}],f=g=>{switch(g){case"completed":return o.jsx(Kt,{className:"w-4 h-4 text-green-500"});case"in-progress":return o.jsx(Zi,{className:"w-4 h-4 text-yellow-500"});case"planned":return o.jsx(Zi,{className:"w-4 h-4 text-blue-500"});default:return o.jsx(jY,{className:"w-4 h-4 text-gray-500"})}},m=g=>{switch(g){case"High":return"bg-red-100 text-red-700";case"Medium":return"bg-yellow-100 text-yellow-700";case"Low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(te,{className:"bg-white/95 backdrop-blur-sm border-slate-200/50 shadow-xl rounded-3xl overflow-hidden",children:[o.jsx(je,{className:"pb-6 bg-gradient-to-r from-slate-50 to-gray-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-slate-600 to-slate-700 rounded-2xl shadow-lg",children:o.jsx(vr,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsxs(Ce,{className:"text-2xl font-bold text-slate-800",children:["Deep Analysis: ",t.name]}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Advanced sustainability insights powered by AI"})]})]}),o.jsx("div",{className:"flex space-x-2",children:["3months","6months","1year"].map(g=>o.jsx(Y,{variant:e===g?"default":"outline",size:"sm",onClick:()=>n(g),className:`rounded-xl ${e===g?"bg-slate-700 hover:bg-slate-800":"border-slate-300 hover:bg-slate-50"}`,children:g==="3months"?"3M":g==="6months"?"6M":"1Y"},g))})]})}),o.jsx(ce,{className:"p-6",children:o.jsxs(Jr,{value:r,onValueChange:i,className:"w-full",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-4 bg-slate-100 rounded-2xl p-1",children:[o.jsx(Qe,{value:"overview",className:"rounded-xl",children:"Overview"}),o.jsx(Qe,{value:"trends",className:"rounded-xl",children:"Trends"}),o.jsx(Qe,{value:"comparison",className:"rounded-xl",children:"Compare"}),o.jsx(Qe,{value:"insights",className:"rounded-xl",children:"AI Insights"})]}),o.jsxs(Oe,{value:"overview",className:"mt-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(te,{className:"border-slate-200/50 shadow-md rounded-2xl",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg",children:"Multi-Factor Assessment"})}),o.jsx(ce,{children:o.jsx(Pc,{width:"100%",height:300,children:o.jsxs(KMe,{data:c,children:[o.jsx(cW,{stroke:"#e2e8f0"}),o.jsx(qh,{dataKey:"subject",className:"text-sm"}),o.jsx(Gh,{angle:30,domain:[0,100],tick:!1}),o.jsx(Pg,{name:"Score",dataKey:"A",stroke:"#0f172a",fill:"#0f172a",fillOpacity:.1,strokeWidth:3,dot:{fill:"#0f172a",strokeWidth:2,r:4}})]})})})]}),o.jsxs(te,{className:"border-slate-200/50 shadow-md rounded-2xl",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg",children:"Key Performance Indicators"})}),o.jsx(ce,{className:"space-y-4",children:Object.entries(t.sustainability).map(([g,v])=>{if(g==="overall")return null;let y=Zi;switch(g){case"carbon":y=dt;break;case"water":y=fi;break;case"waste":y=Zi;break;case"energy":y=Tn;break;case"ethics":y=ls;break}return o.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-200/50",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-slate-700 rounded-xl flex items-center justify-center",children:o.jsx(y,{className:"w-5 h-5 text-white"})}),o.jsx("span",{className:"font-medium capitalize text-slate-800",children:g})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-slate-800",children:v}),o.jsx("div",{className:"text-xs text-slate-500",children:"Score"})]})]},g)})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(te,{className:"border-slate-200/50 shadow-md rounded-2xl",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg",children:"Product Information"})}),o.jsxs(ce,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Brand:"}),o.jsx("span",{className:"font-medium",children:t.brand})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Category:"}),o.jsx("span",{className:"font-medium capitalize",children:t.category})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Origin:"}),o.jsx("span",{className:"font-medium",children:t.origin})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Price:"}),o.jsxs("span",{className:"font-medium",children:["$",t.price]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Rating:"}),o.jsxs("span",{className:"font-medium",children:[t.rating,"/5 (",t.reviews," reviews)"]})]})]})]}),o.jsxs(te,{className:"border-slate-200/50 shadow-md rounded-2xl",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg",children:"Environmental Impact"})}),o.jsxs(ce,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Carbon Footprint:"}),o.jsx("span",{className:"font-medium",children:t.carbon})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Water Usage:"}),o.jsx("span",{className:"font-medium",children:t.water})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Packaging:"}),o.jsx("span",{className:"font-medium",children:t.packaging})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Energy Source:"}),o.jsx("span",{className:"font-medium",children:t.energySource||"Mixed Grid"})]})]})]})]})]}),o.jsx(Oe,{value:"trends",className:"mt-6",children:o.jsxs(te,{className:"border-slate-200/50 shadow-md rounded-2xl",children:[o.jsx(je,{children:o.jsx(Ce,{children:"Sustainability Trends Over Time"})}),o.jsx(ce,{children:o.jsx(Pc,{width:"100%",height:400,children:o.jsxs(MT,{data:l,children:[o.jsx(Ig,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(eo,{dataKey:"month",className:"text-sm"}),o.jsx(to,{domain:[60,100],className:"text-sm"}),o.jsx(jr,{formatter:(g,v)=>[`${g}%`,v],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"}}),o.jsx(Ci,{type:"monotone",dataKey:"overall",stroke:"#0f172a",strokeWidth:4,name:"Overall",dot:{fill:"#0f172a",strokeWidth:2,r:6}}),o.jsx(Ci,{type:"monotone",dataKey:"carbon",stroke:"#22c55e",strokeWidth:3,name:"Carbon",dot:{fill:"#22c55e",strokeWidth:2,r:4}}),o.jsx(Ci,{type:"monotone",dataKey:"water",stroke:"#3b82f6",strokeWidth:3,name:"Water",dot:{fill:"#3b82f6",strokeWidth:2,r:4}}),o.jsx(Ci,{type:"monotone",dataKey:"energy",stroke:"#8b5cf6",strokeWidth:3,name:"Energy",dot:{fill:"#8b5cf6",strokeWidth:2,r:4}}),o.jsx(Ci,{type:"monotone",dataKey:"ethics",stroke:"#ef4444",strokeWidth:3,name:"Ethics",dot:{fill:"#ef4444",strokeWidth:2,r:4}})]})})})]})}),o.jsx(Oe,{value:"comparison",className:"mt-6",children:o.jsxs(te,{className:"border-slate-200/50 shadow-md rounded-2xl",children:[o.jsx(je,{children:o.jsx(Ce,{children:"Competitive Landscape"})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsx("div",{className:"bg-slate-800 text-white border border-slate-700 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-bold text-lg",children:t.name}),o.jsx("span",{className:"text-slate-300 ml-2",children:"(Current Product)"})]}),o.jsx("div",{className:"text-2xl font-bold",children:t.sustainability.overall})]})}),h.map((g,v)=>o.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-xl hover:bg-slate-50 transition-colors",children:[o.jsx("span",{className:"font-medium text-slate-800",children:g.name}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-xl font-bold text-slate-800",children:g.score}),o.jsx("span",{className:`text-sm px-2 py-1 rounded-lg ${g.trend.startsWith("+")?"text-green-700 bg-green-100":"text-red-700 bg-red-100"}`,children:g.trend})]})]},v)),o.jsx("div",{className:"text-center pt-4",children:o.jsxs(ne,{className:`px-4 py-2 ${t.sustainability.overall>75?"bg-green-600 text-white":"bg-slate-800 text-white"}`,children:[o.jsx(vr,{className:"w-4 h-4 mr-2"}),t.sustainability.overall>75?"Above Industry Average":"Room for Improvement"]})})]})]})}),o.jsx(Oe,{value:"insights",className:"mt-6",children:o.jsxs(te,{className:"border-slate-200/50 shadow-md rounded-2xl",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(gd,{className:"w-5 h-5 text-amber-500"}),o.jsx("span",{children:"AI-Powered Improvement Recommendations"})]})}),o.jsx(ce,{className:"space-y-4",children:d.map((g,v)=>o.jsxs("div",{className:"border border-slate-200 rounded-xl p-5 space-y-3 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[f(g.status),o.jsx("span",{className:"font-bold text-slate-800",children:g.category})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(ne,{className:`text-xs ${m(g.impact)}`,children:[g.impact," Impact"]}),o.jsx("span",{className:"text-lg font-bold text-slate-700",children:g.potential})]})]}),o.jsx("p",{className:"text-slate-600 leading-relaxed",children:g.suggestion}),o.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100",children:[o.jsx("span",{className:"text-sm text-slate-500",children:"Expected timeframe: 2-4 weeks"}),o.jsx(Y,{size:"sm",className:"bg-slate-700 hover:bg-slate-800 rounded-xl",children:"Learn More"})]})]},v))})]})})]})})]}),o.jsxs(te,{className:"bg-white/95 backdrop-blur-sm border-slate-200/50 shadow-lg rounded-2xl",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(ka,{className:"w-5 h-5 text-slate-600"}),o.jsx("span",{children:"Data Sources & Methodology"})]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"font-bold text-slate-800 flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-slate-700 rounded-full"}),o.jsx("span",{children:"Data Sources"})]}),o.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 ml-5",children:[o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Kt,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Ecoinvent Database (LCA)"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Kt,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"GHG Protocol Standards"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Kt,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"EPA Environmental Data"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Kt,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Company Sustainability Reports"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"font-bold text-slate-800 flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),o.jsx("span",{children:"AI Analysis Methods"})]}),o.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 ml-5",children:[o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Kt,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{children:"Lifecycle Assessment Modeling"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Kt,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{children:"Supply Chain Impact Analysis"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Kt,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{children:"Predictive Sustainability Scoring"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Kt,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{children:"Cross-Industry Benchmarking"})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-slate-50 border border-blue-200/50 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Zi,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-bold text-slate-800",children:"Methodology Confidence: 94%"}),o.jsx("p",{className:"text-sm text-slate-600 mt-1 leading-relaxed",children:"Our AI models are trained on verified sustainability data from over 50,000 products. Scores are updated monthly and normalized across industries for accurate comparison."})]})]})})]})]})]})},Yw=()=>{const{addNotification:t}=Ya();return{addScanNotification:(d,f)=>{t({type:"achievement",title:"Product Scanned Successfully!",message:'You scanned "'+d+'" with a sustainability score of '+f+". Keep making eco-friendly choices!",read:!1,source:"scanner",actionable:!0,action:"View Analysis",icon:Yn})},addPurchaseNotification:d=>{t({type:"shopping",title:"Added to Cart!",message:'"'+d+'" has been added to your cart. Continue shopping for more eco-friendly products!',read:!1,source:"marketplace",actionable:!0,action:"View Cart",icon:fr})},addCourseCompletionNotification:d=>{t({type:"achievement",title:"Course Completed!",message:`Congratulations! You've completed "`+d+'". Your knowledge about sustainability is growing!',read:!1,source:"education",actionable:!0,action:"View Certificate",icon:Ho})},addCommunityNotification:d=>{t({type:"community",title:"Community Activity",message:d,read:!1,source:"community",actionable:!0,action:"View Community",icon:vn})},addCarbonSavingNotification:d=>{t({type:"environmental",title:"Carbon Footprint Reduced!",message:"Great job! You've saved approximately "+d+"kg of CO through your sustainable choices this week.",read:!1,source:"carbon",actionable:!0,action:"View Carbon Tracker",icon:dt})},addRecipeViewNotification:d=>{t({type:"suggestion",title:"Recipe Viewed!",message:'You viewed "'+d+'". Try cooking this sustainable recipe to reduce your environmental impact!',read:!1,source:"recipes",actionable:!0,action:"Start Cooking",icon:xn})},addAchievementNotification:d=>{t({type:"achievement",title:"New Achievement Unlocked!",message:`Congratulations! You've earned the "`+d+'" achievement. Keep up the great work!',read:!1,source:"achievements",actionable:!0,action:"View Achievements",icon:Yn})},addChallengeNotification:d=>{t({type:"challenge",title:"New Challenge Available!",message:'Join the "'+d+'" challenge and make a positive impact on the environment with the community!',read:!1,source:"challenges",actionable:!0,action:"Join Challenge",icon:Tn})},addRewardNotification:d=>{t({type:"reward",title:"Reward Redeemed!",message:'You have successfully redeemed the "'+d+'" reward. Enjoy your benefits!',read:!1,source:"rewards",actionable:!0,action:"View Rewards",icon:rm})},addGeneralNotification:(d,f,m="info")=>{t({type:m,title:d,message:f,read:!1,source:"general",actionable:!1,icon:Wo})}}},JMe=()=>{const[t,e]=C.useState(""),[n,r]=C.useState("all"),[i,s]=C.useState("score"),[a,l]=C.useState([]),[c,u]=C.useState(null),{addPoints:h}=Xr(),{toast:d}=Ks(),{currentUser:f}=_n(),{addToCart:m}=Ph(),{addPurchaseNotification:g}=Yw();C.useEffect(()=>{(async()=>{if(f){const k=gt(Ne,"users",f.uid,"favorites"),A=(await Nn(k)).docs.map(I=>(console.log("Favorite doc id:",I.id,"productId:",I.data().productId),I.data().productId));l(A)}})()},[f]);const v=(_,k="400x300")=>{const E={toothbrush:"photo-1607613009820-a29f7bb81c04",shampoo:"photo-1571019613454-1cb2f99b2d8b","body wash":"photo-1596462502278-27bfdc403348",deodorant:"photo-1522335789203-aabd1fc54bc9",comb:"photo-1559056199-641a0ac8b55e",almonds:"photo-1445282768818-cdb21eab8176",milk:"photo-1563636619-e9143da7973b",coffee:"photo-1497935586351-b67a49e012bf",granola:"photo-1571091718767-18b5b1457add","energy bar":"photo-1542838132-92c53300491e",charger:"photo-1593642632823-8f785ba67e45","phone case":"photo-1511707171634-5f897ff02aa9",speaker:"photo-1558618666-fcd25c85cd64",monitor:"photo-1527443224154-c4a3942d3acf","laptop stand":"photo-1587829138453-6d7ac2bec001","t-shirt":"photo-1521572163474-6864f9cf17ab",jeans:"photo-1542272604-787c3835535d",jacket:"photo-1551028719-00167b16eac5",hoodie:"photo-1556821840-3a9c6fcc9e5d",sneakers:"photo-1549298916-b41d501d3772",furniture:"photo-1586023492125-27b2c045efd7","garden light":"photo-1493663284031-b7e3aefcae8e",seeds:"photo-1416879595882-3373a0480b5b","compost bin":"photo-1560448204-e02f11c3d0e2","plant pot":"photo-1485955900006-10f4d324d411",lipstick:"photo-1596462502278-27bfdc403348",foundation:"photo-1522335789203-aabd1fc54bc9",mascara:"photo-1571019613454-1cb2f99b2d8b","brush set":"photo-1559056199-641a0ac8b55e",cleanser:"photo-1556228720-195a672e8a03","yoga mat":"photo-1544367567-0f2fcb009e0b","water bottle":"photo-1523362628745-0c100150b504",activewear:"photo-1506629905877-c8cd2259f81c",backpack:"photo-1553062407-98eeb64c6a62",ball:"photo-1571019613454-1cb2f99b2d8b","baby food":"photo-1560472354-b33ff0c44a43",toys:"photo-1558618666-fcd25c85cd64",diapers:"photo-1522335789203-aabd1fc54bc9","baby wash":"photo-1596462502278-27bfdc403348",blocks:"photo-1572021335469-31706a17aaef","car wash":"photo-1558618666-fcd25c85cd64","car charger":"photo-1593642632823-8f785ba67e45","floor mats":"photo-1511707171634-5f897ff02aa9","air freshener":"photo-1559056199-641a0ac8b55e","car cover":"photo-1522335789203-aabd1fc54bc9",notebook:"photo-1544716278-ca5e3f4abd8c","pen set":"photo-1455390582262-044cdead277a",calendar:"photo-1506905925346-21bda4d32df4",bookmark:"photo-1507003211169-0a1dd7228f2d",journal:"photo-1544716278-ca5e3f4abd8c",vitamins:"photo-1559757148-5c350d0d3c56","protein powder":"photo-1571019613454-1cb2f99b2d8b","yoga block":"photo-1544367567-0f2fcb009e0b","pill case":"photo-1559056199-641a0ac8b55e",tea:"photo-1558618666-fcd25c85cd64","cutting board":"photo-1556909114-f6e7ad7d3136","food storage":"photo-1558618666-fcd25c85cd64","dish soap":"photo-1596462502278-27bfdc403348",utensils:"photo-1556909114-f6e7ad7d3136",containers:"photo-1558618666-fcd25c85cd64",paper:"photo-1544716278-ca5e3f4abd8c",pen:"photo-1455390582262-044cdead277a",organizer:"photo-1506905925346-21bda4d32df4",eraser:"photo-1507003211169-0a1dd7228f2d",folders:"photo-1544716278-ca5e3f4abd8c","pet food":"photo-1548199973-03cce0bbc87b","pet toys":"photo-1601758228041-f3b2795255f1","pet shampoo":"photo-1596462502278-27bfdc403348","pet bed":"photo-1548199973-03cce0bbc87b",leash:"photo-1601758228041-f3b2795255f1",puzzle:"photo-1572021335469-31706a17aaef","building blocks":"photo-1572021335469-31706a17aaef",playdough:"photo-1558618666-fcd25c85cd64","board game":"photo-1606092195730-5d7b9af1efc5","stuffed animal":"photo-1558618666-fcd25c85cd64"},A=_.name.toLowerCase();let I=null;for(const[R,$]of Object.entries(E))if(A.includes(R)){I=$;break}return I||(I={"personal-care":"photo-1596462502278-27bfdc403348","food-beverage":"photo-1571091718767-18b5b1457add",electronics:"photo-1593642632823-8f785ba67e45",clothing:"photo-1521572163474-6864f9cf17ab","home-garden":"photo-1586023492125-27b2c045efd7","beauty-cosmetics":"photo-1556228720-195a672e8a03","sports-outdoor":"photo-1544367567-0f2fcb009e0b","baby-kids":"photo-1560472354-b33ff0c44a43",automotive:"photo-1558618666-fcd25c85cd64","books-media":"photo-1544716278-ca5e3f4abd8c","health-wellness":"photo-1559757148-5c350d0d3c56","kitchen-dining":"photo-1556909114-f6e7ad7d3136","office-supplies":"photo-1544716278-ca5e3f4abd8c","pet-supplies":"photo-1548199973-03cce0bbc87b","toys-games":"photo-1572021335469-31706a17aaef"}[_.category]||"photo-1560472354-b33ff0c44a43"),`https://images.unsplash.com/${I}?w=${k}&fit=crop`},x=(()=>{let _=$d.slice(0,100);return t&&(_=jA(t).slice(0,100)),n==="favorites"?_=_.filter(k=>a.includes(k.id.toString())):n!=="all"&&(_=_.filter(k=>k.category===n)),_.sort((k,E)=>{switch(i){case"price-low":return k.price-E.price;case"price-high":return E.price-k.price;case"rating":return E.rating-k.rating;case"score":return E.sustainabilityScore-k.sustainabilityScore;default:return 0}})})(),b=[{id:"all",label:"All Products",icon:fr,count:$d.length},{id:"favorites",label:"Favorites",icon:ls,count:a.length},{id:"personal-care",label:"Personal Care",icon:fn,count:Sf("personal-care").length},{id:"food-beverage",label:"Food & Beverage",icon:Yn,count:Sf("food-beverage").length},{id:"electronics",label:"Electronics",icon:dt,count:Sf("electronics").length},{id:"clothing",label:"Clothing",icon:Kr,count:Sf("clothing").length},{id:"home-garden",label:"Home & Garden",icon:ls,count:Sf("home-garden").length}],w=async _=>{if(!f){d({title:"Login Required",description:"Please log in to favorite products.",variant:"destructive"});return}gt(Ne,"users",f.uid,"favorites");const k=Re(Ne,"users",f.uid,"favorites",_.toString()),E=_.toString();a.includes(E)?(await L7(k),l(A=>A.filter(I=>I!==E))):(await Zt(k,{productId:E}),l(A=>[...A,E]),h(5),d({title:"Product Favorited!",description:"You earned 5 points for favoriting a product!"}),g("Product Favorited"))},N=_=>{const k=`Check out this sustainable product: ${_.name} by ${_.brand} - Sustainability Score: ${_.sustainabilityScore}`;navigator.share?navigator.share({title:_.name,text:k,url:window.location.href}).then(()=>{h(5),d({title:"Product Shared!",description:"You earned 5 points for sharing!"})}).catch(()=>{S(k)}):S(k)},S=_=>{navigator.clipboard&&navigator.clipboard.writeText(_).then(()=>{h(5),d({title:"Product Shared!",description:"Product link copied to clipboard! You earned 5 points!"})})},P=_=>{var R,$,W,H,M,F;const k=`
SUSTAINABILITY REPORT
Product: ${_.name}
Brand: ${_.brand}
Sustainability Score: ${_.sustainabilityScore}/100

ENVIRONMENTAL IMPACT:
${((R=_.detailedAnalysis)==null?void 0:R.environmentalImpact)||"No detailed analysis available"}

SOCIAL IMPACT:
${(($=_.detailedAnalysis)==null?void 0:$.socialImpact)||"No detailed analysis available"}

ECONOMIC IMPACT:
${((W=_.detailedAnalysis)==null?void 0:W.economicImpact)||"No detailed analysis available"}

Carbon Footprint: ${((H=_.carbonFootprint)==null?void 0:H.total)||"N/A"}
Water Usage: ${_.waterUsage||"N/A"}
Energy Source: ${_.energySource||"N/A"}
Materials: ${((M=_.materials)==null?void 0:M.join(", "))||"N/A"}
Certifications: ${((F=_.certifications)==null?void 0:F.join(", "))||"N/A"}
    `,E=new Blob([k],{type:"text/plain"}),A=URL.createObjectURL(E),I=document.createElement("a");I.href=A,I.download=`${_.name.replace(/[^a-zA-Z0-9]/g,"_")}_sustainability_report.txt`,I.click(),URL.revokeObjectURL(A),h(15),d({title:"Report Downloaded!",description:"You earned 15 points for downloading a sustainability report!"})},j=_=>_>=90?"bg-emerald-500 text-white":_>=80?"bg-green-500 text-white":_>=70?"bg-yellow-500 text-white":"bg-orange-500 text-white";return o.jsx("div",{className:"space-y-6",children:o.jsxs(te,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:[o.jsxs(je,{children:[o.jsxs(Ce,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(fr,{className:"w-6 h-6 text-green-600"}),o.jsx("span",{children:"Sustainability Marketplace"})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs(ne,{className:"bg-green-600 text-white",children:[x.length," Products"]})})]}),o.jsx("p",{className:"text-gray-600",children:"Discover and purchase eco-friendly alternatives that make a difference"})]}),o.jsxs(ce,{children:[o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(st,{placeholder:"Search sustainable products...",value:t,onChange:_=>e(_.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:i,onChange:_=>s(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm",children:[o.jsx("option",{value:"score",children:"Best Score"}),o.jsx("option",{value:"rating",children:"Highest Rated"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),o.jsxs(Y,{variant:"outline",className:"flex items-center space-x-2",children:[o.jsx(mh,{className:"w-4 h-4"}),o.jsx("span",{children:"More Filters"})]})]})]}),o.jsx(Jr,{value:n,onValueChange:r,className:"mb-6",children:o.jsx(Zr,{className:"inline-flex h-10 items-center justify-start gap-x-4 rounded-md bg-muted p-1 text-muted-foreground w-full",children:b.map(_=>o.jsxs(Qe,{value:_.id,className:"flex items-center space-x-1 text-xs px-3 py-1.5",children:[o.jsx(_.icon,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:_.label}),o.jsx(ne,{variant:"outline",className:"text-xs px-1",children:_.count})]},_.id))})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(_=>{var k,E;return o.jsxs(te,{className:"group hover:shadow-xl transition-all duration-300 hover:-translate-y-1 relative overflow-hidden",children:[o.jsxs("div",{className:"relative overflow-hidden h-48 bg-gray-100",children:[o.jsx("img",{src:v(_),alt:_.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:A=>{A.target.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop"}}),o.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[o.jsx(ne,{className:j(_.sustainabilityScore),children:_.sustainabilityScore}),!_.inStock&&o.jsx(ne,{variant:"destructive",className:"text-xs",children:"Out of Stock"}),_.fastShipping&&_.inStock&&o.jsx(ne,{className:"bg-blue-500 text-white text-xs",children:"Fast Ship"})]}),o.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[o.jsx(Y,{size:"sm",variant:"outline",className:"w-8 h-8 p-0 bg-white/90 hover:bg-white",onClick:async A=>{A.stopPropagation(),w(_.id)},children:o.jsx(ls,{className:`w-4 h-4 ${a.includes(_.id.toString())?"fill-red-500 text-red-500":"text-gray-500"}`})}),o.jsx(Y,{size:"sm",variant:"outline",className:"w-8 h-8 p-0 bg-white/90 hover:bg-white",onClick:A=>{A.stopPropagation(),N(_)},children:o.jsx(ub,{className:"w-4 h-4 text-gray-500"})})]})]}),o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg group-hover:text-green-600 transition-colors line-clamp-2",children:_.name}),o.jsx("p",{className:"text-sm text-gray-600",children:_.brand}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Made in ",_.origin]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"flex items-center",children:Array.from({length:5}).map((A,I)=>o.jsx(fn,{className:`w-4 h-4 ${I<Math.floor(_.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},I))}),o.jsxs("span",{className:"text-sm text-gray-600",children:["(",_.reviews,")"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[(k=_.features)==null?void 0:k.slice(0,3).map((A,I)=>o.jsx(ne,{variant:"outline",className:"text-xs",children:A},I)),((E=_.features)==null?void 0:E.length)>3&&o.jsxs(ne,{variant:"outline",className:"text-xs",children:["+",_.features.length-3," more"]})]}),o.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-green-700 font-medium",children:"Environmental Impact:"}),o.jsxs("span",{className:"text-green-600",children:[_.co2Saved," CO saved"]})]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",_.price]}),_.originalPrice>_.price&&o.jsxs("span",{className:"text-sm text-gray-500 line-through ml-2",children:["$",_.originalPrice]})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round((_.originalPrice-_.price)/_.originalPrice*100),"% off"]})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(Y,{className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",onClick:()=>{m({id:_.id.toString(),name:_.name,price:_.price,image:v(_),brand:_.brand}),g(_.name)},disabled:!_.inStock,children:_.inStock?o.jsxs(o.Fragment,{children:[o.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add to Cart"]}):"Out of Stock"}),o.jsxs(_A,{children:[o.jsx(nB,{asChild:!0,children:o.jsx(Y,{variant:"outline",size:"sm",className:"px-3",onClick:()=>u(_),children:o.jsx(sL,{className:"w-4 h-4"})})}),o.jsxs(rw,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(iw,{children:[o.jsx(sw,{children:_.name}),o.jsx(SA,{children:"Detailed sustainability analysis and product information"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("img",{src:v(_,"600x400"),alt:_.name,className:"w-full h-64 object-cover rounded-lg",onError:A=>{A.target.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=600&h=400&fit=crop"}}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:_.name}),o.jsx("p",{className:"text-gray-600",children:_.brand}),o.jsxs(ne,{className:j(_.sustainabilityScore),children:["Score: ",_.sustainabilityScore]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",_.price]}),_.originalPrice>_.price&&o.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["$",_.originalPrice]})]}),o.jsx("p",{className:"text-gray-700",children:_.description})]})]}),_.detailedAnalysis&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Environmental Impact"}),o.jsx("p",{className:"text-sm text-gray-600",children:_.detailedAnalysis.environmentalImpact})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Social Impact"}),o.jsx("p",{className:"text-sm text-gray-600",children:_.detailedAnalysis.socialImpact})]})]}),_.carbonFootprint&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Carbon Footprint"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:["Production: ",_.carbonFootprint.production]}),o.jsxs("div",{children:["Transport: ",_.carbonFootprint.transport]}),o.jsxs("div",{children:["Total: ",_.carbonFootprint.total]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Y,{className:"flex-1",onClick:()=>m({id:_.id.toString(),name:_.name,price:_.price,image:v(_),brand:_.brand}),disabled:!_.inStock,children:[o.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add to Cart"]}),o.jsxs(Y,{variant:"outline",onClick:()=>P(_),children:[o.jsx(iL,{className:"w-4 h-4 mr-2"}),"Report"]})]})]})]})]})]})]})})]},_.id)})}),x.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx(Kr,{className:"w-12 h-12 text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No products found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]})]})]})})},jm=C.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:vt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));jm.displayName="Textarea";var DT="Avatar",[ZMe,WDe]=eg(DT),[eDe,mH]=ZMe(DT),pH=C.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=C.useState("idle");return o.jsx(eDe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:o.jsx(mt.span,{...r,ref:e})})});pH.displayName=DT;var gH="AvatarImage",yH=C.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=mH(gH,n),l=tDe(r,s.referrerPolicy),c=Qr(u=>{i(u),a.onImageLoadingStatusChange(u)});return Bs(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(mt.img,{...s,ref:e,src:r}):null});yH.displayName=gH;var vH="AvatarFallback",xH=C.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=mH(vH,n),[a,l]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&s.imageLoadingStatus!=="loaded"?o.jsx(mt.span,{...i,ref:e}):null});xH.displayName=vH;function tDe(t,e){const[n,r]=C.useState("idle");return Bs(()=>{if(!t){r("error");return}let i=!0;const s=new window.Image,a=l=>()=>{i&&r(l)};return r("loading"),s.onload=a("loaded"),s.onerror=a("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var bH=pH,wH=yH,_H=xH;const SE=C.forwardRef(({className:t,...e},n)=>o.jsx(bH,{ref:n,className:vt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));SE.displayName=bH.displayName;const NE=C.forwardRef(({className:t,...e},n)=>o.jsx(wH,{ref:n,className:vt("aspect-square h-full w-full",t),...e}));NE.displayName=wH.displayName;const jE=C.forwardRef(({className:t,...e},n)=>o.jsx(_H,{ref:n,className:vt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));jE.displayName=_H.displayName;const SH=()=>{const{addCommunityNotification:t}=Yw(),[e,n]=C.useState("feed"),[r,i]=C.useState(""),[s,a]=C.useState("");C.useState(null);const[l,c]=C.useState(!1),[u,h]=C.useState([]),[d,f]=C.useState([]),[m,g]=C.useState([]),[v,y]=C.useState([]),[x,b]=C.useState({}),w={name:"You",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",points:1845,level:"Intermediate",totalScans:127,co2Saved:23.5,challengesCompleted:8,postsLiked:89,groupsJoined:5,eventsAttended:12};C.useEffect(()=>{b(u.reduce((M,F)=>({...M,[F.id]:""}),{}))},[u]),C.useEffect(()=>{h([{id:"post1",author:{name:"Sarah Green",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=40&h=40&fit=crop&crop=face",badge:"Eco Champion",level:"Expert"},content:"Just switched to a bamboo toothbrush and love it! Small changes make a big difference. What sustainable swaps have you made recently?",image:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=300&fit=crop",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),likes:24,comments:8,commentList:[{author:{name:"GreenGuru",avatar:"https://randomuser.me/api/portraits/men/32.jpg"},content:"Totally agree! Bamboo is a game-changer."},{author:{name:"EcoWarrior77",avatar:"https://randomuser.me/api/portraits/women/44.jpg"},content:"I switched to a reusable water bottle. Best decision!"}],shares:3,tags:["Zero Waste","Personal Care","Sustainability"],liked:!1,bookmarked:!1},{id:"post2",author:{name:"Mike Rodriguez",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",badge:"Solar Advocate",level:"Pro"},content:"Amazing to see so many active eco warriors! Keep up the great work everyone! ",image:"https://images.unsplash.com/photo-1509391366360-2e959784a276?w=400&h=300&fit=crop",timestamp:new Date(Date.now()-4*60*60*1e3).toISOString(),likes:67,comments:15,commentList:[{author:{name:"SustainableSam",avatar:"https://randomuser.me/api/portraits/men/55.jpg"},content:"Inspired by this community!"},{author:{name:"NatureLover",avatar:"https://randomuser.me/api/portraits/women/66.jpg"},content:"Keep up the good vibes!"}],shares:12,tags:["Community","Motivation"],liked:!0,bookmarked:!0},{id:"post3",author:{name:"Emma Thompson",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=40&h=40&fit=crop&crop=face",badge:"Climate Activist",level:"Master"},content:"Celebrating 6 months of being car-free! Public transport + biking has saved me $2000 and reduced my carbon footprint significantly.",image:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=400&h=300&fit=crop",timestamp:new Date(Date.now()-6*60*60*1e3).toISOString(),likes:156,comments:34,commentList:[{author:{name:"UrbanCyclist",avatar:"https://randomuser.me/api/portraits/men/77.jpg"},content:"That's amazing! I'm trying to bike more too."},{author:{name:"TransitQueen",avatar:"https://randomuser.me/api/portraits/women/88.jpg"},content:"Public transport FTW!"}],shares:28,tags:["Transportation","Carbon Reduction","Money Saving"],liked:!1,bookmarked:!1},{id:"post4",author:{name:"Alex Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face",badge:"Green Builder",level:"Pro"},content:"Installed solar panels last month and they're already generating 40% of our home's energy! The installation process was smoother than expected.",image:"https://images.unsplash.com/photo-1509391366360-2e959784a276?w=400&h=300&fit=crop",timestamp:new Date(Date.now()-8*60*60*1e3).toISOString(),likes:89,comments:22,commentList:[{author:{name:"SolarUser",avatar:"https://randomuser.me/api/portraits/men/99.jpg"},content:"Considering solar for my home. Any tips?"},{author:{name:"GreenHome",avatar:"https://randomuser.me/api/portraits/women/11.jpg"},content:"Great to hear about your success!"}],shares:18,tags:["Solar Energy","Home Improvement","Renewable Energy"],liked:!0,bookmarked:!0},{id:"post5",author:{name:"Lisa Johnson",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=40&h=40&fit=crop&crop=face",badge:"Urban Farmer",level:"Expert"},content:"My rooftop garden is thriving! Growing 70% of my vegetables at home. Nothing beats the taste of homegrown tomatoes! ",image:"https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=400&h=300&fit=crop",timestamp:new Date(Date.now()-12*60*60*1e3).toISOString(),likes:78,comments:19,commentList:[{author:{name:"GardenLife",avatar:"https://randomuser.me/api/portraits/men/22.jpg"},content:"My tomatoes are struggling. Any advice?"},{author:{name:"HomeGrown",avatar:"https://randomuser.me/api/portraits/women/33.jpg"},content:"Nothing better than fresh produce from your own garden!"}],shares:14,tags:["Urban Gardening","Food Security","Healthy Living"],liked:!1,bookmarked:!1},{id:"post6",author:{name:"David Park",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=40&h=40&fit=crop&crop=face",badge:"Waste Warrior",level:"Intermediate"},content:"Completed my first month of zero waste living! It's challenging but incredibly rewarding. My trash can was literally empty this week.",image:"https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?w=400&h=300&fit=crop",timestamp:new Date(Date.now()-16*60*60*1e3).toISOString(),likes:134,comments:41,commentList:[{author:{name:"ZeroWasteBeginner",avatar:"https://randomuser.me/api/portraits/men/44.jpg"},content:"This is my goal! So inspiring."},{author:{name:"ReduceReuseRecycle",avatar:"https://randomuser.me/api/portraits/women/55.jpg"},content:"Tell us your secrets!"}],shares:25,tags:["Zero Waste","Lifestyle Change","Minimalism"],liked:!0,bookmarked:!1},{id:"post7",author:{name:"Maria Garcia",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=40&h=40&fit=crop&crop=face",badge:"Eco Educator",level:"Master"},content:"Taught 50 kids about renewable energy today at the local school! Their enthusiasm for protecting the planet gives me so much hope. ",image:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=400&h=300&fit=crop",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),likes:201,comments:56,commentList:[{author:{name:"TeacherTina",avatar:"https://randomuser.me/api/portraits/women/66.jpg"},content:"Education is key! Thank you for doing this."},{author:{name:"FutureGen",avatar:"https://randomuser.me/api/portraits/men/77.jpg"},content:"The kids are our future!"}],shares:38,tags:["Education","Youth Engagement","Community Outreach"],liked:!1,bookmarked:!0},{id:"post8",author:{name:"James Wilson",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face",badge:"Tech Innovator",level:"Pro"},content:"Just launched a new app that tracks your carbon footprint in real-time! Beta testing shows 23% reduction in emissions. Link in bio!",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=300&fit=crop",timestamp:new Date(Date.now()-36*60*60*1e3).toISOString(),likes:167,comments:43,commentList:[{author:{name:"AppTester",avatar:"https://randomuser.me/api/portraits/men/88.jpg"},content:"Downloaded the app! Looks promising."},{author:{name:"DataGeek",avatar:"https://randomuser.me/api/portraits/women/99.jpg"},content:"Real-time tracking is a great feature."}],shares:52,tags:["Technology","Innovation","Carbon Tracking"],liked:!0,bookmarked:!0}]),f([{id:"group1",name:"Zero Waste Living",description:"Tips and tricks for reducing waste in daily life",members:12543,category:"Lifestyle",image:"https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?w=400&h=200&fit=crop",joined:!0,posts:1234,activity:"Very Active"},{id:"group2",name:"Renewable Energy Enthusiasts",description:"Discussing solar, wind, and other clean energy solutions",members:8967,category:"Energy",image:"https://images.unsplash.com/photo-1466611653911-95081537e5b7?w=400&h=200&fit=crop",joined:!1,posts:2345,activity:"Active"},{id:"group3",name:"Sustainable Fashion",description:"Ethical clothing choices and eco-friendly fashion",members:15678,category:"Fashion",image:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400&h=200&fit=crop",joined:!0,posts:3456,activity:"Very Active"},{id:"group4",name:"Urban Gardening",description:"Growing your own food in small spaces",members:9876,category:"Gardening",image:"https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=400&h=200&fit=crop",joined:!1,posts:1876,activity:"Moderate"},{id:"group5",name:"Green Transportation",description:"Electric vehicles, public transport, and cycling advocacy",members:7432,category:"Transportation",image:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=400&h=200&fit=crop",joined:!0,posts:987,activity:"Active"},{id:"group6",name:"Climate Action Network",description:"Organizing for climate policy and environmental justice",members:11234,category:"Activism",image:"https://images.unsplash.com/photo-1569163139394-de4e4f43e4e3?w=400&h=200&fit=crop",joined:!1,posts:2876,activity:"Very Active"},{id:"group7",name:"Eco-Friendly Business",description:"Sustainable business practices and green entrepreneurship",members:5678,category:"Business",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=400&h=200&fit=crop",joined:!0,posts:1567,activity:"Active"},{id:"group8",name:"Plastic-Free Community",description:"Eliminating single-use plastics from our daily lives",members:13456,category:"Zero Waste",image:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=200&fit=crop",joined:!1,posts:2234,activity:"Very Active"}]),g([{id:"event1",title:"Community Solar Workshop",description:"Learn about community solar programs and how to join",date:"2024-07-15",time:"2:00 PM",location:"Community Center",attendees:45,maxAttendees:100,image:"https://images.unsplash.com/photo-1509391366360-2e959784a276?w=400&h=200&fit=crop",organizer:"Green Energy Group",registered:!1},{id:"event2",title:"Zero Waste Cooking Class",description:"Learn to cook delicious meals with minimal waste",date:"2024-07-20",time:"6:00 PM",location:"Eco Kitchen Studio",attendees:28,maxAttendees:30,image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400&h=200&fit=crop",organizer:"Zero Waste Community",registered:!0},{id:"event3",title:"Urban Farming Meetup",description:"Connect with local urban farmers and learn techniques",date:"2024-07-25",time:"10:00 AM",location:"City Park",attendees:67,maxAttendees:80,image:"https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=400&h=200&fit=crop",organizer:"Urban Gardening Network",registered:!1},{id:"event4",title:"Climate Action Rally",description:"Join us for a peaceful rally demanding climate action",date:"2024-07-30",time:"12:00 PM",location:"City Hall",attendees:234,maxAttendees:500,image:"https://images.unsplash.com/photo-1569163139394-de4e4f43e4e3?w=400&h=200&fit=crop",organizer:"Climate Action Network",registered:!0},{id:"event5",title:"Sustainable Fashion Show",description:"Showcase of eco-friendly and ethically made clothing",date:"2024-08-05",time:"7:00 PM",location:"Fashion District",attendees:156,maxAttendees:200,image:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400&h=200&fit=crop",organizer:"Sustainable Fashion Collective",registered:!1},{id:"event6",title:"Electric Vehicle Expo",description:"Test drive the latest electric vehicles and learn about incentives",date:"2024-08-10",time:"9:00 AM",location:"Convention Center",attendees:89,maxAttendees:150,image:"https://images.unsplash.com/photo-1593941707882-a5bac6861d75?w=400&h=200&fit=crop",organizer:"Green Transportation Alliance",registered:!0},{id:"event7",title:"Plastic-Free Challenge Kickoff",description:"Start your journey to eliminate single-use plastics",date:"2024-08-15",time:"3:00 PM",location:"Environmental Center",attendees:78,maxAttendees:120,image:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=200&fit=crop",organizer:"Plastic-Free Community",registered:!1},{id:"event8",title:"Green Building Workshop",description:"Learn about sustainable construction and renovation",date:"2024-08-20",time:"1:00 PM",location:"Eco Building Center",attendees:43,maxAttendees:60,image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?w=400&h=200&fit=crop",organizer:"Green Building Council",registered:!0}]),y([{id:"challenge1",title:"30-Day Plastic Free Challenge",description:"Eliminate single-use plastics for 30 days",participants:1234,duration:"30 days",difficulty:"Medium",reward:"500 Green Points",progress:65,joined:!0,category:"Zero Waste"},{id:"challenge2",title:"Energy Saver Week",description:"Reduce energy consumption by 20% for one week",participants:876,duration:"7 days",difficulty:"Easy",reward:"200 Green Points",progress:0,joined:!1,category:"Energy"},{id:"challenge3",title:"Bike to Work Month",description:"Use bicycle for daily commuting for a month",participants:543,duration:"30 days",difficulty:"Hard",reward:"800 Green Points",progress:23,joined:!0,category:"Transportation"},{id:"challenge4",title:"Meatless Monday Movement",description:"Go vegetarian every Monday for 3 months",participants:2156,duration:"12 weeks",difficulty:"Easy",reward:"300 Green Points",progress:45,joined:!0,category:"Food"},{id:"challenge5",title:"Solar Panel Installation",description:"Install solar panels on your home or business",participants:234,duration:"6 months",difficulty:"Hard",reward:"2000 Green Points",progress:0,joined:!1,category:"Energy"},{id:"challenge6",title:"Community Garden Volunteer",description:"Volunteer at local community gardens for 3 months",participants:789,duration:"12 weeks",difficulty:"Medium",reward:"600 Green Points",progress:78,joined:!0,category:"Gardening"},{id:"challenge7",title:"Water Conservation Hero",description:"Reduce water usage by 30% for 60 days",participants:1567,duration:"60 days",difficulty:"Medium",reward:"400 Green Points",progress:0,joined:!1,category:"Water"},{id:"challenge8",title:"Thrift Shopping Only",description:"Buy only secondhand items for 90 days",participants:934,duration:"90 days",difficulty:"Medium",reward:"700 Green Points",progress:12,joined:!0,category:"Fashion"}])},[]);const S=[...[{name:"Sarah Green",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=40&h=40&fit=crop&crop=face",basePoints:2500},{name:"Mike Rodriguez",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",basePoints:2300},{name:"Emma Thompson",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=40&h=40&fit=crop&crop=face",basePoints:2100},{name:"Alex Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face",basePoints:1900},{name:"Lisa Johnson",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=40&h=40&fit=crop&crop=face",basePoints:1800}],{name:w.name,avatar:w.avatar,basePoints:w.points}].sort((U,X)=>X.basePoints-U.basePoints).map((U,X)=>({...U,rank:X+1,points:U.basePoints})),P=M=>{h(u.map(F=>F.id===M?{...F,liked:!F.liked,likes:F.liked?F.likes-1:F.likes+1}:F))},j=M=>{const F=x[M];F.trim()&&(h(u.map(U=>U.id===M?{...U,comments:U.comments+1,commentList:[...U.commentList||[],{author:w,content:F}]}:U)),b({...x,[M]:""}))},_=M=>{navigator.share?navigator.share({title:"Community Post",text:"Check out this post from our sustainability community!",url:window.location.href}):navigator.clipboard.writeText(window.location.href)},k=M=>{h(u.map(F=>F.id===M?{...F,bookmarked:!F.bookmarked}:F))},E=M=>{const F=d.find(U=>U.id===M);if(F){const U=!F.joined;t(`You have ${U?"joined":"left"} the group "${F.name}".`)}f(d.map(U=>U.id===M?{...U,joined:!U.joined,members:U.joined?U.members-1:U.members+1}:U))},A=M=>{const F=m.find(U=>U.id===M);if(F){const U=!F.registered;t(`You have ${U?"registered for":"unregistered from"} the event "${F.title}".`)}g(m.map(U=>U.id===M?{...U,registered:!U.registered,attendees:U.registered?U.attendees-1:U.attendees+1}:U))},I=M=>{const F=v.find(U=>U.id===M);if(F){const U=!F.joined;t(`You have ${U?"joined":"left"} the challenge "${F.title}".`)}y(v.map(U=>U.id===M?{...U,joined:!U.joined,participants:U.joined?U.participants-1:U.participants+1}:U))},R=()=>{if(!s.trim())return;const M={id:Date.now().toString(),author:{name:w.name,avatar:w.avatar,badge:"Community Member",level:w.level},content:s,image:null,timestamp:new Date().toISOString(),likes:0,comments:0,shares:0,tags:["Community"],liked:!1,bookmarked:!1};h([M,...u]),a(""),c(!1),t("A new post has been created in the Community Hub. Check it out!")},$=M=>{switch(M){case"Easy":return"bg-green-100 text-green-700";case"Medium":return"bg-yellow-100 text-yellow-700";case"Hard":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},W=M=>{switch(M){case"Very Active":return"bg-green-100 text-green-700";case"Active":return"bg-blue-100 text-blue-700";case"Moderate":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},H=M=>{const F=new Date(M),X=new Date().getTime()-F.getTime(),z=Math.floor(X/(1e3*60*60));return z<1?"Just now":z<24?`${z} hour${z===1?"":"s"} ago`:`${Math.floor(z/24)} days ago`};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(te,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:[o.jsxs(je,{children:[o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(vn,{className:"w-6 h-6 text-green-600"}),o.jsx("span",{children:"Community Hub"})]}),o.jsx("p",{className:"text-gray-600",children:"Connect, share, and grow with fellow sustainability champions"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(st,{placeholder:"Search posts, groups, events...",value:r,onChange:M=>i(M.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Y,{onClick:()=>c(!0),className:"bg-green-600 hover:bg-green-700",children:[o.jsx(es,{className:"w-4 h-4 mr-2"}),"Create Post"]}),o.jsx(Y,{variant:"outline",children:o.jsx(mh,{className:"w-4 h-4"})})]})]})})]}),l&&o.jsxs(te,{className:"bg-white border-blue-200",children:[o.jsx(je,{children:o.jsx(Ce,{children:"Create New Post"})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsx(jm,{placeholder:"Share your sustainability journey, tips, or questions...",value:s,onChange:M=>a(M.target.value),className:"min-h-[100px]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Y,{onClick:R,className:"bg-green-600 hover:bg-green-700",children:"Post"}),o.jsx(Y,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]}),o.jsxs(Jr,{value:e,onValueChange:n,className:"w-full",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-5",children:[o.jsx(Qe,{value:"feed",children:"Feed"}),o.jsx(Qe,{value:"groups",children:"Groups"}),o.jsx(Qe,{value:"events",children:"Events"}),o.jsx(Qe,{value:"challenges",children:"Challenges"}),o.jsx(Qe,{value:"leaderboard",children:"Leaderboard"})]}),o.jsx(Oe,{value:"feed",children:o.jsx("div",{className:"space-y-4",children:u.filter(M=>M.content.toLowerCase().includes(r.toLowerCase())||M.author.name.toLowerCase().includes(r.toLowerCase())).map(M=>o.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(je,{children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(SE,{children:[o.jsx(NE,{src:M.author.avatar,alt:M.author.name}),o.jsx(jE,{children:M.author.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold",children:M.author.name}),o.jsx(ne,{variant:"secondary",className:"text-xs",children:M.author.badge}),o.jsx(ne,{variant:"outline",className:"text-xs",children:M.author.level})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[o.jsx(qr,{className:"w-3 h-3"}),H(M.timestamp)]})]})]})}),o.jsxs(ce,{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:M.content}),M.image&&o.jsx("div",{className:"rounded-lg overflow-hidden",children:o.jsx("img",{src:M.image,alt:"Post content",className:"w-full h-64 object-cover"})}),o.jsx("div",{className:"flex flex-wrap gap-2",children:M.tags.map((F,U)=>o.jsx(ne,{variant:"outline",className:"text-xs",children:F},U))}),o.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>P(M.id),className:M.liked?"text-red-500":"text-gray-600",children:[o.jsx(ls,{className:`w-4 h-4 mr-1 ${M.liked?"fill-current":""}`}),M.likes]}),o.jsxs(Y,{variant:"ghost",size:"sm",className:"text-gray-600",children:[o.jsx(Wm,{className:"w-4 h-4 mr-1"}),M.comments]}),o.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>_(M.id),className:"text-gray-600",children:[o.jsx(ub,{className:"w-4 h-4 mr-1"}),M.shares]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>k(M.id),className:M.bookmarked?"text-blue-500":"text-gray-600",children:o.jsx(wY,{className:"w-4 h-4"})})})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t",children:[o.jsx(st,{placeholder:"Add a comment...",value:x[M.id]||"",onChange:F=>b({...x,[M.id]:F.target.value}),className:"flex-1"}),o.jsx(Y,{size:"sm",onClick:()=>j(M.id),children:"Comment"})]})]})]},M.id))})}),o.jsx(Oe,{value:"groups",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.filter(M=>M.name.toLowerCase().includes(r.toLowerCase())||M.description.toLowerCase().includes(r.toLowerCase())).map(M=>o.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[o.jsx("div",{className:"aspect-video overflow-hidden rounded-t-lg",children:o.jsx("img",{src:M.image,alt:M.name,className:"w-full h-full object-cover"})}),o.jsxs(je,{children:[o.jsx(Ce,{className:"text-lg",children:M.name}),o.jsx("p",{className:"text-sm text-gray-600",children:M.description})]}),o.jsxs(ce,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(vn,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{children:[M.members.toLocaleString()," members"]})]}),o.jsx(ne,{variant:"outline",className:"text-xs",children:M.category})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Wm,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{children:[M.posts.toLocaleString()," posts"]})]}),o.jsx(ne,{className:`text-xs ${W(M.activity)}`,children:M.activity})]}),o.jsx(Y,{onClick:()=>E(M.id),className:`w-full ${M.joined?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-600 text-white hover:bg-green-700"}`,children:M.joined?"Joined":"Join Group"})]})]},M.id))})}),o.jsx(Oe,{value:"events",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.filter(M=>M.title.toLowerCase().includes(r.toLowerCase())||M.description.toLowerCase().includes(r.toLowerCase())).map(M=>o.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[o.jsx("div",{className:"aspect-video overflow-hidden rounded-t-lg",children:o.jsx("img",{src:M.image,alt:M.title,className:"w-full h-full object-cover"})}),o.jsxs(je,{children:[o.jsx(Ce,{className:"text-lg",children:M.title}),o.jsx("p",{className:"text-sm text-gray-600",children:M.description})]}),o.jsxs(ce,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(os,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{children:M.date}),o.jsx(qr,{className:"w-4 h-4 text-gray-500 ml-2"}),o.jsx("span",{children:M.time})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(yd,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{children:M.location})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(vn,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{children:[M.attendees,"/",M.maxAttendees," attending"]})]}),o.jsx(ne,{variant:"outline",className:"text-xs",children:M.organizer})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${M.attendees/M.maxAttendees*100}%`}})}),o.jsx(Y,{onClick:()=>A(M.id),className:`w-full ${M.registered?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:M.registered?"Registered":"Register"})]})]},M.id))})}),o.jsx(Oe,{value:"challenges",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.filter(M=>M.title.toLowerCase().includes(r.toLowerCase())||M.description.toLowerCase().includes(r.toLowerCase())).map(M=>o.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[o.jsxs(je,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ce,{className:"text-lg",children:M.title}),o.jsx(ne,{className:`text-xs ${$(M.difficulty)}`,children:M.difficulty})]}),o.jsx("p",{className:"text-sm text-gray-600",children:M.description})]}),o.jsxs(ce,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(vn,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{children:[M.participants.toLocaleString()," participants"]})]}),o.jsx(ne,{variant:"outline",className:"text-xs",children:M.category})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{children:M.duration})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yn,{className:"w-4 h-4 text-yellow-500"}),o.jsx("span",{children:M.reward})]})]}),M.joined&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[M.progress,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${M.progress}%`}})})]}),o.jsx(Y,{onClick:()=>I(M.id),className:`w-full ${M.joined?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-purple-600 text-white hover:bg-purple-700"}`,children:M.joined?"Joined":"Join Challenge"})]})]},M.id))})}),o.jsx(Oe,{value:"leaderboard",children:o.jsx("div",{className:"space-y-4",children:o.jsxs(te,{children:[o.jsxs(je,{children:[o.jsxs(Ce,{className:"flex items-center gap-2",children:[o.jsx(Us,{className:"w-5 h-5 text-yellow-500"}),"Community Leaderboard"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Top contributors this month"})]}),o.jsx(ce,{children:o.jsx("div",{className:"space-y-3",children:S.map((M,F)=>o.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${M.name===w.name?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-white border",children:o.jsx("span",{className:`text-sm font-bold ${M.rank===1?"text-yellow-600":M.rank===2?"text-gray-600":M.rank===3?"text-amber-600":"text-gray-800"}`,children:M.rank})}),o.jsxs(SE,{className:"w-10 h-10",children:[o.jsx(NE,{src:M.avatar,alt:M.name}),o.jsx(jE,{children:M.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold",children:M.name}),M.name===w.name&&o.jsx(ne,{variant:"default",className:"text-xs",children:"You"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[o.jsx(fn,{className:"w-3 h-3 fill-current text-yellow-500"}),o.jsxs("span",{children:[M.points.toLocaleString()," points"]})]})]}),M.rank<=3&&o.jsxs("div",{className:"flex items-center",children:[M.rank===1&&o.jsx(Us,{className:"w-5 h-5 text-yellow-500"}),M.rank===2&&o.jsx(Yn,{className:"w-5 h-5 text-gray-500"}),M.rank===3&&o.jsx(Yn,{className:"w-5 h-5 text-amber-600"})]})]},F))})})]})})})]})]})},nDe=()=>{const{currentUser:t}=_n();Xr();const{addNotification:e}=Ya(),[n,r]=C.useState({category:"transport",amount:"",description:""}),i=[{id:"transport",label:"Transport",icon:zm,color:"blue"},{id:"energy",label:"Energy",icon:OY,color:"green"},{id:"food",label:"Food",icon:HY,color:"yellow"},{id:"shopping",label:"Shopping",icon:Q0,color:"red"},{id:"travel",label:"Travel",icon:$Y,color:"purple"}],[s,a]=C.useState([]);C.useEffect(()=>{if(!t){a([]);return}const m=gt(Ne,`users/${t.uid}/carbonEntries`),g=jc(m,Od("timestamp","desc")),v=Or(g,y=>{const x=y.docs.map(b=>{var w;return{id:b.id,category:b.data().category,amount:b.data().amount,description:b.data().description,date:((w=b.data().timestamp)==null?void 0:w.toDate().toISOString().split("T")[0])||""}});a(x)});return()=>v()},[t]);const l=async()=>{if(!t){console.log("User not authenticated. Cannot add entry.");return}if(n.amount&&n.description&&parseFloat(n.amount)>0){const m=gt(Ne,`users/${t.uid}/carbonEntries`);await Rd(m,{category:n.category,amount:parseFloat(n.amount),description:n.description,timestamp:jv()}),r({category:"transport",amount:"",description:""}),e({type:"environmental",title:"New Carbon Entry Added",message:`Added ${n.amount} kg CO for ${n.category}.`,read:!1,source:"carbon",actionable:!1})}},c=()=>{if(s.length===0)return[{month:"This Month",emissions:0,target:2}];const m=s.reduce((g,v)=>{const y=new Date(v.date).toLocaleDateString("en",{month:"short"});return g[y]=(g[y]||0)+v.amount,g},{});return Object.entries(m).map(([g,v])=>({month:g,emissions:parseFloat(v.toFixed(2)),target:2}))},u=()=>{if(s.length===0)return[];const m=s.reduce((y,x)=>(y[x.category]=(y[x.category]||0)+x.amount,y),{}),g=Object.values(m).reduce((y,x)=>y+x,0),v=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"];return Object.entries(m).map(([y,x],b)=>{var w;return{name:((w=i.find(N=>N.id===y))==null?void 0:w.label)||y,value:Math.round(x/g*100),color:v[b%v.length]}})},h=c(),d=u(),f=()=>s.reduce((m,g)=>m+g.amount,0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(te,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:[o.jsxs(je,{children:[o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(dt,{className:"w-6 h-6 text-green-600"}),o.jsx("span",{children:"Carbon Footprint Tracker"})]}),o.jsx("p",{className:"text-gray-600",children:"Monitor and reduce your environmental impact"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white p-4 rounded-lg border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total CO Tracked"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[f().toFixed(1)," kg"]})]}),o.jsx(X0,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white p-4 rounded-lg border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Entries"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.length})]}),o.jsx(xn,{className:"w-8 h-8 text-blue-500"})]})}),o.jsx("div",{className:"bg-white p-4 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Carbon Entries"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.length})]})}),o.jsx("div",{className:"bg-white p-4 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Points Earned"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Math.floor(f()*10)})]})})]})})]}),o.jsxs(Jr,{defaultValue:"tracker",className:"w-full",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-3",children:[o.jsx(Qe,{value:"tracker",children:"Add Entry"}),o.jsx(Qe,{value:"overview",children:"Recent Activity"}),o.jsx(Qe,{value:"breakdown",children:"Breakdown"})]}),o.jsx(Oe,{value:"tracker",className:"space-y-4",children:o.jsxs(te,{children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(SY,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Carbon Emission Entry"})]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(At,{htmlFor:"category",children:"Category"}),o.jsx("div",{className:"grid grid-cols-5 gap-2 mt-2",children:i.map(m=>o.jsxs(Y,{variant:n.category===m.id?"default":"outline",className:"flex flex-col items-center p-3 h-auto",onClick:()=>r({...n,category:m.id}),children:[o.jsx(m.icon,{className:"w-5 h-5 mb-1"}),o.jsx("span",{className:"text-xs",children:m.label})]},m.id))})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"amount",children:"CO Amount (kg)"}),o.jsx(st,{id:"amount",type:"number",step:"0.01",placeholder:"0.00",value:n.amount,onChange:m=>r({...n,amount:m.target.value})})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"description",children:"Description"}),o.jsx(st,{id:"description",placeholder:"Describe the activity...",value:n.description,onChange:m=>r({...n,description:m.target.value})})]}),o.jsx(Y,{onClick:l,className:"w-full",children:"Add Entry"})]})]})}),o.jsx(Oe,{value:"overview",className:"space-y-4",children:s.length===0?o.jsx(te,{children:o.jsxs(ce,{className:"p-8 text-center",children:[o.jsx(dt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No entries yet"}),o.jsx("p",{className:"text-gray-500",children:"Start tracking your carbon footprint by adding your first entry!"})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(te,{children:[o.jsx(je,{children:o.jsx(Ce,{children:"Monthly Emissions"})}),o.jsx(ce,{children:o.jsx("div",{className:"h-64",children:o.jsx(Pc,{width:"100%",height:"100%",children:o.jsxs(MT,{data:h,children:[o.jsx(Ig,{strokeDasharray:"3 3"}),o.jsx(eo,{dataKey:"month"}),o.jsx(to,{}),o.jsx(jr,{}),o.jsx(Ci,{type:"monotone",dataKey:"emissions",stroke:"#10b981",strokeWidth:3}),o.jsx(Ci,{type:"monotone",dataKey:"target",stroke:"#6b7280",strokeDasharray:"5 5"})]})})})})]}),d.length>0&&o.jsxs(te,{className:"hidden md:block",children:[" ",o.jsx(je,{children:o.jsx(Ce,{children:"Emissions by Category"})}),o.jsx(ce,{children:o.jsx("div",{className:"h-64",children:o.jsx(Pc,{width:"100%",height:"100%",children:o.jsxs(qMe,{children:[o.jsx(Za,{data:d,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:m,value:g})=>`${m}: ${g}%`,children:d.map((m,g)=>o.jsx(Aw,{fill:m.color},`cell-${g}`))}),o.jsx(jr,{})]})})})})]})]}),o.jsxs(te,{children:[o.jsx(je,{children:o.jsx(Ce,{children:"Recent Activities"})}),o.jsx(ce,{children:o.jsx("div",{className:"space-y-3",children:s.slice(0,5).map(m=>{const g=i.find(v=>v.id===m.category);return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full bg-${g==null?void 0:g.color}-100`,children:o.jsx(g.icon,{className:`w-4 h-4 text-${g==null?void 0:g.color}-600`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:m.description}),o.jsx("p",{className:"text-sm text-gray-600",children:m.date})]})]}),o.jsxs(ne,{variant:"outline",children:[m.amount," kg CO"]})]},m.id)})})})]})]})}),o.jsx(Oe,{value:"breakdown",className:"space-y-4",children:s.length===0?o.jsx(te,{children:o.jsxs(ce,{className:"p-8 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No data to show"}),o.jsx("p",{className:"text-gray-500",children:"Add some carbon entries to see your breakdown!"})]})}):o.jsxs(te,{children:[o.jsx(je,{children:o.jsx(Ce,{children:"Category Breakdown"})}),o.jsx(ce,{children:o.jsx("div",{className:"space-y-4",children:d.map((m,g)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"font-medium",children:m.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:m.color}}),o.jsxs("span",{children:[m.value,"%"]})]})]},g))})})]})})]})]})},NH=()=>{const{addScannedProduct:t,addPoints:e}=Xr(),{comparisonProducts:n,addProductToComparison:r,clearComparison:i}=uB(),{addPurchaseNotification:s}=Yw(),a=n,[l,c]=C.useState(""),[u,h]=C.useState(()=>gm(8)),[d,f]=C.useState(!1),[m,g]=C.useState("score"),v=E=>{const A=n.filter(I=>I.id!==E);i(),A.forEach(I=>r(I)),Ll({title:"Product Removed",description:"Product has been removed from comparison."})},y=E=>{if(n.length>=10){Ll({title:"Maximum Reached",description:"You can compare up to 10 products at a time.",variant:"destructive"});return}if(n.find(R=>R.id===String(E.id))){Ll({title:"Already Added",description:"This product is already in your comparison.",variant:"destructive"});return}const A=typeof E.sustainabilityScore=="number"?E.sustainabilityScore:0,I={id:E.id,name:E.name,brand:E.brand,price:E.price,sustainabilityScore:A,metrics:{carbon:Math.floor(A*.9+Math.random()*10-5),water:Math.floor(A*.95+Math.random()*10-5),waste:Math.floor(A*.85+Math.random()*10-5),energy:Math.floor(A*.92+Math.random()*10-5),ethics:Math.floor(A*1.05+Math.random()*10-5)},image:E.image,certifications:E.certifications.slice(0,3),pros:[E.vegan?"Vegan friendly":"Quality materials",E.packaging.recyclable?"Recyclable packaging":"Durable design","Good sustainability score"],cons:[E.price>50?"Higher price point":"Limited color options","Consider shipping impact"],rating:E.rating,reviews:E.reviews,inStock:E.inStock,features:E.features,category:E.category};r(I),t({id:E.id,date:new Date().toISOString(),name:E.name,brand:E.brand,sustainabilityScore:A,category:E.category,price:E.price,metrics:{carbon:Math.floor(A*.9+Math.random()*10-5),water:Math.floor(A*.95+Math.random()*10-5),waste:Math.floor(A*.85+Math.random()*10-5),energy:Math.floor(A*.92+Math.random()*10-5),ethics:Math.floor(A*1.05+Math.random()*10-5)},image:E.image,certifications:E.certifications.slice(0,3),pros:[E.vegan?"Vegan friendly":"Quality materials",E.packaging.recyclable?"Recyclable packaging":"Durable design","Good sustainability score"],cons:[E.price>50?"Higher price point":"Limited color options","Consider shipping impact"],rating:E.rating,reviews:E.reviews,inStock:E.inStock,features:E.features,source:"ProductComparison"}),e(5),Ll({title:"Product Added",description:`${E.name} has been added to comparison (+5 points!)`}),s(E.name)},x=async()=>{if(!l.trim()){h(gm(8));return}f(!0);try{await new Promise(A=>setTimeout(A,500));const E=jA(l);h(E.slice(0,12)),Ll({title:"Search Complete",description:`Found ${E.length} products matching "${l}"`})}catch{Ll({title:"Search Failed",description:"Unable to search products. Please try again.",variant:"destructive"})}finally{f(!1)}},b=E=>{switch(m){case"price":return[...E].sort((A,I)=>(A.price??0)-(I.price??0));case"rating":return[...E].sort((A,I)=>(I.rating??0)-(A.rating??0));case"score":default:return[...E].sort((A,I)=>(I.sustainabilityScore??0)-(A.sustainabilityScore??0))}},w=E=>E>=80?"text-green-600":E>=60?"text-yellow-600":"text-red-600",N=E=>E>=80?"bg-green-100 border-green-200":E>=60?"bg-yellow-100 border-yellow-200":"bg-red-100 border-red-200",S={carbon:dt,water:fi,waste:tg,energy:Tn,ethics:ls},P={carbon:"Carbon",water:"Water",waste:"Waste",energy:"Energy",ethics:"Ethics"},j=a.reduce((E,A)=>(A.sustainabilityScore??0)>((E==null?void 0:E.sustainabilityScore)??0)?A:E,null),_=a.length>0?Math.round(a.reduce((E,A)=>E+(A.sustainabilityScore??0),0)/a.length):0,k=a.length>0?{min:Math.min(...a.map(E=>Number(E.price??0))),max:Math.max(...a.map(E=>Number(E.price??0)))}:{min:0,max:0};return o.jsx("div",{className:"space-y-6",children:o.jsxs(te,{className:"bg-white/95 backdrop-blur-sm border-purple-200/50 shadow-xl rounded-3xl overflow-hidden",children:[o.jsx(je,{className:"pb-6 bg-gradient-to-r from-purple-50 to-blue-50",children:o.jsxs(Ce,{className:"flex items-center space-x-4 text-gray-800",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-blue-600 rounded-2xl shadow-lg",children:o.jsx(UP,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-2xl font-bold",children:"Smart Product Comparison"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1 font-normal",children:"Compare sustainability scores and make informed choices"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(ne,{variant:"secondary",className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-xl",children:[o.jsx(fa,{className:"w-4 h-4 mr-1"}),"AI Enhanced"]}),n.length>0&&o.jsx(Y,{variant:"outline",size:"sm",onClick:i,className:"rounded-xl border-red-300 text-red-600 hover:bg-red-50",children:"Clear All"})]})]})}),o.jsx(ce,{className:"p-6",children:o.jsxs(Jr,{defaultValue:"compare",className:"w-full",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-3 bg-gray-100 rounded-2xl p-1",children:[o.jsx(Qe,{value:"compare",className:"rounded-xl",children:"Compare"}),o.jsx(Qe,{value:"search",className:"rounded-xl",children:"Add Products"}),o.jsx(Qe,{value:"insights",className:"rounded-xl",children:"AI Insights"})]}),o.jsx(Oe,{value:"compare",className:"mt-6",children:n.length>0?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl border border-green-200/50",children:[o.jsx("div",{className:"text-2xl font-bold text-green-700",children:(j==null?void 0:j.sustainabilityScore)||0}),o.jsx("div",{className:"text-sm text-green-600",children:"Highest Score"}),j&&o.jsx("div",{className:"text-xs text-green-500 mt-1",children:j.name})]}),o.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-200/50",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-700",children:n.length}),o.jsx("div",{className:"text-sm text-blue-600",children:"Products"}),o.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"Compared"})]}),o.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl border border-purple-200/50",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-700",children:_}),o.jsx("div",{className:"text-sm text-purple-600",children:"Average Score"}),o.jsx("div",{className:"text-xs text-purple-500 mt-1",children:"Sustainability"})]}),o.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl border border-orange-200/50",children:[o.jsxs("div",{className:"text-2xl font-bold text-orange-700",children:["$",k.min,"-$",k.max]}),o.jsx("div",{className:"text-sm text-orange-600",children:"Price Range"}),o.jsx("div",{className:"text-xs text-orange-500 mt-1",children:"USD"})]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Product Comparison"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),o.jsxs("select",{value:m,onChange:E=>g(E.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"score",children:"Sustainability Score"}),o.jsx("option",{value:"price",children:"Price"}),o.jsx("option",{value:"rating",children:"Rating"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b(n).map((E,A)=>{var I,R;return o.jsxs(te,{className:`relative border-2 hover:border-purple-300 transition-all duration-200 rounded-2xl overflow-hidden shadow-lg ${(j==null?void 0:j.id)===E.id?"border-green-400 ring-2 ring-green-200":"border-gray-200"}`,children:[o.jsx(Y,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0 rounded-full bg-white/80 hover:bg-red-100 z-10",onClick:()=>v(E.id),children:o.jsx(ng,{className:"w-4 h-4 text-gray-600 hover:text-red-600"})}),(j==null?void 0:j.id)===E.id&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs(ne,{className:"bg-green-600 text-white",children:[o.jsx(Yn,{className:"w-3 h-3 mr-1"}),"Best Choice"]})}),o.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[o.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),E.inStock&&o.jsx(ne,{className:"absolute bottom-2 left-2 bg-green-600 text-white",children:"In Stock"}),o.jsx("div",{className:"absolute bottom-2 right-2",children:o.jsx(ne,{className:`${N(E.sustainabilityScore)} text-gray-800 border-0 font-bold`,children:E.sustainabilityScore})})]}),o.jsxs(ce,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800",children:E.name}),o.jsx("p",{className:"text-sm text-gray-600",children:E.brand}),o.jsxs("p",{className:"text-xl font-bold text-purple-600 mt-2",children:["$",E.price]}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-1",children:[o.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map(($,W)=>o.jsx(fn,{className:`w-4 h-4 ${W<Math.floor(E.rating)?"fill-current":"fill-gray-200"}`},W))}),o.jsxs("span",{className:"text-sm text-gray-500",children:["(",E.reviews,")"]})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`text-4xl font-bold mb-2 ${w(E.sustainabilityScore)}`,children:E.sustainabilityScore}),o.jsx(ne,{className:`${N(E.sustainabilityScore)} text-gray-800 border-0`,children:E.sustainabilityScore>=80?"Excellent":E.sustainabilityScore>=60?"Good":"Poor"})]}),o.jsx("div",{className:"space-y-3",children:Object.entries(E.metrics||{}).map(([$,W])=>{const H=S[$],F=Math.max(0,Math.min(100,typeof W=="number"?W:0));return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:o.jsx(H,{className:"w-4 h-4 text-gray-600"})}),o.jsx("span",{className:"text-sm font-medium",children:P[$]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${F>=80?"bg-green-500":F>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${F}%`}})}),o.jsx("span",{className:"text-sm font-bold w-8 text-right",children:F})]})]},$)})}),E.certifications&&E.certifications.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Certifications"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:E.certifications.map(($,W)=>o.jsx(ne,{variant:"outline",className:"text-xs border-gray-300",children:$},W))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-green-700 mb-2 flex items-center",children:[o.jsx(Kt,{className:"w-4 h-4 mr-1 min-w-[1rem]"}),"Pros"]}),(I=E.pros)==null?void 0:I.slice(0,2).map(($,W)=>o.jsxs("div",{className:"flex items-start space-x-2 mb-1",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2"}),o.jsx("span",{className:"text-xs text-gray-600",children:$})]},W))]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-red-700 mb-2 flex items-center",children:[o.jsx(Zi,{className:"w-4 h-4 mr-1 min-w-[1rem]"}),"Cons"]}),(R=E.cons)==null?void 0:R.slice(0,2).map(($,W)=>o.jsxs("div",{className:"flex items-start space-x-2 mb-1",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),o.jsx("span",{className:"text-xs text-gray-600",children:$})]},W))]})]})]})]},E.id)})})]}):o.jsx(te,{className:"border-dashed border-2 border-gray-300 rounded-2xl",children:o.jsxs(ce,{className:"text-center py-12",children:[o.jsx(UP,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Products to Compare"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Add products to start comparing their sustainability scores"}),o.jsx(Y,{onClick:()=>{gm(2).forEach(A=>y(A))},className:"bg-gradient-to-r from-purple-500 to-blue-600 hover:from-purple-600 hover:to-blue-700 rounded-xl",children:"Add Sample Products"})]})})}),o.jsx(Oe,{value:"search",className:"mt-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(st,{placeholder:"Search for products to compare...",value:l,onChange:E=>c(E.target.value),onKeyDown:E=>E.key==="Enter"&&x(),className:"pl-10 border-gray-300 focus:border-purple-400 h-12 rounded-2xl",disabled:d})]}),o.jsx(Y,{onClick:x,disabled:d,className:"bg-gradient-to-r from-purple-500 to-blue-600 hover:from-purple-600 hover:to-blue-700 rounded-xl px-6",children:d?"Searching...":"Search"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[u.length," products available  ",n.length,"/4 selected"]}),n.length>=4&&o.jsx(ne,{variant:"outline",className:"text-amber-600 border-amber-300",children:"Maximum reached"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.filter(E=>!n.find(A=>A.id===String(E.id))).slice(0,9).map(E=>o.jsx(te,{className:"hover:shadow-lg transition-all duration-200 border border-gray-200 rounded-2xl overflow-hidden",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:E.image,alt:E.name,className:"w-16 h-16 object-cover rounded-xl"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-gray-800 truncate",children:E.name}),o.jsxs("p",{className:"text-sm text-gray-600 truncate",children:[E.brand,"  $",E.price]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(ne,{className:`${N(E.sustainabilityScore)} text-gray-800 border-0 text-xs`,children:E.sustainabilityScore}),o.jsx("span",{className:"text-xs text-gray-500",children:"Score"}),o.jsx("div",{className:"flex text-yellow-400",children:[...Array(Math.floor(E.rating))].map((A,I)=>o.jsx(fn,{className:"w-3 h-3 fill-current"},I))})]})]}),o.jsx(Y,{size:"sm",onClick:()=>y(E),disabled:n.length>=10,className:"bg-gradient-to-r from-purple-500 to-blue-600 hover:from-purple-600 hover:to-blue-700 rounded-xl disabled:opacity-50",children:o.jsx(es,{className:"w-4 h-4"})})]})})},E.id))}),u.filter(E=>!n.find(A=>A.id===String(E.id))).length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Kr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"No new products to add. All available products are already in your comparison."})]})]})}),o.jsx(Oe,{value:"insights",className:"mt-6",children:o.jsx("div",{className:"space-y-6",children:o.jsxs(te,{className:"border-purple-200 rounded-2xl",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(gd,{className:"w-5 h-5 text-amber-500"}),o.jsx("span",{children:"AI Comparison Insights"})]})}),o.jsx(ce,{className:"space-y-4",children:n.length>1?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Kt,{className:"w-5 h-5 text-green-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-800",children:"Best Overall Choice"}),o.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[j==null?void 0:j.name," scores highest with ",j==null?void 0:j.sustainabilityScore,"/100, offering the best balance of sustainability and value.",j&&Number(j.price??0)<=Number(_)&&" Plus, it's competitively priced!"]})]})]})}),o.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(vr,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-800",children:"Market Analysis"}),o.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Price range: $",k.min," - $",k.max,". Average sustainability score: ",_,"/100.",_>=75?"You're comparing high-quality sustainable products!":"Consider looking for higher-rated alternatives."]})]})]})}),o.jsx("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-xl",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(fn,{className:"w-5 h-5 text-purple-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-purple-800",children:"Personalized Recommendation"}),o.jsxs("p",{className:"text-sm text-purple-700 mt-1",children:["Based on your comparison pattern, you value sustainability over price.",j&&`${j.name} aligns perfectly with your preferences.`,"Consider checking for local availability to reduce shipping impact."]})]})]})}),n.length>2&&o.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-xl",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Zi,{className:"w-5 h-5 text-amber-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-amber-800",children:"Key Differences"}),o.jsxs("div",{className:"text-sm text-amber-700 mt-1 space-y-1",children:[o.jsxs("p",{children:[" Highest carbon efficiency: ",a.reduce((E,A)=>{var I,R;return(((I=A.metrics)==null?void 0:I.carbon)??0)>(((R=E.metrics)==null?void 0:R.carbon)??0)?A:E},a[0]).name]}),o.jsxs("p",{children:[" Best water conservation: ",a.reduce((E,A)=>{var I,R;return(((I=A.metrics)==null?void 0:I.water)??0)>(((R=E.metrics)==null?void 0:R.water)??0)?A:E},a[0]).name]}),o.jsxs("p",{children:[" Most affordable: ",a.length>0?a.reduce((E,A)=>Number(A.price??0)<Number(E.price??0)?A:E,a[0]).name:"N/A"," ($",a.length>0?a.reduce((E,A)=>Number(A.price??0)<Number(E.price??0)?A:E,a[0]).price:"N/A",")"]})]})]})]})})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(gd,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"Add more products to see AI-powered comparison insights."})]})})]})})})]})})]})})},jH=()=>{const{addNotification:t}=Ya();return{addScanNotification:(h,d)=>{t({type:"achievement",title:"Product Scanned Successfully!",message:'You scanned "'+h+'" with a sustainability score of '+d+". Keep making eco-friendly choices!",read:!1,source:"scanner",actionable:!0,action:"View Analysis",icon:Yn})},addPurchaseNotification:h=>{t({type:"shopping",title:"Added to Cart!",message:'"'+h+'" has been added to your cart. Continue shopping for more eco-friendly products!',read:!1,source:"marketplace",actionable:!0,action:"View Cart",icon:fr})},addCourseCompletionNotification:h=>{t({type:"achievement",title:"Course Completed!",message:`Congratulations! You've completed "`+h+'". Your knowledge about sustainability is growing!',read:!1,source:"education",actionable:!0,action:"View Certificate",icon:Ho})},addCommunityNotification:h=>{t({type:"community",title:"Community Activity",message:h,read:!1,source:"community",actionable:!0,action:"View Community",icon:vn})},addCarbonSavingNotification:h=>{t({type:"environmental",title:"Carbon Footprint Reduced!",message:"Great job! You've saved approximately "+h+"kg of CO through your sustainable choices this week.",read:!1,source:"carbon",actionable:!0,action:"View Carbon Tracker",icon:dt})},addRecipeViewNotification:h=>{t({type:"suggestion",title:"Recipe Viewed!",message:'You viewed "'+h+'". Try cooking this sustainable recipe to reduce your environmental impact!',read:!1,source:"recipes",actionable:!0,action:"Start Cooking",icon:xn})},addAchievementNotification:h=>{t({type:"achievement",title:"New Achievement Unlocked!",message:`Congratulations! You've earned the "`+h+'" achievement. Keep up the great work!',read:!1,source:"achievements",actionable:!0,action:"View Achievements",icon:Yn})},addChallengeNotification:h=>{t({type:"challenge",title:"New Challenge Available!",message:'Join the "'+h+'" challenge and make a positive impact on the environment with the community!',read:!1,source:"challenges",actionable:!0,action:"Join Challenge",icon:Tn})},addGeneralNotification:(h,d,f="info")=>{t({type:f,title:h,message:d,read:!1,source:"general",actionable:!1,icon:Wo})}}},rDe=()=>{var ue,pe;const[t,e]=C.useState(""),[n,r]=C.useState("all"),[i,s]=C.useState(null),[a,l]=C.useState(null),[c,u]=C.useState(null),{enrolledCourses:h,courseProgress:d,enrollInCourse:f,updateCourseProgress:m,userStats:g,incrementCourseCompleted:v,incrementRecipeViewed:y}=Xr(),{addCourseCompletionNotification:x,addRecipeViewNotification:b,addGeneralNotification:w}=jH(),{likedArticles:N,bookmarkedArticles:S,registeredWebinars:P,likeArticle:j,bookmarkArticle:_,registerWebinar:k}=Xr(),{toast:E}=Ks(),[A,I]=C.useState(!1),R=[{id:1,title:"Sustainable Living Basics",description:"Learn the fundamentals of eco-friendly lifestyle choices",duration:"2 hours",level:"Beginner",rating:4.8,students:1234,category:"lifestyle",thumbnail:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=400",lessons:8,instructor:"Dr. Sarah Green",price:"Free",content:[{title:"Introduction to Sustainable Living",duration:"15 min",completed:!1},{title:"Energy Conservation at Home",duration:"20 min",completed:!1},{title:"Waste Reduction Strategies",duration:"18 min",completed:!1},{title:"Sustainable Transportation",duration:"22 min",completed:!1},{title:"Green Shopping Guide",duration:"16 min",completed:!1},{title:"Water Conservation Tips",duration:"14 min",completed:!1},{title:"Eco-Friendly Diet Choices",duration:"19 min",completed:!1},{title:"Building Sustainable Habits",duration:"21 min",completed:!1}],skills:["Waste Reduction","Energy Efficiency","Sustainable Shopping","Green Living"]},{id:2,title:"Carbon Footprint Reduction",description:"Advanced strategies to minimize your environmental impact",duration:"3 hours",level:"Intermediate",rating:4.9,students:892,category:"carbon",thumbnail:"https://images.unsplash.com/photo-1569163139394-de4e4f43e4e3?w=400",lessons:12,instructor:"Prof. Mike Johnson",price:"$29",content:[{title:"Understanding Carbon Footprints",duration:"25 min",completed:!1},{title:"Home Energy Audits",duration:"30 min",completed:!1},{title:"Transportation Choices",duration:"28 min",completed:!1},{title:"Renewable Energy Options",duration:"35 min",completed:!1},{title:"Carbon Offset Programs",duration:"22 min",completed:!1},{title:"Business Carbon Strategies",duration:"40 min",completed:!1}],skills:["Carbon Calculation","Energy Auditing","Renewable Energy","Carbon Offsetting"]},{id:3,title:"Sustainable Business Practices",description:"How to implement green practices in your organization",duration:"4 hours",level:"Advanced",rating:4.7,students:567,category:"business",thumbnail:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=400",lessons:15,instructor:"Dr. Emma Wilson",price:"$49",content:[{title:"Sustainability in Business Strategy",duration:"45 min",completed:!1},{title:"Green Supply Chain Management",duration:"50 min",completed:!1},{title:"Sustainable Marketing",duration:"40 min",completed:!1}],skills:["Green Strategy","Supply Chain","Sustainable Marketing","ESG Reporting"]}],$=[{id:1,title:"10 Simple Ways to Reduce Plastic Waste",excerpt:"Practical tips for eliminating single-use plastics from your daily routine",readTime:"5 min read",author:"Dr. Sarah Green",category:"waste-reduction",image:"https://images.unsplash.com/photo-1583183416581-c9b803aa1149?w=400",tags:["Plastic","Zero Waste","DIY"],likes:234,comments:45,publishDate:"2024-06-15",content:`Plastic waste is one of the biggest environmental challenges we face today. Here are 10 practical ways to reduce your plastic consumption:
        
1. **Use reusable bags for shopping** - Keep cloth or canvas bags handy for grocery trips
2. **Carry a refillable water bottle** - Invest in a quality stainless steel or glass bottle
3. **Choose products with minimal packaging** - Opt for bulk items or products with recyclable packaging
4. **Use glass containers for food storage** - Replace plastic containers with glass alternatives
5. **Avoid single-use utensils and straws** - Carry your own reusable utensils

Making these small changes can significantly impact the environment while saving you money.`},{id:2,title:"The Hidden Environmental Cost of Fast Fashion",excerpt:"Understanding the true impact of clothing consumption on our planet",readTime:"8 min read",author:"Emma Thompson",category:"fashion",image:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",tags:["Fashion","Sustainability","Ethics"],likes:567,comments:89,publishDate:"2024-06-10",content:`Fast fashion has revolutionized how we consume clothing, but at what cost to our environment?
        
**The Scale of the Problem**
The fashion industry is the second-largest polluter globally, responsible for 10% of global carbon emissions.

**What You Can Do:**
- Buy fewer, higher-quality items
- Choose sustainable brands
- Thrift and swap clothes
- Care for clothes properly to extend their life`}],W=[{id:1,title:"Climate Action: What Individuals Can Do",speaker:"Dr. Climate Expert",date:"2024-07-20",time:"2:00 PM EST",duration:"1 hour",attendees:342,maxAttendees:500,status:"upcoming",thumbnail:"https://images.unsplash.com/photo-1611273426858-450d8e3c9fce?w=400",description:"Learn practical strategies for individual climate action and how small changes can make a big difference.",topics:["Personal Carbon Footprint","Sustainable Living","Climate Advocacy","Green Technology"],price:"Free"},{id:2,title:"Green Investing: ESG Funds Explained",speaker:"Finance Pro Sarah Johnson",date:"2024-06-18",time:"3:00 PM EST",duration:"45 minutes",attendees:156,maxAttendees:200,status:"recorded",thumbnail:"https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=400",description:"Understand how to invest in environmentally responsible funds and make your money work for the planet.",topics:["ESG Investing","Green Bonds","Sustainable Funds","Impact Investing"],price:"Free"}],H=[{id:1,name:"Course Completion Badge",earned:g.coursesCompleted>=1,description:"Complete your first course"},{id:2,name:"Sustainability Advocate",earned:g.coursesCompleted>=2,description:"Complete 2 courses"},{id:3,name:"Carbon Warrior",earned:g.coursesCompleted>=3,description:"Complete the Carbon Footprint course"},{id:4,name:"Eco Expert",earned:g.coursesCompleted>=5,description:"Complete 5 courses"},{id:5,name:"Knowledge Seeker",earned:g.recipesViewed>=10,description:"Read 10 articles"},{id:6,name:"Community Learner",earned:P.size>0,description:"Attend your first webinar"}],M=[{id:"all",label:"All Topics"},{id:"lifestyle",label:"Lifestyle"},{id:"carbon",label:"Carbon"},{id:"business",label:"Business"},{id:"energy",label:"Energy"},{id:"waste-reduction",label:"Waste"},{id:"fashion",label:"Fashion"}],F=V=>{f(V);const le=R.find(we=>we.id===V);le&&(w("Course Enrollment",`You've successfully enrolled in "${le.title}". Start learning now!`,"achievement"),E({title:"Enrollment Successful!",description:`You've been enrolled in ${le.title}. Start learning now!`}))},U=V=>{s(V),h.has(V.id)||F(V.id)},X=(V,le)=>{I(!0),setTimeout(()=>{I(!1);const we=d.get(le)||0,Ae=R.find(Xt=>Xt.id===le),tt=Math.min(we+100/((Ae==null?void 0:Ae.lessons)||8),100);m(le,tt),tt===100?(v(),console.log("incrementCourseCompleted called"),x((Ae==null?void 0:Ae.title)||"Course"),E({title:"Course Completed! ",description:"Congratulations! You've completed the course and earned a new badge."})):E({title:"Lesson Complete",description:`Great job completing "${V.title}"! Continue to the next lesson.`})},2e3)},z=V=>{const le=$.find(we=>we.id===V);N.has(V)?(j(V),E({title:"Like Removed",description:"Article removed from your liked articles."})):(j(V),le&&(b(le.title),y(),console.log("incrementRecipeViewed called"),E({title:"Article Liked!",description:"Article added to your liked articles."})))},G=V=>{const le=$.find(we=>we.id===V);S.has(V)?(_(V),E({title:"Bookmark Removed",description:"Article removed from your bookmarks."})):(_(V),le&&(w("Article Bookmarked",`"${le.title}" has been saved to your bookmarks.`,"info"),E({title:"Article Bookmarked!",description:"Article saved to your bookmarks."})))},q=V=>{const le=W.find(we=>we.id===V);P.has(V)?E({title:"Already Registered",description:"You're already registered for this webinar."}):(k(V),le&&(w("Webinar Registration",`You're now registered for "${le.title}" on ${le.date}.`,"info"),E({title:"Registration Successful!",description:"You're now registered for the webinar. Check your email for details."})))},ae=V=>{navigator.share?navigator.share({title:V.title,text:V.excerpt,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),E({title:"Link Copied!",description:"Article link copied to clipboard."}))},ye=V=>{const le=R.find(we=>we.id===V);le&&d.get(V)===100?E({title:"Certificate Downloaded!",description:`Your completion certificate for "${le.title}" has been downloaded.`}):E({title:"Complete Course First",description:"You need to complete the course to download the certificate."})},ie=V=>{switch(V){case"Beginner":return"bg-green-100 text-green-700";case"Intermediate":return"bg-yellow-100 text-yellow-700";case"Advanced":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},B=R.filter(V=>{const le=V.title.toLowerCase().includes(t.toLowerCase()),we=n==="all"||V.category===n;return le&&we}),Q=$.filter(V=>{const le=V.title.toLowerCase().includes(t.toLowerCase()),we=n==="all"||V.category===n;return le&&we}),Z=W.filter(V=>V.title.toLowerCase().includes(t.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(te,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:[o.jsxs(je,{children:[o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(Ho,{className:"w-6 h-6 text-blue-600"}),o.jsx("span",{children:"Education Center"})]}),o.jsx("p",{className:"text-gray-600",children:"Learn, grow, and become a sustainability champion"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(st,{placeholder:"Search courses, articles, webinars...",value:t,onChange:V=>e(V.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("select",{value:n,onChange:V=>r(V.target.value),className:"px-3 py-2 border rounded-md",children:M.map(V=>o.jsx("option",{value:V.id,children:V.label},V.id))}),o.jsx(Y,{variant:"outline",onClick:()=>E({title:"Filter Options",description:"Advanced filtering options coming soon!"}),children:o.jsx(mh,{className:"w-4 h-4"})})]})]})})]}),o.jsxs(Jr,{defaultValue:"courses",className:"w-full",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-4",children:[o.jsx(Qe,{value:"courses",children:"Courses"}),o.jsx(Qe,{value:"articles",children:"Articles"}),o.jsx(Qe,{value:"webinars",children:"Webinars"}),o.jsx(Qe,{value:"achievements",children:"Achievements"})]}),o.jsxs(Oe,{value:"courses",className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(V=>o.jsxs(te,{className:"group hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("img",{src:V.thumbnail,alt:V.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx(ne,{className:ie(V.level),children:V.level})}),o.jsx("div",{className:"absolute top-2 left-2",children:o.jsx(ne,{variant:"outline",className:"bg-white/90",children:V.price})})]}),o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg group-hover:text-blue-600 transition-colors",children:V.title}),o.jsx("p",{className:"text-sm text-gray-600",children:V.description}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["By ",V.instructor]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(qr,{className:"w-4 h-4"}),o.jsx("span",{children:V.duration})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(vn,{className:"w-4 h-4"}),o.jsx("span",{children:V.students})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(fn,{className:"w-4 h-4 text-yellow-400"}),o.jsx("span",{children:V.rating})]})]}),h.has(V.id)&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[Math.round(d.get(V.id)||0),"%"]})]}),o.jsx(Ht,{value:d.get(V.id)||0,className:"h-2"})]}),o.jsx(Y,{className:"w-full",variant:h.has(V.id)?"secondary":"default",onClick:()=>U(V),children:h.has(V.id)?"Continue Learning":"Start Course"})]})})]},V.id))}),i&&o.jsx(te,{className:"bg-white/95 rounded-xl border border-blue-100 mt-6",children:o.jsxs(ce,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:i.title}),o.jsx("p",{className:"text-gray-600 mb-3",children:i.description}),o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(ne,{className:ie(i.level),children:i.level}),o.jsx(ne,{variant:"outline",children:i.duration}),o.jsx(ne,{variant:"outline",children:i.price})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[o.jsxs("span",{children:["By ",i.instructor]}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(fn,{className:"w-4 h-4 text-yellow-400"}),o.jsx("span",{children:i.rating})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[i.students," students"]})]})]}),o.jsx(Y,{variant:"ghost",onClick:()=>s(null),children:""})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Course Progress"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex justify-between text-sm",children:o.jsxs("span",{children:["Progress: ",Math.round(d.get(i.id)||0),"%"]})}),o.jsx(Ht,{value:d.get(i.id)||0,className:"h-3"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Skills You'll Learn"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(ue=i.skills)==null?void 0:ue.map((V,le)=>o.jsx(ne,{variant:"outline",className:"text-xs",children:V},le))})]})]}),i.content&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Course Content"}),o.jsx("div",{className:"space-y-2",children:i.content.map((V,le)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Kt,{className:`w-4 h-4 ${V.completed?"text-green-500":"text-gray-300"}`}),o.jsxs("div",{children:[o.jsx("span",{className:V.completed?"text-gray-800":"text-gray-500",children:V.title}),o.jsx("div",{className:"text-xs text-gray-500",children:V.duration})]})]}),o.jsxs(Y,{size:"sm",variant:"ghost",onClick:()=>X(V,i.id),disabled:A,children:[o.jsx(NY,{className:"w-4 h-4 mr-1"}),A?"Playing...":"Play"]})]},le))})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Y,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>h.has(i.id)?null:F(i.id),children:h.has(i.id)?"Continue Learning":"Enroll Now"}),o.jsxs(Y,{variant:"outline",onClick:()=>G(i.id),children:[o.jsx(HS,{className:"w-4 h-4 mr-2"}),"Bookmark"]}),o.jsxs(Y,{variant:"outline",onClick:()=>ye(i.id),children:[o.jsx(iL,{className:"w-4 h-4 mr-2"}),"Certificate"]})]})]})})]}),o.jsxs(Oe,{value:"articles",className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Q.map(V=>{var le;return o.jsxs(te,{className:"group hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("img",{src:V.image,alt:V.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx(ne,{variant:"outline",className:"bg-white/90",children:V.readTime})})]}),o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg group-hover:text-blue-600 transition-colors",children:V.title}),o.jsx("p",{className:"text-sm text-gray-600",children:V.excerpt})]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:(le=V.tags)==null?void 0:le.map((we,Ae)=>o.jsx(ne,{variant:"outline",className:"text-xs",children:we},Ae))}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[o.jsxs("span",{children:["By ",V.author]}),o.jsx("span",{children:V.publishDate})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[o.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>z(V.id),className:N.has(V.id)?"text-red-500":"",children:[o.jsx(YP,{className:`w-4 h-4 mr-1 ${N.has(V.id)?"fill-current":""}`}),V.likes+(N.has(V.id)?1:0)]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Wm,{className:"w-4 h-4"}),o.jsx("span",{children:V.comments})]})]}),o.jsx(Y,{size:"sm",onClick:()=>{l(V),y()},children:"Read Article"})]})]})})]},V.id)})}),a&&o.jsx(te,{className:"bg-white/95 rounded-xl border border-blue-100 mt-6",children:o.jsxs(ce,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:a.title}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-4",children:[o.jsxs("span",{children:["By ",a.author]}),o.jsx("span",{children:""}),o.jsx("span",{children:a.readTime}),o.jsx("span",{children:""}),o.jsx("span",{children:a.publishDate})]})]}),o.jsx(Y,{variant:"ghost",onClick:()=>l(null),children:""})]}),o.jsx("img",{src:a.image,alt:a.title,className:"w-full h-64 object-cover rounded-lg mb-6"}),o.jsx("div",{className:"prose max-w-none mb-6",children:o.jsx("div",{className:"whitespace-pre-line text-gray-700 leading-relaxed",children:a.content||a.excerpt})}),o.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>z(a.id),className:N.has(a.id)?"text-red-500":"",children:[o.jsx(YP,{className:"w-4 h-4 mr-1"}),a.likes+(N.has(a.id)?1:0)]}),o.jsxs(Y,{variant:"ghost",size:"sm",children:[o.jsx(Wm,{className:"w-4 h-4 mr-1"}),a.comments]}),o.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>G(a.id),className:S.has(a.id)?"text-blue-500":"",children:[o.jsx(HS,{className:"w-4 h-4 mr-1"}),S.has(a.id)?"Bookmarked":"Bookmark"]})]}),o.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>ae(a),children:[o.jsx(ub,{className:"w-4 h-4 mr-1"}),"Share"]})]})]})})]}),o.jsxs(Oe,{value:"webinars",className:"space-y-4",children:[o.jsx("div",{className:"space-y-4",children:Z.map(V=>o.jsx(te,{className:"hover:shadow-md transition-shadow",children:o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:V.thumbnail,alt:V.title,className:"w-32 h-20 object-cover rounded"}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg",children:V.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:V.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[o.jsxs("span",{children:["Speaker: ",V.speaker]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[V.date," at ",V.time]}),o.jsx("span",{children:""}),o.jsx("span",{children:V.duration})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(ne,{variant:V.status==="upcoming"?"default":"secondary",children:V.status==="upcoming"?"Upcoming":"Recorded"}),o.jsx(ne,{variant:"outline",children:V.price}),P.has(V.id)&&o.jsx(ne,{className:"bg-green-100 text-green-700",children:"Registered"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[V.attendees,"/",V.maxAttendees]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Y,{size:"sm",onClick:()=>u(V),variant:"outline",children:"View Details"}),o.jsx(Y,{size:"sm",onClick:()=>q(V.id),className:"bg-green-600 hover:bg-green-700",children:P.has(V.id)?"Registered ":V.status==="upcoming"?"Register":"Watch"})]})]})]})})]})})},V.id))}),c&&o.jsx(te,{className:"bg-white/95 rounded-xl border border-blue-100 mt-6",children:o.jsxs(ce,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:c.title}),o.jsx("p",{className:"text-gray-600 mb-3",children:c.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[o.jsxs("span",{children:["By ",c.speaker]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[c.date," at ",c.time]}),o.jsx("span",{children:""}),o.jsx("span",{children:c.duration}),o.jsx("span",{children:""}),o.jsx("span",{children:c.price})]})]}),o.jsx(Y,{variant:"ghost",onClick:()=>u(null),children:""})]}),o.jsx("img",{src:c.thumbnail,alt:c.title,className:"w-full h-64 object-cover rounded-lg mb-6"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Topics Covered"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(pe=c.topics)==null?void 0:pe.map((V,le)=>o.jsx(ne,{variant:"outline",className:"text-xs",children:V},le))})]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[c.attendees,"/",c.maxAttendees," registered"]}),o.jsx(ne,{variant:c.status==="upcoming"?"default":"secondary",children:c.status==="upcoming"?"Upcoming":"Recorded"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Y,{className:"bg-green-600 hover:bg-green-700",onClick:()=>q(c.id),children:P.has(c.id)?"Registered ":c.status==="upcoming"?"Register Now":"Watch Recording"}),o.jsxs(Y,{variant:"outline",onClick:()=>E({title:"Calendar Event",description:"Event added to your calendar!"}),children:[o.jsx(os,{className:"w-4 h-4 mr-2"}),"Add to Calendar"]})]})]})})]}),o.jsxs(Oe,{value:"achievements",className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:H.map(V=>o.jsxs(te,{className:`text-center p-6 ${V.earned?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[o.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center ${V.earned?"bg-green-500":"bg-gray-300"}`,children:V.earned?o.jsx(Kt,{className:"w-8 h-8 text-white"}):o.jsx(Yn,{className:"w-8 h-8 text-gray-500"})}),o.jsx("h3",{className:`font-medium mb-2 ${V.earned?"text-green-700":"text-gray-500"}`,children:V.name}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:V.description}),o.jsx("p",{className:"text-xs text-gray-500",children:V.earned?"Earned!":"Not earned yet"})]},V.id))}),o.jsxs(te,{children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(vr,{className:"w-5 h-5"}),o.jsx("span",{children:"Your Learning Progress"})]})}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Courses Completed"}),o.jsxs("span",{className:"font-semibold text-blue-600",children:[g.coursesCompleted,"/10"]})]}),o.jsx(Ht,{value:g.coursesCompleted/10*100,className:"h-3"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Articles Read"}),o.jsxs("span",{className:"font-semibold text-green-600",children:[g.recipesViewed,"/50"]})]}),o.jsx(Ht,{value:g.recipesViewed/50*100,className:"h-3"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Webinars Registered"}),o.jsxs("span",{className:"font-semibold text-purple-600",children:[P.size,"/10"]})]}),o.jsx(Ht,{value:P.size/10*100,className:"h-3"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Learning Streak"}),o.jsx("span",{className:"font-semibold text-orange-600",children:"7 days"})]}),o.jsx("div",{className:"flex items-center space-x-1",children:[...Array(7)].map((V,le)=>o.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:o.jsx(Tn,{className:"w-3 h-3 text-white"})},le))})]})]})})]})]})]})]})},iDe=()=>{const{userStats:t}=Xr(),{notifications:e,unreadCount:n,markAsRead:r,markAllAsRead:i,clearAllNotifications:s}=Ya(),{toast:a}=Ks(),l=f=>{switch(r(f.id),f.source){case"education":a({title:"Redirecting to Education Center",description:"Continue your learning journey!"});break;case"marketplace":a({title:"Opening Marketplace",description:"Discover new sustainable products!"});break;case"scanner":a({title:"Opening Product Scanner",description:"Scan more products to track your impact!"});break;case"community":a({title:"Opening Community Hub",description:"Connect with fellow eco-enthusiasts!"});break;case"carbon":a({title:"Opening Carbon Tracker",description:"View your environmental impact!"});break;case"recipes":a({title:"Opening Recipe Finder",description:"Discover sustainable recipes!"});break;case"challenges":a({title:"Opening Challenges",description:"Join the sustainability challenge!"});break;case"investment":a({title:"Opening Investment Tracker",description:"Check your ESG portfolio performance!"});break;case"smartInsights":a({title:"New Smart Insight",description:"Check out your latest sustainability insights!"});break;default:a({title:"Action completed",description:"Thank you for staying engaged!"})}},c=f=>{switch(f){case"achievement":return"bg-amber-50 border-amber-200 text-amber-800";case"shopping":return"bg-blue-50 border-blue-200 text-blue-800";case"environmental":return"bg-green-50 border-green-200 text-green-800";case"community":return"bg-purple-50 border-purple-200 text-purple-800";case"suggestion":return"bg-indigo-50 border-indigo-200 text-indigo-800";case"challenge":return"bg-orange-50 border-orange-200 text-orange-800";case"tip":return"bg-teal-50 border-teal-200 text-teal-800"}},u=f=>{switch(f){case"scanning":return"bg-blue-100 text-blue-700";case"environmental":return"bg-green-100 text-green-700";case"education":return"bg-purple-100 text-purple-700";case"recipes":return"bg-orange-100 text-orange-700";case"community":return"bg-pink-100 text-pink-700";case"engagement":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},h=[{id:1,name:"First Scan",description:"Completed your first product scan",earned:t.totalScans>=1,date:"2024-06-01",icon:fn,category:"scanning"},{id:2,name:"Eco Explorer",description:"Scanned 10 sustainable products",earned:t.totalScans>=10,date:t.totalScans>=10?"2024-06-15":null,progress:Math.min(t.totalScans,10),total:10,icon:Yn,category:"scanning"},{id:3,name:"Carbon Saver",description:"Saved 10kg of CO through choices",earned:t.totalScans*.5>=10,date:t.totalScans*.5>=10?"2024-06-10":null,progress:Math.min(t.totalScans*.5,10),total:10,icon:dt,category:"environmental"},{id:4,name:"Learning Champion",description:"Completed your first course",earned:t.coursesCompleted>=1,date:t.coursesCompleted>=1?"2024-06-20":null,icon:Ho,category:"education"},{id:5,name:"Sustainability Scholar",description:"Completed 3 courses",earned:t.coursesCompleted>=3,date:t.coursesCompleted>=3?"2024-06-25":null,progress:Math.min(t.coursesCompleted,3),total:3,icon:Ho,category:"education"},{id:6,name:"Recipe Explorer",description:"Viewed 5 eco-friendly recipes",earned:t.recipesViewed>=5,date:t.recipesViewed>=5?"2024-06-18":null,progress:Math.min(t.recipesViewed,5),total:5,icon:xn,category:"recipes"},{id:7,name:"Community Helper",description:"Helped 5 community members",earned:!1,progress:0,total:5,icon:vn,category:"community"},{id:8,name:"Streak Master",description:"Maintain a 7-day activity streak",earned:!1,progress:5,total:7,icon:Tn,category:"engagement"}],d=h.filter(f=>f.earned).length;return o.jsxs("div",{className:"space-y-6",children:[o.jsx(te,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:o.jsxs(je,{children:[o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(Wo,{className:"w-6 h-6 text-blue-600"}),o.jsx("span",{children:"Notification Center"}),n>0&&o.jsx(ne,{className:"bg-red-500 hover:bg-red-600 ml-2",children:n})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-gray-600",children:"Stay updated with your eco journey"}),o.jsxs("div",{className:"flex space-x-2",children:[n>0&&o.jsx(Y,{variant:"outline",size:"sm",onClick:i,children:"Mark All Read"}),e.length>0&&o.jsx(Y,{variant:"outline",size:"sm",onClick:s,children:"Clear All"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs(te,{className:"text-center p-4",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[o.jsx(fr,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"font-semibold text-2xl text-blue-600",children:t.totalScans})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Products Scanned"})]}),o.jsxs(te,{className:"text-center p-4",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[o.jsx(Ho,{className:"w-5 h-5 text-purple-600"}),o.jsx("span",{className:"font-semibold text-2xl text-purple-600",children:t.coursesCompleted})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Courses Completed"})]}),o.jsxs(te,{className:"text-center p-4",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[o.jsx(xn,{className:"w-5 h-5 text-orange-600"}),o.jsx("span",{className:"font-semibold text-2xl text-orange-600",children:t.recipesViewed})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Recipes Viewed"})]}),o.jsxs(te,{className:"text-center p-4",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[o.jsx(Yn,{className:"w-5 h-5 text-amber-600"}),o.jsx("span",{className:"font-semibold text-2xl text-amber-600",children:d})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Achievements Earned"})]})]}),o.jsxs(Jr,{defaultValue:"notifications",className:"space-y-6",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-2",children:[o.jsxs(Qe,{value:"notifications",children:["Notifications",n>0&&o.jsx(ne,{className:"ml-2 bg-red-500 text-white text-xs",children:n})]}),o.jsxs(Qe,{value:"achievements",children:["Achievements",o.jsx(ne,{className:"ml-2 bg-amber-500 text-white text-xs",children:d})]})]}),o.jsx(Oe,{value:"notifications",children:o.jsx("div",{className:"space-y-4",children:e.length===0?o.jsx(te,{className:"text-center py-12",children:o.jsxs(ce,{children:[o.jsx(Wo,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-200 mb-2",children:"No notifications yet"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Start using the app to receive notifications about your eco journey!"})]})}):e.map(f=>o.jsx(te,{className:`transition-all duration-300 hover:shadow-lg cursor-pointer ${f.read?"bg-gray-50 dark:bg-gray-700":"bg-white dark:bg-gray-800 border-l-4 border-l-blue-500 dark:border-l-blue-400 shadow-sm"}`,onClick:()=>r(f.id),children:o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`p-2 rounded-full ${c(f.type)}`,children:f.icon?o.jsx(f.icon,{className:"w-5 h-5"}):o.jsx(Wo,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h3",{className:`font-semibold ${f.read?"text-gray-600 dark:text-gray-400":"text-gray-900 dark:text-gray-100"}`,children:f.title}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-xs text-gray-500",children:f.timestamp?typeof f.timestamp.toDate=="function"?f.timestamp.toDate().toLocaleString():f.timestamp.seconds?new Date(f.timestamp.seconds*1e3).toLocaleString():String(f.timestamp):""}),!f.read&&o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),o.jsx("p",{className:`text-sm ${f.read?"text-gray-500 dark:text-gray-400":"text-gray-700 dark:text-gray-300"} mb-3`,children:f.message}),f.actionable&&o.jsx(Y,{size:"sm",variant:"outline",onClick:m=>{m.stopPropagation(),l(f)},children:f.action})]})]})})},f.id))})}),o.jsx(Oe,{value:"achievements",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["scanning","environmental","education","community"].map(f=>{const m=h.filter(v=>v.category===f),g=m.filter(v=>v.earned).length;return o.jsxs(te,{className:"text-center p-4",children:[o.jsx(ne,{className:`mb-2 ${u(f)}`,children:f.charAt(0).toUpperCase()+f.slice(1)}),o.jsxs("p",{className:"text-sm text-gray-600",children:[g,"/",m.length," Earned"]})]},f)})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map(f=>o.jsx(te,{className:`transition-all duration-300 hover:shadow-lg ${f.earned?"bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-200":"bg-gray-50 border-gray-200"}`,children:o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`p-3 rounded-full ${f.earned?"bg-amber-100 text-amber-600":"bg-gray-200 text-gray-400"}`,children:o.jsx(f.icon,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:`font-semibold ${f.earned?"text-amber-800":"text-gray-600"}`,children:f.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[f.earned&&o.jsx(ne,{className:"bg-amber-500 hover:bg-amber-600",children:"Earned!"}),o.jsx(ne,{className:u(f.category),children:f.category})]})]}),o.jsx("p",{className:`text-sm ${f.earned?"text-amber-700":"text-gray-500"} mb-3`,children:f.description}),f.earned?o.jsxs("p",{className:"text-xs text-amber-600",children:["Earned on ",f.date]}):f.progress!==void 0?o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("span",{className:"text-xs text-gray-600",children:"Progress"}),o.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(f.progress),"/",f.total]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(f.progress/f.total*100,100)}%`}})})]}):o.jsx("p",{className:"text-xs text-gray-500",children:"Complete the required actions to unlock"})]})]})})},f.id))})]})})]})]})},sDe=()=>{const{user:t,logout:e}=_n(),{userStats:n,carbonEntries:r,scannedProducts:i}=Xr(),[s,a]=C.useState(!1),[l,c]=C.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"alex.green@example.com",location:"San Francisco, CA",bio:"Passionate about sustainability and making eco-friendly choices every day.",goals:{weeklyScans:10,monthlyGoal:"Reduce carbon footprint by 20%",yearlyTarget:"Achieve zero waste lifestyle"}});D.useEffect(()=>{(async()=>{if(t){const w=Re(Ne,"users",t.id),N=await Zo(w);if(N.exists()){const j=N.data();c({name:j.name||t.name||"",email:j.email||t.email||"",location:j.location||"",bio:j.bio||"",goals:j.goals||{weeklyScans:10,monthlyGoal:"Reduce carbon footprint by 20%",yearlyTarget:"Achieve zero waste lifestyle"}})}else await Zt(w,{uid:t.id,name:t.name||"",email:t.email||""},{merge:!0});const S=Re(Ne,"users",t.id);(await Zo(S)).exists()||await Zt(S,{totalScans:0,co2Saved:0,totalPoints:150,rank:999,currentWeekScans:0,coursesCompleted:0,recipesViewed:0,investmentsMade:0,transportTrips:0,esgReports:0,badges:0,avgScore:0,level:1,weeklyGoal:75,streakDays:0})}})()},[t]);const u=[{name:"Eco Warrior",description:"100+ sustainable scans",earned:n.totalScans>=100,progress:n.totalScans,target:100,icon:dt},{name:"Carbon Saver",description:"Saved 50kg CO",earned:n.co2Saved>=50,progress:n.co2Saved,target:50,icon:X0},{name:"Knowledge Seeker",description:"10+ courses completed",earned:n.coursesCompleted>=10,progress:n.coursesCompleted,target:10,icon:Ho},{name:"Recipe Explorer",description:"25+ recipes viewed",earned:n.recipesViewed>=25,progress:n.recipesViewed,target:25,icon:Y0},{name:"Green Investor",description:"5+ investments made",earned:n.investmentsMade>=5,progress:n.investmentsMade,target:5,icon:vr},{name:"Transport Pioneer",description:"20+ eco-trips planned",earned:n.transportTrips>=20,progress:n.transportTrips,target:20,icon:zm}],h=[{month:"Jan",scans:Math.max(0,n.totalScans-50),co2Saved:Math.max(0,n.co2Saved-25)},{month:"Feb",scans:Math.max(0,n.totalScans-40),co2Saved:Math.max(0,n.co2Saved-20)},{month:"Mar",scans:Math.max(0,n.totalScans-30),co2Saved:Math.max(0,n.co2Saved-15)},{month:"Apr",scans:Math.max(0,n.totalScans-20),co2Saved:Math.max(0,n.co2Saved-10)},{month:"May",scans:Math.max(0,n.totalScans-10),co2Saved:Math.max(0,n.co2Saved-5)},{month:"Jun",scans:n.totalScans,co2Saved:n.co2Saved}],d=Math.floor(n.totalScans/25)+1,f=n.totalScans%25/25*100,m=25-n.totalScans%25,g=[{rank:1,name:"EcoMaster_2024",scans:2156,co2Saved:124.3},{rank:2,name:"GreenGuardian",scans:1892,co2Saved:108.7},{rank:3,name:"SustainableLife",scans:1654,co2Saved:95.2},{rank:n.rank,name:"You",scans:n.totalScans,co2Saved:n.co2Saved,highlight:!0}],v={notifications:{email:!0,push:!0,weekly:!0,achievements:!0},privacy:{profilePublic:!0,statsVisible:!0,allowMessages:!0}},y=async()=>{if(a(!1),t)try{const b=Re(Ne,"users",t.id);await Zt(b,{name:l.name,email:l.email,location:l.location,bio:l.bio,goals:l.goals},{merge:!0}),console.log("Profile updated successfully!")}catch(b){console.error("Error updating profile:",b)}else console.warn("No user logged in to save profile.")},x=()=>{e()};return t?o.jsxs("div",{className:"space-y-6",children:[o.jsx(te,{className:"bg-gradient-to-r from-emerald-50 to-green-50 border-emerald-200 dark:from-emerald-900/20 dark:to-green-900/20 dark:border-emerald-700",children:o.jsx(je,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(As,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"}),o.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"User Profile & Dashboard"})]}),o.jsxs(Y,{variant:"outline",size:"sm",onClick:x,className:"border-red-300 text-red-600 hover:bg-red-50 dark:border-red-600 dark:text-red-400 dark:hover:bg-red-900/20",children:[o.jsx(GS,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})}),o.jsxs(Jr,{defaultValue:"profile",className:"space-y-6",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-5 bg-white/60 dark:bg-gray-800/60",children:[o.jsx(Qe,{value:"profile",className:"dark:text-gray-300 dark:data-[state=active]:bg-emerald-600 dark:data-[state=active]:text-white",children:"Profile"}),o.jsx(Qe,{value:"dashboard",className:"dark:text-gray-300 dark:data-[state=active]:bg-emerald-600 dark:data-[state=active]:text-white",children:"Dashboard"}),o.jsx(Qe,{value:"achievements",className:"dark:text-gray-300 dark:data-[state=active]:bg-emerald-600 dark:data-[state=active]:text-white",children:"Achievements"}),o.jsx(Qe,{value:"goals",className:"dark:text-gray-300 dark:data-[state=active]:bg-emerald-600 dark:data-[state=active]:text-white",children:"Goals"}),o.jsx(Qe,{value:"settings",className:"dark:text-gray-300 dark:data-[state=active]:bg-emerald-600 dark:data-[state=active]:text-white",children:"Settings"})]}),o.jsx(Oe,{value:"profile",children:o.jsxs(te,{className:"bg-white/70 backdrop-blur-sm border-sage-200 dark:bg-gray-800/70 dark:border-gray-600",children:[o.jsx(je,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ce,{className:"text-gray-800 dark:text-gray-200",children:"Profile Information"}),o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>s?y():a(!0),className:"dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:[s?o.jsx(FY,{className:"w-4 h-4 mr-2"}):o.jsx(zY,{className:"w-4 h-4 mr-2"}),s?"Save":"Edit"]})]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center",children:o.jsx(As,{className:"w-10 h-10 text-white"})}),s&&o.jsx(Y,{size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",children:o.jsx(K0,{className:"w-4 h-4"})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:l.name}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.location}),o.jsxs(ne,{className:"mt-1 bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/50 dark:text-emerald-300 dark:border-emerald-600",children:["Level ",d]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),s?o.jsx(st,{value:l.name,onChange:b=>c({...l,name:b.target.value}),className:"dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"}):o.jsx("p",{className:"text-gray-900 dark:text-gray-200",children:l.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),s?o.jsx(st,{type:"email",value:l.email,onChange:b=>c({...l,email:b.target.value}),className:"dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"}):o.jsx("p",{className:"text-gray-900 dark:text-gray-200",children:l.email})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),s?o.jsx(st,{value:l.location,onChange:b=>c({...l,location:b.target.value}),className:"dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"}):o.jsx("p",{className:"text-gray-900 dark:text-gray-200",children:l.location})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bio"}),s?o.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-md resize-none dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",rows:3,value:l.bio,onChange:b=>c({...l,bio:b.target.value})}):o.jsx("p",{className:"text-gray-900 dark:text-gray-200",children:l.bio})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-6 border-t border-gray-200 dark:border-gray-600",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:n.totalScans}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Scans"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[n.co2Saved,"kg"]}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"CO Saved"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:u.filter(b=>b.earned).length}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Badges"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["#",n.rank]}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Global Rank"})]})]})]})]})}),o.jsx(Oe,{value:"dashboard",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(te,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-green-100 text-sm",children:"Total Scans"}),o.jsx("p",{className:"text-2xl font-bold",children:n.totalScans})]}),o.jsx(xn,{className:"w-8 h-8 text-green-200"})]})})}),o.jsx(te,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-100 text-sm",children:"CO Saved"}),o.jsxs("p",{className:"text-2xl font-bold",children:[n.co2Saved,"kg"]})]}),o.jsx(X0,{className:"w-8 h-8 text-blue-200"})]})})}),o.jsx(te,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-purple-100 text-sm",children:"Total Points"}),o.jsx("p",{className:"text-2xl font-bold",children:n.totalPoints})]}),o.jsx(fn,{className:"w-8 h-8 text-purple-200"})]})})}),o.jsx(te,{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-orange-100 text-sm",children:"Global Rank"}),o.jsxs("p",{className:"text-2xl font-bold",children:["#",n.rank]})]}),o.jsx(Us,{className:"w-8 h-8 text-orange-200"})]})})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(te,{className:"bg-white/60 backdrop-blur-sm border-green-100 dark:bg-gray-800/60 dark:border-gray-600",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(fn,{className:"w-5 h-5 text-yellow-500"}),o.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Level Progress"})]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:["Level ",d]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Sustainability Explorer"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Progress to Level ",d+1]}),o.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[m," scans to go"]})]}),o.jsx(Ht,{value:f,className:"h-3"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[o.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:n.coursesCompleted}),o.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Courses"})]}),o.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:n.recipesViewed}),o.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Recipes"})]}),o.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[o.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:n.investmentsMade}),o.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Investments"})]})]})]})]}),o.jsxs(te,{className:"bg-white/60 backdrop-blur-sm border-green-100 dark:bg-gray-800/60 dark:border-gray-600",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-gray-800 dark:text-gray-200",children:"Monthly Activity"})}),o.jsx(ce,{children:o.jsx(Pc,{width:"100%",height:200,children:o.jsxs(YMe,{data:h,children:[o.jsx(Ig,{strokeDasharray:"3 3"}),o.jsx(eo,{dataKey:"month"}),o.jsx(to,{}),o.jsx(jr,{formatter:(b,w)=>[w==="scans"?`${b} scans`:`${b} kg CO`,w==="scans"?"Scans":"CO Saved"],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",color:"#374151"}}),o.jsx(za,{type:"monotone",dataKey:"scans",stackId:"1",stroke:"#22c55e",fill:"#22c55e",fillOpacity:.3}),o.jsx(za,{type:"monotone",dataKey:"co2Saved",stackId:"2",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3})]})})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(te,{className:"bg-white/60 backdrop-blur-sm border-green-100 dark:bg-gray-800/60 dark:border-gray-600",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-gray-800 dark:text-gray-200",children:"Activity Summary"})}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(xd,{className:"w-5 h-5 text-green-600"}),o.jsx("span",{className:"font-medium",children:"Carbon Entries"})]}),o.jsx("span",{className:"font-bold text-green-600",children:r.length})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(fr,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"font-medium",children:"Products Scanned"})]}),o.jsx("span",{className:"font-bold text-blue-600",children:i.length})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(zm,{className:"w-5 h-5 text-purple-600"}),o.jsx("span",{className:"font-medium",children:"Transport Trips"})]}),o.jsx("span",{className:"font-bold text-purple-600",children:n.transportTrips})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ka,{className:"w-5 h-5 text-orange-600"}),o.jsx("span",{className:"font-medium",children:"ESG Reports"})]}),o.jsx("span",{className:"font-bold text-orange-600",children:n.esgReports})]})]})})]}),o.jsxs(te,{className:"bg-white/60 backdrop-blur-sm border-green-100 dark:bg-gray-800/60 dark:border-gray-600",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(vn,{className:"w-5 h-5 text-purple-500"}),o.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Global Leaderboard"})]})}),o.jsx(ce,{children:o.jsx("div",{className:"space-y-3",children:g.map(b=>o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${b.highlight?"bg-blue-50 border-2 border-blue-200 dark:bg-blue-900/20 dark:border-blue-600":"bg-gray-50 dark:bg-gray-700/50"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${b.rank===1?"bg-yellow-500 text-white":b.rank===2?"bg-gray-400 text-white":b.rank===3?"bg-orange-500 text-white":b.highlight?"bg-blue-500 text-white":"bg-gray-300"}`,children:b.rank}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:b.name}),o.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b.scans," scans"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-bold text-green-600 dark:text-green-400",children:[b.co2Saved," kg"]}),o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"CO saved"})]})]},b.rank))})})]})]})]})}),o.jsx(Oe,{value:"achievements",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map((b,w)=>o.jsx(te,{className:`${b.earned?"bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-200 dark:from-amber-900/20 dark:to-yellow-900/20 dark:border-amber-600":"bg-gray-50 border-gray-200 dark:bg-gray-700/50 dark:border-gray-600"}`,children:o.jsxs(ce,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("div",{className:`p-2 rounded-full ${b.earned?"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400":"bg-gray-200 text-gray-400 dark:bg-gray-600 dark:text-gray-500"}`,children:o.jsx(b.icon,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h3",{className:`font-semibold ${b.earned?"text-amber-800 dark:text-amber-200":"text-gray-600 dark:text-gray-400"}`,children:b.name}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b.description})]})]}),b.earned?o.jsx(ne,{className:"bg-amber-500 hover:bg-amber-600 dark:bg-amber-600 dark:hover:bg-amber-700",children:"Earned"}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[b.progress,"/",b.target]})]}),o.jsx(Ht,{value:b.progress/b.target*100,className:"h-2"})]})]})},w))})}),o.jsx(Oe,{value:"goals",children:o.jsxs(te,{className:"bg-white/70 backdrop-blur-sm border-sage-200 dark:bg-gray-800/70 dark:border-gray-600",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2",children:[o.jsx(xn,{className:"w-5 h-5"}),o.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Personal Goals"})]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Weekly Scanning Goal"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Ht,{value:n.currentWeekScans/l.goals.weeklyScans*100})}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.currentWeekScans,"/",l.goals.weeklyScans]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Monthly Goal"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.goals.monthlyGoal})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Yearly Target"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.goals.yearlyTarget})]})]})]})}),o.jsx(Oe,{value:"settings",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(te,{className:"bg-white/70 backdrop-blur-sm border-sage-200 dark:bg-gray-800/70 dark:border-gray-600",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-gray-800 dark:text-gray-200",children:"Notification Preferences"})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Email Notifications"}),o.jsx("input",{type:"checkbox",defaultChecked:v.notifications.email,className:"dark:bg-gray-700"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Push Notifications"}),o.jsx("input",{type:"checkbox",defaultChecked:v.notifications.push,className:"dark:bg-gray-700"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Weekly Reports"}),o.jsx("input",{type:"checkbox",defaultChecked:v.notifications.weekly,className:"dark:bg-gray-700"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Achievement Alerts"}),o.jsx("input",{type:"checkbox",defaultChecked:v.notifications.achievements,className:"dark:bg-gray-700"})]})]})]}),o.jsxs(te,{className:"bg-white/70 backdrop-blur-sm border-sage-200 dark:bg-gray-800/70 dark:border-gray-600",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-gray-800 dark:text-gray-200",children:"Privacy Settings"})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Public Profile"}),o.jsx("input",{type:"checkbox",defaultChecked:v.privacy.profilePublic,className:"dark:bg-gray-700"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Show Statistics"}),o.jsx("input",{type:"checkbox",defaultChecked:v.privacy.statsVisible,className:"dark:bg-gray-700"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Allow Messages"}),o.jsx("input",{type:"checkbox",defaultChecked:v.privacy.allowMessages,className:"dark:bg-gray-700"})]})]})]})]})})]})]}):o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(te,{className:"bg-white/80 backdrop-blur-sm border-emerald-200 dark:bg-gray-800/80 dark:border-emerald-700",children:o.jsxs(ce,{className:"p-8 text-center",children:[o.jsx(As,{className:"w-16 h-16 mx-auto mb-4 text-gray-400 dark:text-gray-500"}),o.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800 dark:text-gray-200",children:"Please Login"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You need to be logged in to view your profile and statistics."})]})})})},aDe=()=>{const{userStats:t,scannedProducts:e,carbonEntries:n,addPoints:r,selectedCategory:i,setSelectedCategory:s,selectedPriority:a,setSelectedPriority:l,completedActions:c,setCompletedActions:u,actionProgress:h,setActionProgress:d}=Xr(),{addNotification:f}=Ya(),[m,g]=C.useState([]),{selectedTab:v,setSelectedTab:y}=Xr();D.useEffect(()=>{typeof window<"u"&&localStorage.setItem("aiRecommendationsSelectedTab",v)},[v]);const x=()=>{const A=[];if(e.length>0){const I=t.avgScore,R=e[0];I<70&&A.push({id:1,type:"product",title:"Improve Product Choices",description:`Your average sustainability score is ${I}. Focus on products with bamboo or recycled packaging to boost your score by 25-30 points.`,impact:`+${Math.floor((80-I)*.8)} points potential`,confidence:92,category:"Product Selection",icon:dt,priority:"high",timeToImplement:"2 minutes per product",difficulty:"Easy",carbonSaving:`${((80-I)*.05).toFixed(1)}kg CO/month`,actionType:"product_search",actionData:{query:"sustainable packaging",category:R.category}});const $=e.reduce((H,M)=>(H[M.category]=(H[M.category]||0)+1,H),{}),W=Object.entries($).sort(([,H],[,M])=>M-H)[0];W&&A.push({id:2,type:"behavior",title:`Optimize ${W[0]} Choices`,description:`You've scanned ${W[1]} ${W[0]} products. Consider exploring eco-certified brands in this category.`,impact:`+${W[1]*5} points`,confidence:88,category:W[0],icon:xn,priority:"medium",timeToImplement:"5 minutes research",difficulty:"Easy",carbonSaving:`${(W[1]*.3).toFixed(1)}kg CO/month`,actionType:"habit_tracker",actionData:{habit:`eco_${W[0]}`,target:"weekly"}})}if(n.length===0)A.push({id:3,type:"lifestyle",title:"Start Carbon Tracking",description:"Begin tracking your daily carbon footprint to identify reduction opportunities. Studies show tracking reduces emissions by 15% on average.",impact:"Up to 15% reduction",confidence:95,category:"Carbon Tracking",icon:ka,priority:"high",timeToImplement:"3 minutes daily",difficulty:"Easy",carbonSaving:"4.2kg CO/month",actionType:"habit_tracker",actionData:{habit:"daily_carbon_tracking",target:"daily"}});else{const I=n.reduce((R,$)=>R+$.amount,0)/n.length;I>10&&A.push({id:4,type:"optimization",title:"Reduce Daily Carbon Footprint",description:`Your average daily carbon footprint is ${I.toFixed(1)}kg. Consider public transport or walking for trips under 2 miles.`,impact:`-${(I*.2).toFixed(1)}kg CO/day`,confidence:89,category:"Transportation",icon:vr,priority:"medium",timeToImplement:"Planning required",difficulty:"Medium",carbonSaving:`${(I*.2*30).toFixed(1)}kg CO/month`,actionType:"action_plan",actionData:{steps:["Map nearby public transport","Plan walking routes","Set weekly targets"]}})}return t.streakDays<7&&A.push({id:5,type:"engagement",title:"Build Your Green Streak",description:`You're at ${t.streakDays} day streak. Reach 7 days to unlock bonus rewards and improve your sustainability habits.`,impact:"+100 bonus points",confidence:94,category:"Engagement",icon:fn,priority:"medium",timeToImplement:"Daily commitment",difficulty:"Medium",carbonSaving:"2.1kg CO/week",actionType:"habit_tracker",actionData:{habit:"daily_eco_action",target:"daily"}}),A};C.useEffect(()=>{g(x())},[t,e,n]);const b=()=>{const A=[];A.push({title:"Daily Streak",value:`${t.streakDays} days`,trend:t.streakDays>7?"Excellent streak!":t.streakDays>3?"Building momentum":"Start your streak",icon:Tn,change:t.streakDays>7?"positive":t.streakDays>3?"neutral":"negative",description:"Consecutive days with eco actions"});const I=t.currentWeekScans>5?"up":t.currentWeekScans>2?"stable":"down";A.push({title:"Weekly Scanning Activity",value:`${t.currentWeekScans} scans`,trend:I==="up"?"+40% from last week":I==="stable"?"Consistent activity":"Room for improvement",icon:ha,change:I,description:"Products scanned this week"}),A.push({title:"Carbon Impact",value:`${t.co2Saved.toFixed(1)}kg`,trend:t.co2Saved>10?"Great impact!":t.co2Saved>5?"Good start":"Just beginning",icon:dt,change:t.co2Saved>10?"positive":t.co2Saved>5?"neutral":"negative",description:"Total CO saved through better choices"}),A.push({title:"Avg Sustainability Score",value:`${t.avgScore}/100`,trend:t.avgScore>80?"Excellent!":t.avgScore>60?"Good progress":"Room for growth",icon:fn,change:t.avgScore>80?"positive":t.avgScore>60?"neutral":"negative",description:"Average score of scanned products"}),A.push({title:"Monthly Trend",value:`${t.monthlyTrend>0?"+":""}${t.monthlyTrend}%`,trend:t.monthlyTrend>0?"Improving":t.monthlyTrend<0?"Declining":"Stable",icon:vr,change:t.monthlyTrend>0?"positive":t.monthlyTrend<0?"negative":"neutral",description:"Change in sustainability score over the last month"}),A.push({title:"Top Category",value:t.topCategory||"None",trend:"Most scanned product category",icon:xn,change:"neutral",description:"Category with highest scan frequency"}),A.push({title:"Total Carbon Footprint",value:`${t.totalCarbonFootprint.toFixed(1)}kg`,trend:t.totalCarbonFootprint>100?"High footprint":"Manageable footprint",icon:dt,change:t.totalCarbonFootprint>100?"negative":"positive",description:"Your overall carbon footprint"}),A.push({title:"Achievements",value:`${t.achievements.length}`,trend:"Achievements unlocked",icon:fn,change:"positive",description:"Number of achievements earned"});const R=t.goals.filter($=>$.progress<100).length;return A.push({title:"Active Goals",value:`${R}`,trend:"Goals in progress",icon:Kt,change:R>0?"neutral":"positive",description:"Number of sustainability goals you are working on"}),A},w=A=>{const I=`action_${A.id}`;switch(A.actionType){case"product_search":const R=jA(A.actionData.query).slice(0,5);d($=>({...$,[I]:{type:"product_search",status:"in_progress",data:R,recommendation:A}})),r(10),f({type:"suggestion",title:"New Product Search Recommendation",message:`You started a product search for "${A.actionData.query}".`,read:!1,source:"AIRecommendations",actionable:!0,action:"View"});break;case"habit_tracker":d($=>({...$,[I]:{type:"habit_tracker",status:"started",data:{habit:A.actionData.habit,target:A.actionData.target,startDate:new Date().toISOString(),progress:0},recommendation:A}})),r(25),f({type:"suggestion",title:"Habit Tracker Started",message:`You started tracking the habit "${A.actionData.habit}".`,read:!1,source:"AIRecommendations",actionable:!0,action:"View"});break;case"action_plan":d($=>({...$,[I]:{type:"action_plan",status:"created",data:{steps:A.actionData.steps,completedSteps:[],createdDate:new Date().toISOString()},recommendation:A}})),r(15),f({type:"suggestion",title:"Action Plan Created",message:"You created a new action plan.",read:!1,source:"AIRecommendations",actionable:!0,action:"View"});break;default:u($=>[...$,A.id]),r(20),f({type:"suggestion",title:"Action Completed",message:`You completed the recommendation "${A.title}".`,read:!1,source:"AIRecommendations",actionable:!0,action:"View"})}},N=A=>{u(R=>[...R,A]);const I=`action_${A}`;d(R=>({...R,[I]:{...R[I],status:"completed"}})),r(50)},S=A=>{switch(A){case"high":return"border-l-red-400 bg-red-50/30 dark:bg-red-900/10";case"medium":return"border-l-amber-400 bg-amber-50/30 dark:bg-amber-900/10";default:return"border-l-slate-400 bg-slate-50/30 dark:bg-slate-900/10"}},P=A=>{switch(A){case"Easy":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Medium":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300";case"Hard":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},j=m.filter(A=>!(i!=="all"&&A.category!==i||a!=="all"&&A.priority!==a)),_=[...new Set(m.map(A=>A.category))],k=[...new Set(m.map(A=>A.priority))],E=b();return o.jsx("div",{className:"space-y-6",children:o.jsxs(te,{className:"bg-white/95 backdrop-blur-sm border-slate-200/50 shadow-lg rounded-2xl dark:bg-gray-800/95 dark:border-gray-700/50",children:[o.jsx(je,{className:"pb-4",children:o.jsxs(Ce,{className:"flex items-center justify-between text-slate-800 dark:text-slate-200",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-slate-800 dark:bg-slate-700 rounded-xl flex items-center justify-center",children:o.jsx(ha,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xl font-bold",children:"AI-Powered Recommendations"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-normal",children:"Personalized insights based on your activity"})]})]}),o.jsxs(ne,{variant:"outline",className:"border-slate-300 text-slate-700 bg-slate-50 dark:border-slate-600 dark:text-slate-300 dark:bg-slate-800",children:[o.jsx(fa,{className:"w-3 h-3 mr-1"}),"Live Data"]})]})}),o.jsx(ce,{className:"space-y-6",children:o.jsxs(Jr,{value:v,onValueChange:y,className:"w-full",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-4",children:[o.jsx(Qe,{value:"insights",children:"Your Insights"}),o.jsx(Qe,{value:"recommendations",children:"Smart Recommendations"}),o.jsx(Qe,{value:"actions",children:"Active Actions"}),o.jsx(Qe,{value:"progress",children:"Progress Tracking"})]}),o.jsxs(Oe,{value:"insights",className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:E.slice(0,4).map((A,I)=>{const R={positive:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",neutral:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",negative:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"},$={positive:o.jsx(Kl,{className:"w-4 h-4 rotate-45 text-green-600"}),neutral:o.jsx(Kl,{className:"w-4 h-4 text-amber-600"}),negative:o.jsx(Kl,{className:"w-4 h-4 -rotate-45 text-red-600"})};return o.jsxs("div",{className:"bg-slate-50/90 dark:bg-slate-800/90 rounded-2xl p-5 border border-slate-300 dark:border-slate-700 hover:shadow-xl transition-shadow duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-slate-700 dark:bg-slate-600 rounded-lg flex items-center justify-center",children:o.jsx(A.icon,{className:"w-5 h-5 text-white"})}),o.jsx("span",{className:"text-3xl font-extrabold text-slate-900 dark:text-slate-200",children:A.value})]}),o.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-200 text-base mb-1",children:A.title}),o.jsx("div",{className:"flex items-center space-x-2 mb-2",children:o.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${R[A.change]||R.neutral}`,children:[$[A.change]||$.neutral,o.jsx("span",{className:"ml-1",children:A.trend})]})}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:A.description})]},I)})}),o.jsxs(te,{className:"bg-white dark:bg-gray-800 border border-slate-200/50 dark:border-slate-700/50 rounded-2xl shadow-md",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"text-lg flex items-center space-x-2",children:[o.jsx(os,{className:"w-5 h-5"}),o.jsx("span",{children:"Recent Activity Impact"})]})}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Products Scanned This Week"}),o.jsx("span",{className:"font-semibold",children:t.currentWeekScans})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Average Sustainability Score"}),o.jsxs("span",{className:"font-semibold",children:[t.avgScore,"/100"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"CO Saved This Month"}),o.jsxs("span",{className:"font-semibold text-green-600",children:[t.co2Saved.toFixed(1),"kg"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Current Streak"}),o.jsxs("span",{className:"font-semibold text-blue-600",children:[t.streakDays," days"]})]})]})})]})]}),o.jsxs(Oe,{value:"recommendations",className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-slate-50/80 dark:bg-slate-800/80 rounded-xl border border-slate-200/50 dark:border-slate-700/50",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mh,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"}),o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Filters:"})]}),o.jsxs("select",{value:i,onChange:A=>s(A.target.value),className:"px-3 py-1 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-sm",children:[o.jsx("option",{value:"all",children:"All Categories"}),_.map(A=>o.jsx("option",{value:A,children:A},A))]}),o.jsxs("select",{value:a,onChange:A=>l(A.target.value),className:"px-3 py-1 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-sm",children:[o.jsx("option",{value:"all",children:"All Priorities"}),k.map(A=>o.jsx("option",{value:A,children:A},A))]})]}),o.jsx("div",{className:"space-y-4",children:j.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ha,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Great job! You're on track"}),o.jsx("p",{className:"text-gray-500",children:"Keep scanning products and tracking your carbon footprint to get personalized recommendations."})]}):j.map(A=>o.jsxs("div",{className:`border-l-4 ${S(A.priority)} rounded-xl p-6 hover:shadow-md transition-all duration-200 bg-white dark:bg-gray-800 border border-slate-200/50 dark:border-slate-700/50`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[o.jsx("div",{className:"w-10 h-10 bg-slate-700 dark:bg-slate-600 rounded-xl flex items-center justify-center",children:o.jsx(A.icon,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:A.title}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx(ne,{variant:"outline",className:"text-xs",children:A.category}),o.jsx(ne,{className:P(A.difficulty),children:A.difficulty}),c.includes(A.id)&&o.jsxs(ne,{className:"bg-green-100 text-green-800",children:[o.jsx(Kt,{className:"w-3 h-3 mr-1"}),"Completed"]})]})]})]}),o.jsxs(ne,{variant:"outline",className:"border-slate-300 text-slate-700 bg-white/70 dark:border-slate-600 dark:text-slate-300 dark:bg-slate-800/70",children:[A.confidence,"% confident"]})]}),o.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-4 leading-relaxed",children:A.description}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qr,{className:"w-4 h-4 text-slate-500"}),o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:A.timeToImplement})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(dt,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:A.carbonSaving})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xn,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:A.impact})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Y,{variant:"outline",size:"sm",className:"border-slate-300 hover:bg-slate-50 text-slate-700 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-700",children:"Learn More"}),o.jsxs(Y,{size:"sm",className:"bg-slate-800 hover:bg-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600",onClick:()=>w(A),disabled:c.includes(A.id),children:[c.includes(A.id)?"Completed":"Take Action",!c.includes(A.id)&&o.jsx(Kl,{className:"w-4 h-4 ml-1"})]})]})]},A.id))})]}),o.jsx(Oe,{value:"actions",className:"space-y-6",children:o.jsxs("div",{className:"space-y-4",children:[Object.entries(h).map(([A,I])=>o.jsxs(te,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold",children:I.recommendation.title}),o.jsx(ne,{variant:I.status==="completed"?"default":"secondary",children:I.status})]}),I.type==="product_search"&&I.data&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Recommended products:"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:I.data.slice(0,3).map(R=>o.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50",children:[o.jsx("h4",{className:"font-medium text-sm",children:R.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[R.brand," - Score: ",R.sustainabilityScore]}),o.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["$",R.price]})]},R.id))})]}),I.type==="habit_tracker"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Tracking: ",I.data.habit]}),o.jsx(Ht,{value:I.data.progress,className:"h-2"}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Target: ",I.data.target]})]}),I.type==="action_plan"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Action steps:"}),o.jsx("div",{className:"space-y-1",children:I.data.steps.map((R,$)=>o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Kt,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:R})]},$))})]}),I.status!=="completed"&&o.jsx(Y,{size:"sm",onClick:()=>N(I.recommendation.id),className:"mt-3",children:"Mark Complete"})]},A)),Object.keys(h).length===0&&o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No active actions yet. Take action on recommendations to see them here!"})})]})}),o.jsx(Oe,{value:"progress",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-slate-200/50 dark:border-slate-700/50",children:[o.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center space-x-2",children:[o.jsx(ka,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{children:"Your Progress"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Recommendations Followed"}),o.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[c.length,"/",m.length]})]}),o.jsx(Ht,{value:m.length>0?c.length/m.length*100:0,className:"h-2"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Weekly Scan Goal"}),o.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.currentWeekScans,"/",t.weeklyGoal]})]}),o.jsx(Ht,{value:t.currentWeekScans/t.weeklyGoal*100,className:"h-2"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Sustainability Score"}),o.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.avgScore,"/100"]})]}),o.jsx(Ht,{value:t.avgScore,className:"h-2"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-slate-200/50 dark:border-slate-700/50",children:[o.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-4 flex items-center space-x-2",children:[o.jsx(Yn,{className:"w-5 h-5 text-yellow-600"}),o.jsx("span",{children:"Achievements"})]}),o.jsxs("div",{className:"space-y-3",children:[t.streakDays>=7&&o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200/50 dark:border-yellow-700/30",children:[o.jsx(fn,{className:"w-5 h-5 text-yellow-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-yellow-800 dark:text-yellow-300",children:"Week Streak Master"}),o.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:[t.streakDays," consecutive days"]})]})]}),t.co2Saved>=10&&o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200/50 dark:border-green-700/30",children:[o.jsx(dt,{className:"w-5 h-5 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-800 dark:text-green-300",children:"Carbon Reducer"}),o.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Saved ",t.co2Saved.toFixed(1),"kg CO"]})]})]}),t.avgScore>=80&&o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200/50 dark:border-blue-700/30",children:[o.jsx(ha,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300",children:"Sustainability Expert"}),o.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["Average score: ",t.avgScore,"/100"]})]})]})]})]})]})})]})})]})})},oDe=()=>{const{userStats:t,redeemReward:e,addPoints:n}=Xr(),{toast:r}=Ks(),{addRewardNotification:i}=Yw(),s=[{id:1,name:"First Steps",description:"Complete your first product scan",points:50,unlocked:t.totalScans>=1,icon:xn,color:"bg-emerald-500",category:"Getting Started"},{id:2,name:"Eco Explorer",description:`Scan ${t.totalScans>=10?"25":"10"} products`,points:t.totalScans>=10?200:100,unlocked:t.totalScans>=(t.totalScans>=10?25:10),progress:t.totalScans>=10?Math.min(t.totalScans/25*100,100):Math.min(t.totalScans/10*100,100),icon:vn,color:"bg-blue-500",category:"Scanning"},{id:3,name:"Carbon Tracker",description:`Track ${t.co2Saved>=5?"15kg":"5kg"} of CO savings`,points:t.co2Saved>=5?300:200,unlocked:t.co2Saved>=(t.co2Saved>=5?15:5),progress:t.co2Saved>=5?Math.min(t.co2Saved/15*100,100):Math.min(t.co2Saved/5*100,100),icon:dt,color:"bg-green-500",category:"Environmental Impact"},{id:4,name:"Learning Champion",description:`Complete ${t.coursesCompleted>=5?"10":"5"} courses`,points:t.coursesCompleted>=5?400:250,unlocked:t.coursesCompleted>=(t.coursesCompleted>=5?10:5),progress:t.coursesCompleted>=5?Math.min(t.coursesCompleted/10*100,100):Math.min(t.coursesCompleted/5*100,100),icon:HP,color:"bg-purple-500",category:"Education"},{id:5,name:"Community Helper",description:`Help ${t.communityHelpCount>=5?"15":"5"} community members`,points:t.communityHelpCount>=5?350:200,unlocked:t.communityHelpCount>=(t.communityHelpCount>=5?15:5),progress:t.communityHelpCount>=5?Math.min(t.communityHelpCount/15*100,100):Math.min(t.communityHelpCount/5*100,100),icon:vn,color:"bg-indigo-500",category:"Community"},{id:6,name:"Recipe Explorer",description:`Try ${t.recipesViewed>=10?"25":"10"} sustainable recipes`,points:t.recipesViewed>=10?300:150,unlocked:t.recipesViewed>=(t.recipesViewed>=10?25:10),progress:t.recipesViewed>=10?Math.min(t.recipesViewed/25*100,100):Math.min(t.recipesViewed/10*100,100),icon:fa,color:"bg-pink-500",category:"Lifestyle"},{id:7,name:"Transport Pioneer",description:`Use sustainable transport ${t.transportTrips>=5?"20":"5"} times`,points:t.transportTrips>=5?400:200,unlocked:t.transportTrips>=(t.transportTrips>=5?20:5),progress:t.transportTrips>=5?Math.min(t.transportTrips/20*100,100):Math.min(t.transportTrips/5*100,100),icon:Tn,color:"bg-cyan-500",category:"Transport"},{id:8,name:"Sustainable Investor",description:`Make ${t.investmentsMade>=1?"5":"1"} sustainable investments`,points:t.investmentsMade>=1?600:300,unlocked:t.investmentsMade>=(t.investmentsMade>=1?5:1),progress:t.investmentsMade>=1?Math.min(t.investmentsMade/5*100,100):Math.min(t.investmentsMade/1*100,100),icon:HP,color:"bg-amber-500",category:"Investment"}],a=[{id:1,name:"10% Off Eco Products",cost:150,description:"Discount on sustainable marketplace purchases",type:"discount",icon:rm,available:t.totalPoints>=150,category:"Shopping",savings:"Up to $50 value"},{id:2,name:"Plant a Tree",cost:300,description:"We plant a tree in your name through our partners",type:"impact",icon:dt,available:t.totalPoints>=300,category:"Environmental Impact",savings:"1 tree planted"},{id:3,name:"Premium Analytics",cost:500,description:"1 month of advanced insights and tracking",type:"feature",icon:fn,available:t.totalPoints>=500,category:"Features",savings:"$9.99 value"},{id:4,name:"Sustainability Consultation",cost:750,description:"30-minute call with sustainability expert",type:"service",icon:vn,available:t.totalPoints>=750,category:"Expert Advice",savings:"$75 value"},{id:5,name:"Carbon Offset Package",cost:1e3,description:"Offset 1 ton of your carbon footprint",type:"impact",icon:Tn,available:t.totalPoints>=1e3,category:"Carbon Offset",savings:"1 ton CO offset"},{id:6,name:"Eco Product Bundle",cost:1250,description:"Curated bundle of top-rated sustainable products",type:"product",icon:Q0,available:t.totalPoints>=1250,category:"Product Bundle",savings:"$150 value"}],c=(()=>{const x=[],b=Math.max(1,Math.ceil(t.totalScans/30)),w=Math.max(1,b);x.push({task:`Scan ${w} sustainable product${w>1?"s":""}`,progress:Math.min(t.currentWeekScans,w),total:w,points:w*15,completed:t.currentWeekScans>=w,category:"Scanning"});const N=Math.max(1,Math.ceil(t.co2Saved/10));return x.push({task:`Save ${N}kg CO today`,progress:t.co2Saved>=N?N:t.co2Saved%N||0,total:N,points:N*20,completed:t.co2Saved%10>=N,category:"Carbon Tracking"}),t.coursesCompleted<10&&x.push({task:"Complete 1 sustainability course",progress:t.coursesCompleted>0?1:0,total:1,points:50,completed:t.coursesCompleted>0,category:"Learning"}),x.push({task:"Help 1 community member",progress:t.communityHelpCount>0?1:0,total:1,points:30,completed:t.communityHelpCount>0,category:"Community"}),x})(),u=x=>{e(x.cost)?(r({title:"Reward Redeemed! ",description:`You've successfully redeemed: ${x.name}. Check your email for details.`,duration:5e3}),i(x.name)):r({title:"Insufficient Points",description:`You need ${x.cost-t.totalPoints} more points to redeem this reward.`,variant:"destructive",duration:3e3})},h=()=>s.filter(x=>x.unlocked).length,d=()=>c.filter(x=>x.completed).length,f=[0,100,300,600,1e3,1500,2500,4e3,6e3,1e4],m=f.findIndex((x,b)=>t.totalPoints>=x&&(f[b+1]===void 0||t.totalPoints<f[b+1]))+1,g=f[m-1]||0,v=f[m]||f[f.length-1],y=v?(t.totalPoints-g)/(v-g)*100:100;return o.jsxs("div",{className:"space-y-6",children:[o.jsx(te,{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white border-0 shadow-xl",children:o.jsxs(ce,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[t.totalPoints.toLocaleString()," Points"]}),o.jsxs("div",{className:"flex items-center space-x-4 text-emerald-100",children:[o.jsxs("span",{children:["Level ",m]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[h(),"/",s.length," achievements"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[d(),"/",c.length," challenges today"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(WP,{className:"w-8 h-8 mx-auto mb-1"}),o.jsx("div",{className:"text-xs",children:"Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(Us,{className:"w-8 h-8 mx-auto mb-1"}),o.jsxs("div",{className:"text-xs",children:["Level ",m]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["Progress to Level ",m+1]}),o.jsx("span",{children:v?`${v-t.totalPoints} points to go`:"Max Level!"})]}),o.jsx(Ht,{value:y,className:"h-3 bg-emerald-400"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(te,{className:"bg-white/80 backdrop-blur-sm border-green-200 shadow-lg",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center justify-between text-green-700",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(os,{className:"w-5 h-5"}),o.jsx("span",{children:"Today's Challenges"})]}),o.jsxs(ne,{variant:"outline",className:"bg-green-50 text-green-600 border-green-200",children:[d(),"/",c.length," Complete"]})]})}),o.jsx(ce,{className:"space-y-4",children:c.map((x,b)=>o.jsxs("div",{className:`rounded-lg p-4 transition-all duration-200 ${x.completed?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[x.completed&&o.jsx(Kt,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:`font-medium ${x.completed?"text-green-800":"text-gray-700"}`,children:x.task})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ne,{variant:"outline",className:`text-xs ${x.completed?"bg-green-100 text-green-700 border-green-300":"bg-gray-100 text-gray-600"}`,children:x.category}),o.jsxs(ne,{variant:x.completed?"default":"secondary",className:"bg-emerald-100 text-emerald-700",children:["+",x.points]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ht,{value:x.progress/x.total*100,className:"flex-1 h-2"}),o.jsxs("span",{className:"text-sm text-green-600 font-medium",children:[x.progress,"/",x.total]})]})]},b))})]}),o.jsxs(te,{className:"bg-white/80 backdrop-blur-sm border-green-200 shadow-lg",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2 text-green-700",children:[o.jsx(Us,{className:"w-5 h-5"}),o.jsx("span",{children:"Achievements"})]})}),o.jsx(ce,{className:"space-y-4 max-h-96 overflow-y-auto",children:s.map(x=>o.jsx("div",{className:`p-4 rounded-lg border transition-all duration-200 ${x.unlocked?"bg-emerald-50 border-emerald-200 shadow-sm":"bg-gray-50 border-gray-200"}`,children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-12 h-12 ${x.color} rounded-xl flex items-center justify-center ${!x.unlocked&&"opacity-50"} shadow-md`,children:o.jsx(x.icon,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h3",{className:`font-semibold ${x.unlocked?"text-green-800":"text-gray-500"}`,children:x.name}),o.jsx(ne,{variant:"outline",className:"text-xs",children:x.category})]}),o.jsx("p",{className:`text-sm ${x.unlocked?"text-green-600":"text-gray-400"}`,children:x.description}),!x.unlocked&&x.progress!==void 0&&o.jsx("div",{className:"mt-2",children:o.jsx(Ht,{value:x.progress,className:"h-1.5"})})]}),o.jsxs(ne,{variant:x.unlocked?"default":"secondary",className:"bg-emerald-100 text-emerald-700",children:["+",x.points]})]})},x.id))})]})]}),o.jsxs(te,{className:"bg-white/80 backdrop-blur-sm border-green-200 shadow-lg",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center justify-between text-green-700",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rm,{className:"w-5 h-5"}),o.jsx("span",{children:"Rewards Store"})]}),o.jsxs(ne,{variant:"outline",className:"bg-green-50 text-green-600 border-green-200",children:[a.filter(x=>x.available).length," Available"]})]})}),o.jsx(ce,{children:t.totalPoints<150?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(rm,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-3",children:"Start earning rewards!"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Complete challenges and track your sustainability journey to unlock amazing rewards."}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[o.jsxs("p",{className:"text-sm text-green-700",children:[o.jsx("strong",{children:"Next reward unlocks at 150 points!"})," You need ",150-t.totalPoints," more points."]}),o.jsx("div",{className:"mt-3",children:o.jsx(Ht,{value:t.totalPoints/150*100,className:"h-2"})})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(x=>o.jsxs("div",{className:`p-6 rounded-xl border transition-all duration-200 hover:shadow-lg ${x.available?"bg-white border-green-200 hover:border-green-300":"bg-gray-50 border-gray-200 opacity-75"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl flex items-center justify-center shadow-md",children:o.jsx(x.icon,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-green-800",children:x.name}),o.jsx(ne,{variant:"outline",className:"text-xs mt-1",children:x.category})]})]}),o.jsx("p",{className:"text-sm text-green-600 mb-3",children:x.description}),o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"text-xs text-green-500 font-medium",children:x.savings})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(WP,{className:"w-4 h-4 text-amber-500"}),o.jsx("span",{className:"font-semibold text-green-800",children:x.cost})]}),o.jsx(Y,{size:"sm",disabled:!x.available||t.totalPoints<x.cost,className:`${x.available&&t.totalPoints>=x.cost?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700":"bg-gray-300"}`,onClick:()=>u(x),children:t.totalPoints>=x.cost?"Redeem":`Need ${x.cost-t.totalPoints}`})]})]},x.id))})})]})]})},EH=({product:t})=>{var b;const{user:e}=_n(),{addNotification:n}=Ya(),[r,i]=C.useState({}),[s,a]=D.useState(null),l=ig(),c={Package:vd,Truck:KS,Factory:Lf,Recycle:xd,Leaf:dt,AlertCircle:Zi,CheckCircle:Kt,Clock:qr,MapPin:yd,Zap:Tn,Droplets:fi,Globe:pd},u=localStorage.getItem("persistedProductLifecycle");let h=t||((b=l.state)==null?void 0:b.product);if(!h&&u)try{h=JSON.parse(u),h.stages&&Array.isArray(h.stages)&&(h.stages=h.stages.map(w=>({...w,icon:c[w.iconName]||null})))}catch(w){console.error("Error parsing persisted product lifecycle from localStorage",w),h=null}const d=s||h;C.useEffect(()=>{(async()=>{if(e)try{const N=gt(Ne,`users/${e.uid}/productLifecycleViewedProducts`),S=await Nn(N),P={};S.forEach(j=>{P[j.id]=j.data()}),i(P)}catch(N){console.error("Error fetching viewed products:",N),i({})}else i({})})()},[e]),C.useEffect(()=>{(async()=>{if(e)try{let N=(d==null?void 0:d.id)||(s==null?void 0:s.id),S=null;if(N){const P=Re(Ne,`users/${e.uid}/savedProductLifecycles`,N.toString()),j=await Zo(P);j.exists()&&(S=j.data())}else{const P=gt(Ne,`users/${e.uid}/savedProductLifecycles`),j=await Nn(P);let _=null;j.forEach(k=>{const E=k.data();(!_||E.savedAt&&E.savedAt.toMillis()>_.savedAt.toMillis())&&(_=E)}),S=_}S?(S.stages&&Array.isArray(S.stages)&&(S.stages=S.stages.map(P=>({...P,icon:c[P.iconName]||null}))),a(S),localStorage.setItem("persistedProductLifecycle",JSON.stringify(S))):(a(null),localStorage.removeItem("persistedProductLifecycle"))}catch(N){console.error("Error fetching saved product lifecycle data:",N),a(null),localStorage.removeItem("persistedProductLifecycle")}else a(null),localStorage.removeItem("persistedProductLifecycle")})()},[e,d==null?void 0:d.id]);const f=s||d,m=w=>{switch(w){case"completed":return o.jsx(Kt,{className:"w-5 h-5 text-green-500"});case"active":return o.jsx(qr,{className:"w-5 h-5 text-blue-500"});case"pending":return o.jsx(Zi,{className:"w-5 h-5 text-gray-400"});default:return null}},g=w=>{switch(w){case"completed":return"border-green-200 bg-green-50";case"active":return"border-blue-200 bg-blue-50";case"pending":return"border-gray-200 bg-gray-50";default:return"border-gray-200"}},v=async w=>{if(e){const N=Re(Ne,`users/${e.uid}/productLifecycleViewedProducts`,w.toString());await Zt(N,{viewedAt:new Date},{merge:!0})}};if(!d)return o.jsx("div",{children:"No product data available."});const y=(f.stages??[]).reduce((w,N)=>{var S,P,j;return{co2:w.co2+(((S=N.impact)==null?void 0:S.co2)||0),water:w.water+(((P=N.impact)==null?void 0:P.water)||0),energy:w.energy+(((j=N.impact)==null?void 0:j.energy)||0)}},{co2:0,water:0,energy:0}),x=async()=>{if(!e){alert("You must be logged in to save lifecycle data.");return}try{const w=(d.stages??[]).map(P=>{const{icon:j,..._}=P;return{..._,iconName:(j==null?void 0:j.displayName)||null,details:P.details||"",progress:P.progress||null}}),N={id:d.id,name:d.name,brand:d.brand,price:d.price,image:d.image,sustainabilityScore:d.sustainabilityScore,carbon:d.carbon,water:d.water,packaging:d.packaging,certifications:d.certifications,materials:d.materials,origin:d.origin,barcode:d.barcode,alternatives:d.alternatives,features:d.features,inStock:d.inStock,rating:d.rating,reviews:d.reviews,description:d.description,category:d.category,sustainability:d.sustainability,stages:w},S=Re(Ne,`users/${e.uid}/savedProductLifecycles`,d.id.toString());await Zt(S,N,{merge:!0}),a(N),localStorage.setItem("persistedProductLifecycle",JSON.stringify(N)),alert("Product lifecycle data saved successfully."),n({type:"achievement",title:"Product Lifecycle Saved",message:`You have saved the lifecycle data for ${d.name}.`,read:!1,source:"productLifecycle",actionable:!0,action:"View"})}catch(w){console.error("Error saving product lifecycle data:",w),alert("Failed to save product lifecycle data.")}};return o.jsx("div",{className:"space-y-6",children:o.jsxs(te,{className:"bg-white/80 backdrop-blur-sm border-sage-200",children:[o.jsx(je,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ce,{className:"flex items-center space-x-2 text-sage-700",children:[o.jsx(vd,{className:"w-6 h-6"}),o.jsx("span",{children:"Product Lifecycle Tracking"})]}),o.jsx(Y,{onClick:x,className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:"Save"})]})}),o.jsxs(ce,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-sage-50 to-emerald-50 rounded-xl p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-sage-800",children:f.name}),o.jsx("p",{className:"text-sage-600",children:f.brand||"N/A"})]}),o.jsxs(ne,{className:"bg-emerald-500 hover:bg-emerald-600 text-white text-lg px-4 py-2",children:[f.sustainabilityScore||"N/A","/100"]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center mb-2",children:[o.jsx(pd,{className:"w-5 h-5 text-red-500 mr-2"}),o.jsx("span",{className:"text-2xl font-bold text-red-600",children:y.co2.toFixed(1)})]}),o.jsx("p",{className:"text-sm text-sage-600",children:"kg CO"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center mb-2",children:[o.jsx(fi,{className:"w-5 h-5 text-blue-500 mr-2"}),o.jsx("span",{className:"text-2xl font-bold text-blue-600",children:y.water})]}),o.jsx("p",{className:"text-sm text-sage-600",children:"L Water"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center mb-2",children:[o.jsx(Tn,{className:"w-5 h-5 text-yellow-500 mr-2"}),o.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:y.energy})]}),o.jsx("p",{className:"text-sm text-sage-600",children:"kWh Energy"})]})]})]}),o.jsxs(Jr,{defaultValue:"timeline",className:"w-full",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-2",children:[o.jsx(Qe,{value:"timeline",children:"Lifecycle Timeline"}),o.jsx(Qe,{value:"impact",children:"Impact Analysis"})]}),o.jsx(Oe,{value:"timeline",className:"space-y-6",onPointerEnter:()=>f.id&&v(f.id),children:o.jsx("div",{className:"space-y-4",children:(f.stages??[]).map(w=>o.jsxs("div",{className:`p-6 rounded-xl border-2 ${g(w.status)} transition-all duration-300`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-sage-600 rounded-xl flex items-center justify-center",children:w.icon?o.jsx(w.icon,{className:"w-6 h-6 text-white"}):null}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-sage-800 flex items-center space-x-2",children:[o.jsx("span",{children:w.name}),m(w.status)]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-sage-600 mt-1",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(yd,{className:"w-3 h-3"}),o.jsx("span",{children:w.location||"N/A"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(qr,{className:"w-3 h-3"}),o.jsx("span",{children:w.duration||"N/A"})]})]})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"font-semibold text-red-600",children:w.impact.co2}),o.jsx("p",{className:"text-sage-500",children:"CO"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"font-semibold text-blue-600",children:w.impact.water}),o.jsx("p",{className:"text-sage-500",children:"HO"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"font-semibold text-yellow-600",children:w.impact.energy}),o.jsx("p",{className:"text-sage-500",children:"kWh"})]})]})})]}),o.jsx("p",{className:"text-sage-700",children:w.details}),w.status==="active"&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between text-sm text-sage-600 mb-2",children:[o.jsx("span",{children:"Progress through use phase"}),o.jsx("span",{children:"2.3 / 3+ years"})]}),o.jsx(Ht,{value:76,className:"h-2"})]})]},w.name))})}),o.jsx(Oe,{value:"impact",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(te,{className:"border-sage-200",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-sage-700",children:"Environmental Impact"})}),o.jsx(ce,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{children:"Carbon Footprint"}),o.jsxs("span",{children:[y.co2.toFixed(1)," kg CO"]})]}),o.jsx(Ht,{value:65,className:"h-2"}),o.jsx("p",{className:"text-xs text-sage-500 mt-1",children:"35% lower than industry average"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{children:"Water Usage"}),o.jsxs("span",{children:[y.water," L"]})]}),o.jsx(Ht,{value:45,className:"h-2"}),o.jsx("p",{className:"text-xs text-sage-500 mt-1",children:"55% lower than conventional cotton"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{children:"Energy Consumption"}),o.jsxs("span",{children:[y.energy," kWh"]})]}),o.jsx(Ht,{value:40,className:"h-2"}),o.jsx("p",{className:"text-xs text-sage-500 mt-1",children:"60% from renewable sources"})]})]})})]}),o.jsxs(te,{className:"border-sage-200",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-sage-700",children:"Sustainability Certifications"})}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx(Kt,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sage-800",children:"GOTS Certified"}),o.jsx("p",{className:"text-xs text-sage-600",children:"Global Organic Textile Standard"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx(Kt,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sage-800",children:"Fair Trade"}),o.jsx("p",{className:"text-xs text-sage-600",children:"Ethical labor practices"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx(Kt,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sage-800",children:"Cradle to Cradle"}),o.jsx("p",{className:"text-xs text-sage-600",children:"Bronze level certification"})]})]})]})})]})]})})]})]})]})})},lDe=()=>{const[t,e]=C.useState("active"),n=y=>{switch(y){case"Waste Reduction":return{icon:xd,color:"bg-green-500"};case"Transportation":return{icon:zm,color:"bg-blue-500"};case"Energy":return{icon:Tn,color:"bg-yellow-500"};case"Water":return{icon:fi,color:"bg-blue-500"};case"Food":case"Shopping":return{icon:Q0,color:"bg-orange-500"};default:return{icon:dt,color:"bg-green-500"}}},r=[{id:"4",title:"Plastic-Free July",description:"Eliminate single-use plastics for the entire month",category:"Waste Reduction",duration:"30 days",points:1500,startDate:"2024-07-01",icon:xd,color:"bg-green-500",status:"upcoming",difficulty:"Hard"},{id:"5",title:"Local Food Challenge",description:"Source 80% of your food from local producers",category:"Food",duration:"14 days",points:600,startDate:"2024-06-25",icon:Q0,color:"bg-orange-500",status:"upcoming",difficulty:"Medium"}],{user:i}=_n(),[s,a]=C.useState([]),[l,c]=C.useState([]),[u,h]=C.useState([]),[d,f]=C.useState(r),m=(y,x)=>{const b=n(y.category);return{id:x,title:y.title,description:y.description||"No description available",category:y.category,points:y.points,icon:b.icon,color:b.color,status:y.status,progress:y.progress,target:y.target,result:y.result,completedDate:y.completedDate}};C.useEffect(()=>{if(!i){a([]),c([]),h([]);return}const y=gt(Ne,"users",i.uid,"challenges"),x=Or(y,b=>{const w=b.docs.map(_=>({..._.data(),id:_.id}));a(w);const N=w.filter(_=>_.status==="active").map(_=>m(_,_.id)),S=w.filter(_=>_.status==="completed").map(_=>m(_,_.id));c(N),h(S);const P=w.map(_=>_.challengeId),j=r.filter(_=>!P.includes(_.id));f(j)},b=>{console.error("Error fetching user challenges:",b)});return()=>x()},[i]);const g=async y=>{if(!i)return;const x=Re(Ne,"users",i.uid,"challenges",y.id);try{await Zt(x,{challengeId:y.id,title:y.title,description:y.description,category:y.category,points:y.points,status:"active",progress:0,target:y.duration?y.duration.includes("days")?parseInt(y.duration):0:y.target||0,unit:y.duration?y.duration.includes("days")?"days":"":y.unit||"",joinedAt:jv()}),console.log(`Joined challenge: ${y.title}`)}catch(b){console.error("Error joining challenge:",b)}},v=y=>{switch(y){case"Easy":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(te,{className:"bg-gradient-to-r from-sage-50 to-emerald-50 border-sage-200",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2 text-sage-700",children:[o.jsx(xn,{className:"w-6 h-6"}),o.jsx("span",{children:"Sustainability Challenges"})]})}),o.jsx(ce,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:o.jsx(Us,{className:"w-6 h-6 text-white"})}),o.jsx("p",{className:"text-2xl font-bold text-sage-800",children:u.length}),o.jsx("p",{className:"text-sm text-sage-600",children:"Completed"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:o.jsx(xn,{className:"w-6 h-6 text-white"})}),o.jsx("p",{className:"text-2xl font-bold text-sage-800",children:l.length}),o.jsx("p",{className:"text-sm text-sage-600",children:"Active"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:o.jsx(vn,{className:"w-6 h-6 text-white"})}),o.jsx("p",{className:"text-2xl font-bold text-sage-800",children:s.reduce((y,x)=>y+x.points,0)}),o.jsx("p",{className:"text-sm text-sage-600",children:"Points Earned"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center mx-auto mb-2",children:o.jsx(os,{className:"w-6 h-6 text-white"})}),o.jsx("p",{className:"text-2xl font-bold text-sage-800",children:"45"}),o.jsx("p",{className:"text-sm text-sage-600",children:"Day Streak"})]})]})})]}),o.jsxs(Jr,{value:t,onValueChange:e,className:"w-full",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-3",children:[o.jsx(Qe,{value:"active",children:"Active Challenges"}),o.jsx(Qe,{value:"upcoming",children:"Upcoming"}),o.jsx(Qe,{value:"completed",children:"Completed"})]}),o.jsx(Oe,{value:"active",className:"space-y-4",children:l.map(y=>o.jsx(te,{className:"bg-white/80 backdrop-blur-sm border-sage-200",children:o.jsxs(ce,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-12 h-12 ${y.color} rounded-xl flex items-center justify-center`,children:o.jsx(y.icon,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-sage-800",children:y.title}),o.jsx("p",{className:"text-sm text-sage-600",children:y.category})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ne,{className:v(y.difficulty),children:y.difficulty||"N/A"}),o.jsxs(ne,{variant:"outline",className:"text-emerald-600 border-emerald-200",children:["+",y.points," pts"]})]})]}),o.jsx("p",{className:"text-sage-700 mb-4",children:y.description}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-sage-600",children:"Progress"}),o.jsxs("span",{className:"font-medium text-sage-800",children:[y.progress,"/",y.target]})]}),o.jsx(Ht,{value:y.target?y.progress/y.target*100:0,className:"h-2"}),o.jsx("div",{className:"flex items-center justify-between text-sm text-sage-600",children:o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(qr,{className:"w-4 h-4"}),o.jsx("span",{children:"Active"})]})})})]})]})},y.id))}),o.jsx(Oe,{value:"upcoming",className:"space-y-4",children:d.map(y=>o.jsx(te,{className:"bg-white/80 backdrop-blur-sm border-sage-200",children:o.jsxs(ce,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-12 h-12 ${y.color} rounded-xl flex items-center justify-center`,children:o.jsx(y.icon,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-sage-800",children:y.title}),o.jsx("p",{className:"text-sm text-sage-600",children:y.category})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ne,{className:v(y.difficulty),children:y.difficulty}),o.jsxs(ne,{variant:"outline",className:"text-emerald-600 border-emerald-200",children:["+",y.points," pts"]})]})]}),o.jsx("p",{className:"text-sage-700 mb-4",children:y.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-sage-600",children:[o.jsxs("p",{children:["Duration: ",y.duration]}),o.jsxs("p",{children:["Starts: ",y.startDate?new Date(y.startDate).toLocaleDateString():"TBD"]})]}),o.jsx(Y,{variant:"outline",className:"border-sage-200 hover:bg-sage-50",onClick:()=>g(y),children:"Join Challenge"})]})]})},y.id))}),o.jsx(Oe,{value:"completed",className:"space-y-4",children:u.map(y=>o.jsx(te,{className:"bg-white/80 backdrop-blur-sm border-sage-200 opacity-75",children:o.jsxs(ce,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-12 h-12 ${y.color} rounded-xl flex items-center justify-center`,children:o.jsx(y.icon,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-sage-800",children:y.title}),o.jsx("p",{className:"text-sm text-sage-600",children:y.category})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Us,{className:"w-5 h-5 text-emerald-500"}),o.jsxs(ne,{variant:"outline",className:"text-emerald-600 border-emerald-200",children:["+",y.points," pts"]})]})]}),o.jsx("p",{className:"text-sage-700 mb-4",children:y.description}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-sage-600",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-emerald-700",children:y.result||"Challenge completed!"}),o.jsxs("p",{children:["Completed: ",y.completedDate?new Date(y.completedDate).toLocaleDateString():"Recently"]})]}),o.jsx(Y,{variant:"ghost",size:"sm",className:"text-sage-600",children:"View Details"})]})]})},y.id))})]})]})};function qi({className:t,...e}){return o.jsx("div",{className:vt("animate-pulse rounded-md bg-muted",t),...e})}const cDe=()=>{const{user:t}=_n();C.useState("forest");const[e,n]=C.useState(null),[r,i]=C.useState({totalUsers:0,treesPlanted:0,waterSaved:0,carbonOffset:0,communitiesHelped:0}),s=[{id:"forest",name:"Forest Restoration",icon:qo,description:"Plant trees and restore degraded forests worldwide",progress:78,goal:1e5,current:78432,impact:"Every scan = 1 tree planted",color:"bg-green-500"},{id:"water",name:"Clean Water Access",icon:fi,description:"Provide clean water access to communities in need",progress:65,goal:5e4,current:32500,impact:"Every 10 scans = 1 day of clean water",color:"bg-blue-500"},{id:"air",name:"Air Quality Improvement",icon:l0,description:"Support projects that improve air quality in cities",progress:42,goal:25e3,current:10500,impact:"Every 5 scans = 1kg CO offset",color:"bg-purple-500"}];C.useEffect(()=>{if(!t){n(null);return}const l=Re(Ne,"users",t.uid,"impactStats","summary"),c=Or(l,d=>{d.exists()?n(d.data()):n({treesPlanted:0,waterSaved:0,carbonOffset:0,communitiesHelped:0})},d=>{console.error("Error fetching user impact stats:",d),n({treesPlanted:0,waterSaved:0,carbonOffset:0,communitiesHelped:0})}),u=Re(Ne,"global","impact"),h=Or(u,d=>{d.exists()?i(d.data()):i({totalUsers:0,treesPlanted:0,waterSaved:0,carbonOffset:0,communitiesHelped:0})},d=>{console.error("Error fetching global impact stats:",d)});return()=>{c(),h()}},[t]);const a=[{title:"Tree Planter",description:"Planted 100+ trees",icon:qo,unlocked:!0,rarity:"common"},{title:"Carbon Hero",description:"Offset 50kg+ CO",icon:l0,unlocked:e?e.carbonOffset>=50:!1,rarity:"epic"},{title:"Water Guardian",description:"Saved 1000L+ water",icon:fi,unlocked:e?e.waterSaved>=1e3:!1,rarity:"rare"}];return o.jsx("div",{className:"space-y-6",children:o.jsxs(te,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2 text-green-700",children:[o.jsx(ls,{className:"w-6 h-6"}),o.jsx("span",{children:"Social Impact Hub"}),o.jsx(ne,{variant:"secondary",className:"ml-auto bg-green-100 text-green-700",children:"Community Driven"})]})}),o.jsxs(ce,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-white/70 rounded-xl p-4 text-center",children:[r?o.jsx(vn,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}):o.jsx(qi,{className:"w-6 h-6 mx-auto mb-2 bg-gray-300"}),o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:r?r.totalUsers.toLocaleString():o.jsx(qi,{className:"w-16 h-6 mx-auto bg-gray-300"})}),o.jsx("div",{className:"text-sm text-gray-600",children:"Active Users"})]}),o.jsxs("div",{className:"bg-white/70 rounded-xl p-4 text-center",children:[r?o.jsx(qo,{className:"w-6 h-6 mx-auto mb-2 text-green-600"}):o.jsx(qi,{className:"w-6 h-6 mx-auto mb-2 bg-gray-300"}),o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:r?r.treesPlanted.toLocaleString():o.jsx(qi,{className:"w-16 h-6 mx-auto bg-gray-300"})}),o.jsx("div",{className:"text-sm text-gray-600",children:"Trees Planted"})]}),o.jsxs("div",{className:"bg-white/70 rounded-xl p-4 text-center",children:[r?o.jsx(fi,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}):o.jsx(qi,{className:"w-6 h-6 mx-auto mb-2 bg-gray-300"}),o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:r?`${Math.round(r.waterSaved/1e3)}K`:o.jsx(qi,{className:"w-16 h-6 mx-auto bg-gray-300"})}),o.jsx("div",{className:"text-sm text-gray-600",children:"Liters Saved"})]}),o.jsxs("div",{className:"bg-white/70 rounded-xl p-4 text-center",children:[r?o.jsx(l0,{className:"w-6 h-6 mx-auto mb-2 text-purple-600"}):o.jsx(qi,{className:"w-6 h-6 mx-auto mb-2 bg-gray-300"}),o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:r?r.carbonOffset.toLocaleString():o.jsx(qi,{className:"w-16 h-6 mx-auto bg-gray-300"})}),o.jsx("div",{className:"text-sm text-gray-600",children:"kg CO Offset"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Support a Cause"}),s.map(l=>o.jsxs("div",{className:"bg-white/80 rounded-xl p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-10 h-10 ${l.color} rounded-xl flex items-center justify-center`,children:o.jsx(l.icon,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:l.name}),o.jsx("p",{className:"text-sm text-gray-600",children:l.description})]})]}),o.jsxs(ne,{variant:"outline",className:"text-xs",children:[l.progress,"% Complete"]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-600",children:[l.current.toLocaleString()," / ",l.goal.toLocaleString()]}),o.jsx("span",{className:"text-green-600 font-medium",children:l.impact})]}),o.jsx(Ht,{value:l.progress,className:"h-2"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Y,{variant:"outline",size:"sm",children:"Learn More"}),o.jsxs(Y,{size:"sm",className:`${l.color} hover:opacity-90 text-white`,children:[o.jsx(ub,{className:"w-4 h-4 mr-2"}),"Share Impact"]})]})]},l.id))]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Your Impact Achievements"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map((l,c)=>o.jsxs("div",{className:`bg-white/80 rounded-xl p-4 border ${l.unlocked?"border-green-200":"border-gray-200"} ${!l.unlocked&&(t?"opacity-60":"opacity-30")}`,children:[!t&&o.jsx("div",{className:"absolute inset-0 bg-black/10 rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-sm",children:"Log in to see"})}),o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(l.icon,{className:`w-6 h-6 ${l.unlocked?"text-green-600":"text-gray-400"}`}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:l.title}),o.jsx("p",{className:"text-xs text-gray-600",children:l.description})]})]}),o.jsx(ne,{variant:l.unlocked?"default":"secondary",className:"text-xs",children:t&&l.unlocked?"Unlocked":"Locked"})]},c))})]})]})]})})},uDe=()=>{const{user:t}=_n(),e=$2(),{toast:n}=Ks(),[r,i]=C.useState("week"),[s,a]=C.useState([]),[l,c]=C.useState([]),[u,h]=C.useState(!1),d=async(z,G)=>{if(!t){console.warn("User not authenticated. Cannot save insights.");return}try{const q=Re(Ne,"users",t.uid,"userInsights","latest");await Zt(q,{monthlyAnalytics:z,yearlyAnalytics:G,timestamp:new Date},{merge:!0}),console.log("User insights saved successfully!")}catch(q){console.error("Error saving user insights:",q)}},[f,m]=C.useState(null);C.useEffect(()=>{if(!t){a([]);return}const z=jc(gt(Ne,`users/${t.uid}/scannedProducts`),Od("timestamp","desc")),G=Or(z,q=>{const ae=q.docs.map(ye=>({id:ye.id,...ye.data()}));a(ae)},q=>{console.error("Error fetching scanned products:",q)});return()=>G()},[t]),C.useEffect(()=>{if(!t){c([]);return}const z=jc(gt(Ne,`users/${t.uid}/carbonEntries`),Od("date","desc")),G=Or(z,q=>{const ae=q.docs.map(ye=>({id:ye.id,...ye.data()}));c(ae)},q=>console.error("Error fetching carbon entries:",q));return()=>G()},[t]);const g=()=>{if(s.length<2)return 0;const z=new Date,G=s.filter(ie=>{var Q;const B=new Date(((Q=ie.timestamp)==null?void 0:Q.toDate())||ie.timestamp);return B.getMonth()===z.getMonth()&&B.getFullYear()===z.getFullYear()}),q=s.filter(ie=>{var Z;const B=new Date(((Z=ie.timestamp)==null?void 0:Z.toDate())||ie.timestamp),Q=new Date(z.getFullYear(),z.getMonth()-1,1);return B.getMonth()===Q.getMonth()&&B.getFullYear()===Q.getFullYear()});if(G.length===0||q.length===0)return 0;const ae=G.reduce((ie,B)=>ie+(B.sustainabilityScore||0),0)/G.length,ye=q.reduce((ie,B)=>ie+(B.sustainabilityScore||0),0)/q.length;return Math.round((ae-ye)/ye*100)},v=()=>{const G=new Date().getMonth(),q=new Date().getFullYear(),ye=l.filter(ie=>{var Q;const B=new Date(((Q=ie.date)==null?void 0:Q.toDate())||ie.date);return B.getMonth()===G&&B.getFullYear()===q}).reduce((ie,B)=>ie+(B.carbonSaved||0),0);return Math.round(ye/500*100)},y=g(),x=v(),b=[{type:"trend",title:"Sustainability Score Trending Up",description:`Your average score ${y>=0?"increased":"decreased"} by ${Math.abs(y)}% this month`,impact:`${y>=0?"+":""}${y}%`,icon:vr,color:y>=0?"text-green-600":"text-red-600",action:"View Details",details:{title:"Sustainability Score Analysis",content:`Your sustainability awareness has ${y>=0?"improved":"declined"} this month. Based on ${s.length} product scans, your average sustainability score is trending ${y>=0?"upward":"downward"}.`,metrics:[{label:"Average Score This Month",value:s.length>0?Math.round(s.reduce((z,G)=>z+(G.sustainabilityScore||0),0)/s.length):0},{label:"Best Product Category",value:"Food & Beverages"},{label:"Improvement Potential",value:`${100-(s.length>0?Math.round(s.reduce((z,G)=>z+(G.sustainabilityScore||0),0)/s.length):0)}%`}]}},{type:"prediction",title:"Carbon Goal Achievement",description:`At current pace, you'll ${x>=100?"exceed":"reach"} ${x}% of your monthly carbon reduction goal`,impact:`${x}%`,icon:xn,color:x>=100?"text-green-600":x>=75?"text-blue-600":"text-orange-600",action:"Optimize",details:{title:"Carbon Footprint Goal Progress",content:`You're making ${x>=75?"excellent":x>=50?"good":"steady"} progress toward your monthly carbon reduction goal.`,metrics:[{label:"Monthly Goal",value:"500 kg CO2"},{label:"Current Progress",value:`${Math.round(x/100*500)} kg CO2`},{label:"Days Remaining",value:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()-new Date().getDate()},{label:"Daily Target",value:`${Math.round((500-x/100*500)/(new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()-new Date().getDate())*10)/10} kg CO2/day`}]}},{type:"recommendation",title:"Shopping Pattern Analysis",description:"You tend to buy more sustainable products on weekends. Consider planning ahead.",impact:"Pattern",icon:gd,color:"text-purple-600",action:"Set Reminder",details:{title:"Shopping Pattern Insights",content:"Analysis of your shopping habits reveals interesting patterns that can help optimize your sustainable choices.",metrics:[{label:"Best Shopping Day",value:"Saturday"},{label:"Weekend vs Weekday Score",value:"+23% higher"},{label:"Most Active Shopping Time",value:"2-4 PM"},{label:"Recommendation",value:"Plan sustainable shopping for weekends"}]}}],w=z=>{m(z),h(!0)},N=z=>{h(!1),n({title:"Optimization started",description:`Optimizing based on: ${z.title}`,variant:"default"}),e("/goals")},S=async z=>{if(!t){n({title:"Not logged in",description:"Please log in to set reminders.",variant:"destructive"});return}try{const G=Re(gt(Ne,"users",t.uid,"reminders")).withConverter(null);await Zt(G,{title:z.title,description:z.details.content,createdAt:new Date,reminderDate:new Date(new Date().getTime()+24*60*60*1e3),completed:!1}),n({title:"Reminder set",description:`Reminder for "${z.title}" has been set.`,variant:"default"})}catch(G){console.error("Error setting reminder:",G),n({title:"Error",description:"Failed to set reminder. Please try again later.",variant:"destructive"})}},P=z=>{switch(z.action){case"View Details":w(z);break;case"Optimize":N(z);break;case"Set Reminder":S(z);break}},j=()=>{if(s.length===0)return[];const z=new Date,G=new Date(z.setDate(z.getDate()-7)),q=s.filter(ie=>{var Q;return new Date(((Q=ie.timestamp)==null?void 0:Q.toDate())||ie.timestamp)>=G}),ae={},ye=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return q.forEach(ie=>{var Z;const B=new Date(((Z=ie.timestamp)==null?void 0:Z.toDate())||ie.timestamp),Q=ye[B.getDay()];ae[Q]||(ae[Q]={scans:0,avgScore:[],totalScore:0}),ae[Q].scans++,ae[Q].totalScore+=ie.sustainabilityScore||0}),ye.map(ie=>{var B,Q;return{day:ie,scans:((B=ae[ie])==null?void 0:B.scans)||0,avgScore:(Q=ae[ie])!=null&&Q.scans?Math.round(ae[ie].totalScore/ae[ie].scans):0}})},_=()=>{if(!t)return{scannedProducts:[],carbonEntries:[],analytics:{}};const z=new Date,G=z.getMonth(),q=z.getFullYear(),ae=s.filter(pe=>{var le;const V=new Date(((le=pe.timestamp)==null?void 0:le.toDate())||pe.timestamp);return V.getMonth()===G&&V.getFullYear()===q}),ye=l.filter(pe=>{var le;const V=new Date(((le=pe.date)==null?void 0:le.toDate())||pe.date);return V.getMonth()===G&&V.getFullYear()===q}),ie=ae.length,B=ie>0?Math.round(ae.reduce((pe,V)=>pe+(V.sustainabilityScore||0),0)/ie):0,Q=ye.reduce((pe,V)=>pe+(V.carbonSaved||0),0),Z=E(ae),ue=A(ae);return{scannedProducts:ae,carbonEntries:ye,analytics:{totalScans:ie,avgSustainabilityScore:B,totalCarbonSaved:Q,bestCategory:Z,scanStreak:ue,topProducts:I(ae),categoryBreakdown:R(ae)}}},k=()=>{if(!t)return{scannedProducts:[],carbonEntries:[],analytics:{}};const G=new Date().getFullYear(),q=s.filter(ue=>{var V;return new Date(((V=ue.timestamp)==null?void 0:V.toDate())||ue.timestamp).getFullYear()===G}),ae=l.filter(ue=>{var V;return new Date(((V=ue.date)==null?void 0:V.toDate())||ue.date).getFullYear()===G}),ye=q.length,ie=ye>0?Math.round(q.reduce((ue,pe)=>ue+(pe.sustainabilityScore||0),0)/ye):0,B=ae.reduce((ue,pe)=>ue+(pe.carbonSaved||0),0),Q=$(q),Z=W(q);return{scannedProducts:q,carbonEntries:ae,analytics:{totalScans:ye,avgSustainabilityScore:ie,totalCarbonSaved:B,monthlyBreakdown:Q,yearlyTrend:Z,bestMonth:H(q),totalCategories:M(q)}}},E=z=>{const G={};z.forEach(ye=>{const ie=ye.category||"Other";G[ie]||(G[ie]={count:0,totalScore:0}),G[ie].count++,G[ie].totalScore+=ye.sustainabilityScore||0});let q="None",ae=0;return Object.entries(G).forEach(([ye,ie])=>{const B=ie.totalScore/ie.count;B>ae&&(ae=B,q=ye)}),q},A=z=>{if(z.length===0)return 0;const G=z.map(ye=>{var B;return new Date(((B=ye.timestamp)==null?void 0:B.toDate())||ye.timestamp).toDateString()}),q=[...new Set(G)].sort();let ae=1;for(let ye=1;ye<q.length;ye++){const ie=new Date(q[ye-1]),B=new Date(q[ye]),Q=Math.abs(B.getTime()-ie.getTime());if(Math.ceil(Q/(1e3*60*60*24))===1)ae++;else break}return ae},I=z=>z.sort((G,q)=>(q.sustainabilityScore||0)-(G.sustainabilityScore||0)).slice(0,3).map(G=>({name:G.name||"Unknown Product",score:G.sustainabilityScore||0})),R=z=>{const G={};return z.forEach(q=>{const ae=q.category||"Other";G[ae]=(G[ae]||0)+1}),Object.entries(G).map(([q,ae])=>({name:q,count:ae}))},$=z=>{const G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],q={};return z.forEach(ae=>{var B;const ye=new Date(((B=ae.timestamp)==null?void 0:B.toDate())||ae.timestamp),ie=G[ye.getMonth()];q[ie]=(q[ie]||0)+1}),G.map(ae=>({month:ae,scans:q[ae]||0}))},W=z=>{if(z.length<2)return 0;const G=z.filter(ie=>{var Q;return new Date(((Q=ie.timestamp)==null?void 0:Q.toDate())||ie.timestamp).getMonth()<6}),q=z.filter(ie=>{var Q;return new Date(((Q=ie.timestamp)==null?void 0:Q.toDate())||ie.timestamp).getMonth()>=6});if(G.length===0||q.length===0)return 0;const ae=G.reduce((ie,B)=>ie+(B.sustainabilityScore||0),0)/G.length,ye=q.reduce((ie,B)=>ie+(B.sustainabilityScore||0),0)/q.length;return Math.round((ye-ae)/ae*100)},H=z=>{const G=["January","February","March","April","May","June","July","August","September","October","November","December"],q={};z.forEach(ie=>{var Z;const B=new Date(((Z=ie.timestamp)==null?void 0:Z.toDate())||ie.timestamp),Q=G[B.getMonth()];q[Q]||(q[Q]={total:0,count:0}),q[Q].total+=ie.sustainabilityScore||0,q[Q].count++});let ae="None",ye=0;return Object.entries(q).forEach(([ie,B])=>{const Q=B.total/B.count;Q>ye&&(ye=Q,ae=ie)}),ae},M=z=>new Set(z.map(q=>q.category||"Other")).size,F=[{category:"Shopping",tip:"Your best shopping time is Saturday afternoons - sustainable products are 23% higher scored",confidence:94,icon:Kt},{category:"Categories",tip:"Consider exploring electronics - only 8% of your scans but highest impact potential",confidence:87,icon:Zi},{category:"Habits",tip:"Your 3-day scanning streaks result in 15% better product choices",confidence:91,icon:Tn}],U=_(),X=k();return C.useEffect(()=>{t&&U.analytics&&X.analytics&&d(U.analytics,X.analytics)},[t,U.analytics,X.analytics]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(te,{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-200",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2 text-indigo-700",children:[o.jsx(ha,{className:"w-6 h-6"}),o.jsx("span",{children:"Smart Insights & Analytics"}),o.jsx(ne,{variant:"secondary",className:"ml-auto bg-indigo-100 text-indigo-700",children:"AI Powered"})]})}),o.jsx(ce,{children:o.jsxs(Jr,{value:r,onValueChange:i,className:"w-full",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-3",children:[o.jsx(Qe,{value:"week",children:"This Week"}),o.jsx(Qe,{value:"month",children:"This Month"}),o.jsx(Qe,{value:"year",children:"This Year"})]}),o.jsxs(Oe,{value:"week",className:"space-y-6 mt-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[o.jsx(gd,{className:"w-5 h-5"}),o.jsx("span",{children:"Key Insights"})]}),b.map((z,G)=>o.jsxs("div",{className:"bg-white/80 rounded-xl p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(z.icon,{className:`w-6 h-6 ${z.color}`}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:z.title}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:z.description})]})]}),o.jsx(ne,{variant:"outline",className:`${z.color} border-current`,children:z.impact})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>P(z),children:[z.action,o.jsx(Kl,{className:"w-4 h-4 ml-2"})]})})]},G))]}),o.jsxs("div",{className:"bg-white/80 rounded-xl p-6 border border-gray-100",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[o.jsx(ka,{className:"w-5 h-5"}),o.jsx("span",{children:"Weekly Activity"})]}),o.jsx("div",{className:"space-y-3",children:j().map((z,G)=>o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 text-sm font-medium text-gray-600",children:z.day}),o.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:o.jsx("div",{className:"bg-indigo-500 h-3 rounded-full",style:{width:`${Math.min(z.scans/10*100,100)}%`}})}),o.jsxs("div",{className:"w-16 text-sm text-gray-600",children:[z.scans," scans"]}),o.jsx(ne,{variant:"outline",className:"text-xs",children:z.avgScore})]},G))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Personalized Tips"}),F.map((z,G)=>o.jsx("div",{className:"bg-white/80 rounded-xl p-4 border border-gray-100",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(z.icon,{className:"w-5 h-5 text-green-600 mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"font-medium text-gray-800",children:z.category}),o.jsxs(ne,{variant:"secondary",className:"text-xs",children:[z.confidence,"% confidence"]})]}),o.jsx("p",{className:"text-sm text-gray-600",children:z.tip})]})]})},G))]})]}),o.jsx(Oe,{value:"month",className:"mt-6",children:t?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(te,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Scans"}),o.jsx("p",{className:"text-2xl font-bold text-blue-800",children:U.analytics.totalScans})]}),o.jsx(fr,{className:"w-8 h-8 text-blue-600"})]})})}),o.jsx(te,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Avg Score"}),o.jsx("p",{className:"text-2xl font-bold text-green-800",children:U.analytics.avgSustainabilityScore})]}),o.jsx(Yn,{className:"w-8 h-8 text-green-600"})]})})}),o.jsx(te,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Carbon Saved"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-800",children:[Math.round(U.analytics.totalCarbonSaved)," kg"]})]}),o.jsx(dt,{className:"w-8 h-8 text-purple-600"})]})})}),o.jsx(te,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Scan Streak"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-800",children:[U.analytics.scanStreak," days"]})]}),o.jsx(rL,{className:"w-8 h-8 text-orange-600"})]})})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(te,{className:"bg-white/80 border border-gray-100",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg text-gray-800",children:"Top Sustainable Products"})}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-3",children:[U.analytics.topProducts.map((z,G)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"font-medium text-gray-800",children:z.name}),o.jsx(ne,{variant:"outline",className:"text-green-600 border-green-600",children:z.score})]},G)),U.analytics.topProducts.length===0&&o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No products scanned this month"})]})})]}),o.jsxs(te,{className:"bg-white/80 border border-gray-100",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg text-gray-800",children:"Category Breakdown"})}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-3",children:[U.analytics.categoryBreakdown.map((z,G)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700",children:z.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${Math.min(z.count/U.analytics.totalScans*100,100)}%`}})}),o.jsx("span",{className:"text-sm text-gray-600 w-8",children:z.count})]})]},G)),U.analytics.categoryBreakdown.length===0&&o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No categories to display"})]})})]})]}),o.jsxs(te,{className:"bg-white/80 border border-gray-100",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg text-gray-800",children:"Monthly Summary"})}),o.jsx(ce,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Best Performing Category"}),o.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:U.analytics.bestCategory}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Highest average sustainability score"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Carbon Entries"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:U.carbonEntries.length}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total tracking entries this month"})]})]})})]})]}):o.jsxs("div",{className:"bg-white/80 rounded-xl p-6 border border-gray-100 text-center",children:[o.jsx(zP,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Monthly Analytics"}),o.jsx("p",{className:"text-gray-500",children:"Log in to view your monthly sustainability trends."})]})}),o.jsx(Oe,{value:"year",className:"mt-6",children:t?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(te,{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 border-indigo-200",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-indigo-600 font-medium",children:"Total Scans"}),o.jsx("p",{className:"text-2xl font-bold text-indigo-800",children:X.analytics.totalScans})]}),o.jsx(ka,{className:"w-8 h-8 text-indigo-600"})]})})}),o.jsx(te,{className:"bg-gradient-to-br from-teal-50 to-teal-100 border-teal-200",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-teal-600 font-medium",children:"Avg Score"}),o.jsx("p",{className:"text-2xl font-bold text-teal-800",children:X.analytics.avgSustainabilityScore})]}),o.jsx(vr,{className:"w-8 h-8 text-teal-600"})]})})}),o.jsx(te,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 border-emerald-200",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-emerald-600 font-medium",children:"Carbon Saved"}),o.jsxs("p",{className:"text-2xl font-bold text-emerald-800",children:[Math.round(X.analytics.totalCarbonSaved)," kg"]})]}),o.jsx(dt,{className:"w-8 h-8 text-emerald-600"})]})})}),o.jsx(te,{className:"bg-gradient-to-br from-rose-50 to-rose-100 border-rose-200",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-rose-600 font-medium",children:"Categories"}),o.jsx("p",{className:"text-2xl font-bold text-rose-800",children:X.analytics.totalCategories})]}),o.jsx(zP,{className:"w-8 h-8 text-rose-600"})]})})})]}),o.jsxs(te,{className:"bg-white/80 border border-gray-100",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg text-gray-800",children:"Monthly Activity Breakdown"})}),o.jsx(ce,{children:o.jsx("div",{className:"space-y-3",children:X.analytics.monthlyBreakdown.map((z,G)=>o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 text-sm font-medium text-gray-600",children:z.month}),o.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full",style:{width:`${Math.min(z.scans/Math.max(...X.analytics.monthlyBreakdown.map(q=>q.scans))*100,100)}%`}})}),o.jsxs("div",{className:"w-16 text-sm text-gray-600",children:[z.scans," scans"]})]},G))})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(te,{className:"bg-white/80 border border-gray-100",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg text-gray-800",children:"Year Performance"})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-green-50 to-green-100 rounded-lg",children:[o.jsx("span",{className:"font-medium text-gray-800",children:"Best Month"}),o.jsx("span",{className:"font-bold text-green-700",children:X.analytics.bestMonth})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg",children:[o.jsx("span",{className:"font-medium text-gray-800",children:"Yearly Trend"}),o.jsxs(ne,{variant:"outline",className:`${X.analytics.yearlyTrend>=0?"text-green-600 border-green-600":"text-red-600 border-red-600"}`,children:[X.analytics.yearlyTrend>=0?"+":"",X.analytics.yearlyTrend,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg",children:[o.jsx("span",{className:"font-medium text-gray-800",children:"Carbon Entries"}),o.jsx("span",{className:"font-bold text-purple-700",children:X.carbonEntries.length})]})]})]}),o.jsxs(te,{className:"bg-white/80 border border-gray-100",children:[o.jsx(je,{children:o.jsx(Ce,{className:"text-lg text-gray-800",children:"Achievement Summary"})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg",children:[o.jsx(Yn,{className:"w-12 h-12 mx-auto mb-2 text-orange-500"}),o.jsx("h4",{className:"font-semibold text-gray-800",children:"Sustainability Champion"}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[X.analytics.totalScans," products scanned this year"]})]}),o.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg",children:[o.jsx(dt,{className:"w-12 h-12 mx-auto mb-2 text-emerald-500"}),o.jsx("h4",{className:"font-semibold text-gray-800",children:"Carbon Reducer"}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Math.round(X.analytics.totalCarbonSaved)," kg CO2 saved"]})]})]})]})]})]}):o.jsxs("div",{className:"bg-white/80 rounded-xl p-6 border border-gray-100 text-center",children:[o.jsx(os,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Yearly Overview"}),o.jsx("p",{className:"text-gray-500",children:"Log in to view your yearly sustainability trends."})]})})]})})]}),u&&f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center space-x-2",children:[o.jsx(f.icon,{className:`w-6 h-6 ${f.color}`}),o.jsx("span",{children:f.details.title})]}),o.jsx(Y,{variant:"outline",size:"sm",onClick:()=>h(!1),children:o.jsx(ng,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:f.details.content}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.details.metrics.map((z,G)=>o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:z.label}),o.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:z.value})]},G))}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[o.jsx(Y,{variant:"outline",onClick:()=>h(!1),children:"Close"}),o.jsx(Y,{onClick:()=>{h(!1),f.action==="Optimize"?N(f):f.action==="Set Reminder"&&S(f)},children:"Take Action"})]})]})})})]})},dDe=()=>{const{user:t}=_n(),[e,n]=C.useState("all"),[r,i]=C.useState({savedEvents:[],registeredEvents:[],attendedEvents:[]});C.useEffect(()=>{if(!t){i({savedEvents:[],registeredEvents:[],attendedEvents:[]});return}const y=Re(Ne,"users",t.uid,"eventActivity","data"),x=Or(y,b=>{if(b.exists()){const w=b.data();i(w)}else i({savedEvents:[],registeredEvents:[],attendedEvents:[]}),Zt(y,{savedEvents:[],registeredEvents:[],attendedEvents:[]}).catch(w=>console.error("Error initializing user event activity data:",w))},b=>{console.error("Error fetching user event activity data:",b)});return()=>x()},[t]);const s=[{id:1,title:"Sustainable Living Workshop",type:"workshop",date:"2024-06-20",time:"14:00 UTC",duration:"2 hours",host:"EcoExperts",participants:245,maxParticipants:500,location:"Virtual",description:"Learn practical tips for reducing your environmental footprint in daily life.",badges:["Beginner Friendly","Interactive"],status:"upcoming",featured:!0},{id:2,title:"Climate Action Challenge",type:"challenge",date:"2024-06-18",time:"All Day",duration:"7 days",host:"EcoScope Community",participants:1247,maxParticipants:null,location:"Global",description:"Join thousands in a week-long challenge to reduce carbon footprint.",badges:["Community Event","Rewards Available"],status:"live",featured:!0},{id:3,title:"Green Tech Innovation Showcase",type:"showcase",date:"2024-06-25",time:"16:00 UTC",duration:"3 hours",host:"TechForGood",participants:89,maxParticipants:200,location:"San Francisco + Virtual",description:"Discover the latest innovations in sustainable technology.",badges:["Industry Leaders","Networking"],status:"upcoming",featured:!1}],a={activeEvents:12,participants:3456,completedToday:8,upcomingWeek:15},l=async y=>{if(!t)return;const x=Re(Ne,"users",t.uid,"eventActivity","data");r.savedEvents.includes(y)?await un(x,{savedEvents:Ev(y)}):await un(x,{savedEvents:dm(y)})},c=async y=>{if(!t)return;const x=Re(Ne,"users",t.uid,"eventActivity","data");r.registeredEvents.includes(y)?alert("Already registered for this event."):(await un(x,{registeredEvents:dm(y)}),alert("Registered for event!"))},u=async y=>{if(!t)return;const x=Re(Ne,"users",t.uid,"eventActivity","data");r.attendedEvents.includes(y)?alert("Already marked as attended."):(await un(x,{attendedEvents:dm(y)}),r.registeredEvents.includes(y)&&await un(x,{registeredEvents:Ev(y)}),alert("Marked as attended!"))},h=y=>{switch(y){case"live":return"bg-red-500 text-white";case"upcoming":return"bg-blue-500 text-white";case"completed":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},d=y=>{switch(y){case"workshop":return GY;case"challenge":return Us;case"showcase":return fn;default:return os}},f=s.filter(y=>e==="all"||e==="live"&&y.status==="live"||e==="upcoming"&&y.status==="upcoming"||e==="workshops"&&y.type==="workshop"||e==="challenges"&&y.type==="challenge"),m=y=>r.savedEvents.includes(y),g=y=>r.registeredEvents.includes(y),v=y=>r.attendedEvents.includes(y);return o.jsx("div",{className:"space-y-6",children:o.jsxs(te,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200",children:[o.jsx(je,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ce,{className:"flex items-center space-x-2 text-purple-700",children:[o.jsx(os,{className:"w-6 h-6"}),o.jsx("span",{children:"Live Events & Challenges"})]}),o.jsxs(ne,{variant:"secondary",className:"ml-auto bg-red-100 text-red-700 animate-pulse",children:[a.activeEvents," Live"]})]})}),o.jsxs(ce,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-white/70 rounded-xl p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.activeEvents}),o.jsx("div",{className:"text-sm text-gray-600",children:"Active Events"})]}),o.jsxs("div",{className:"bg-white/70 rounded-xl p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.participants.toLocaleString()}),o.jsx("div",{className:"text-sm text-gray-600",children:"Participants"})]}),o.jsxs("div",{className:"bg-white/70 rounded-xl p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.completedToday}),o.jsx("div",{className:"text-sm text-gray-600",children:"Completed Today"})]}),o.jsxs("div",{className:"bg-white/70 rounded-xl p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.upcomingWeek}),o.jsx("div",{className:"text-sm text-gray-600",children:"This Week"})]})]}),o.jsx("div",{className:"flex space-x-2 mb-6",children:["all","live","upcoming","workshops","challenges"].map(y=>o.jsx(Y,{variant:e===y?"default":"outline",size:"sm",onClick:()=>n(y),className:"capitalize",children:y},y))}),o.jsx("div",{className:"space-y-4",children:f.map(y=>{const x=d(y.type);return o.jsxs("div",{className:`bg-white/80 rounded-xl p-6 border ${y.featured?"border-purple-200 ring-2 ring-purple-100":"border-gray-100"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-xl flex items-center justify-center",children:o.jsx(x,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:y.title}),y.featured&&o.jsx(fn,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:y.description}),o.jsx("div",{className:"flex flex-wrap gap-1",children:y.badges.map((b,w)=>o.jsx(ne,{variant:"secondary",className:"text-xs",children:b},w))})]})]}),o.jsx(ne,{className:h(y.status),children:y.status})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(os,{className:"w-4 h-4"}),o.jsx("span",{children:y.date})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qr,{className:"w-4 h-4"}),o.jsx("span",{children:y.time})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(yd,{className:"w-4 h-4"}),o.jsx("span",{children:y.location})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vn,{className:"w-4 h-4"}),o.jsxs("span",{children:[y.participants," joined"]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>l(y.id),children:[" ",o.jsx(HS,{className:`w-4 h-4 mr-2 ${m(y.id)?"fill-current text-yellow-500":""}`})," ",m(y.id)?"Saved":"Save"," "]}),o.jsxs(Y,{variant:"outline",size:"sm",children:[" ",o.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Remind Me"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[y.status==="upcoming"&&o.jsxs(Y,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>c(y.id),children:[" ",g(y.id)?"Registered":"Register"," ",o.jsx(GP,{className:"w-4 h-4 ml-2"})]}),y.status==="live"&&o.jsxs(Y,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:[" ","Join Now",o.jsx(GP,{className:"w-4 h-4 ml-2"})]}),y.status==="completed"&&o.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>u(y.id),children:[" ",v(y.id)?"Attended":"Mark as Attended"," "]})]})]})]},y.id)})}),o.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl",children:[o.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"Create Your Own Event"}),o.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Host a sustainability workshop, challenge, or meetup in your community."}),o.jsx(Y,{size:"sm",variant:"outline",className:"border-purple-300 text-purple-700 hover:bg-purple-50",children:"Start Hosting"})]})]})]})})},hDe="5b3ce3597851110001cf62486094de2c5bcb42f18759aa06361f897a",fDe=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,s]=C.useState([]),[a,l]=C.useState(!1),c=hDe,{toast:u}=Ks(),{addNotification:h}=Ya(),d=async S=>{try{const j=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(S)}&limit=1`)).json();return j.length>0?{lat:parseFloat(j[0].lat),lon:parseFloat(j[0].lon),display_name:j[0].display_name}:null}catch(P){return console.error("Geocoding error:",P),null}},f=async(S,P,j)=>{try{const _=await fetch(`https://api.openrouteservice.org/v2/directions/${j}?start=${S.lon},${S.lat}&end=${P.lon},${P.lat}`,{headers:{Authorization:c,Accept:"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8"}});if(!_.ok){const E=await _.text();throw console.error(`API Error: ${_.status} - ${E}`),new Error(`API Error: ${_.status} - ${E}`)}return(await _.json()).features[0].properties.segments[0]}catch(_){return console.error("Route calculation error:",_),null}},m=(S,P)=>{const j={"foot-walking":0,"cycling-regular":0,"driving-car":.21,bus:.089,train:.041};return(S/1e3*(j[P]||0)).toFixed(2)},g=(S,P)=>{const j={"foot-walking":0,"cycling-regular":0,"driving-car":.15,bus:.12,train:.08};return(S/1e3*(j[P]||0)).toFixed(2)},v=(S,P)=>{const j={"foot-walking":50,"cycling-regular":30,"driving-car":0,bus:0,train:0};return Math.round(S/1e3*(j[P]||0))},y=S=>({"foot-walking":100,"cycling-regular":98,bus:85,train:90,"driving-car":25})[S]||50,x=S=>({"foot-walking":{icon:IY,name:"Walking",color:"bg-green-500",benefits:["Zero emissions","Great exercise","No cost"]},"cycling-regular":{icon:bY,name:"Cycling",color:"bg-emerald-500",benefits:["Zero emissions","Fast & healthy","Bike-friendly route"]},"driving-car":{icon:zm,name:"Driving",color:"bg-red-500",benefits:["Door to door","Weather independent","Fastest option"]}})[S]||{icon:Ff,name:S,color:"bg-gray-500",benefits:["Transportation option"]},b=(S,P)=>{const j=W=>W*Math.PI/180,k=j(P.lat-S.lat),E=j(P.lon-S.lon),A=j(S.lat),I=j(P.lat),R=Math.sin(k/2)*Math.sin(k/2)+Math.sin(E/2)*Math.sin(E/2)*Math.cos(A)*Math.cos(I);return 6371e3*(2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R)))},w=async()=>{if(!t||!n){u({title:"Missing Information",description:"Please enter both starting and destination locations.",variant:"destructive"});return}l(!0),s([]);try{const S=await d(t),P=await d(n);if(!S||!P){u({title:"Location Not Found",description:"Could not find one or both locations. Please check your input.",variant:"destructive"}),l(!1);return}if(typeof S.lat!="number"||typeof S.lon!="number"||typeof P.lat!="number"||typeof P.lon!="number"){u({title:"Invalid Coordinates",description:"Geocoding returned invalid coordinates.",variant:"destructive"}),l(!1);return}if(b(S,P)>6e6){u({title:"Route Too Long",description:"The requested route distance exceeds the 6,000 km limit of the routing service. Please choose closer locations.",variant:"destructive"}),l(!1);return}const _=["foot-walking","cycling-regular","driving-car"],k=[];for(const E of _){const A=await f(S,P,E);if(A){const I=x(E),R=A.distance,$=A.duration,W=m(R,E),H=g(R,E),M=v(R,E),F=y(E);k.push({mode:E,icon:I.icon,name:I.name,duration:`${Math.round($/60)} min`,distance:`${(R/1e3).toFixed(1)} km`,cost:`$${H}`,emissions:parseFloat(W),calories:M,color:I.color,sustainability:F,benefits:I.benefits})}else u({title:"Route Calculation Failed",description:`Failed to calculate route for mode: ${E}. Please try a different location or mode.`,variant:"destructive"})}k.length===0?u({title:"No Routes Found",description:"Could not calculate routes between these locations.",variant:"destructive"}):(s(k),u({title:"Routes Calculated",description:`Found ${k.length} route options.`}),h({type:"suggestion",title:"Routes Calculated",message:`Found ${k.length} route options for your trip.`,read:!1,source:"travelPlanner",actionable:!1}))}catch(S){console.error("Error planning route:",S),u({title:"Error",description:"Failed to calculate routes. Please try again.",variant:"destructive"})}finally{l(!1)}},N=S=>S>=90?{color:"bg-green-500",label:"Excellent"}:S>=70?{color:"bg-emerald-500",label:"Good"}:S>=50?{color:"bg-yellow-500",label:"Fair"}:{color:"bg-red-500",label:"Poor"};return o.jsx("div",{className:"space-y-6",children:o.jsxs(te,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2 text-green-700",children:[o.jsx(Ff,{className:"w-6 h-6"}),o.jsx("span",{children:"Real-Time Transportation Planner"}),o.jsxs(ne,{variant:"secondary",className:"ml-auto bg-green-100 text-green-700",children:[o.jsx(dt,{className:"w-4 h-4 mr-1"}),"Live Data"]})]})}),o.jsxs(ce,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"From"}),o.jsxs("div",{className:"relative",children:[o.jsx(yd,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(st,{placeholder:"Enter starting location (e.g., New York, NY)",value:t,onChange:S=>e(S.target.value),className:"pl-10 border-green-200 focus:border-green-400"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"To"}),o.jsxs("div",{className:"relative",children:[o.jsx(yd,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(st,{placeholder:"Enter destination (e.g., Boston, MA)",value:n,onChange:S=>r(S.target.value),className:"pl-10 border-green-200 focus:border-green-400"})]})]}),o.jsx("div",{className:"flex items-end",children:o.jsx(Y,{onClick:w,disabled:a,className:"w-full bg-green-600 hover:bg-green-700",children:a?o.jsxs(o.Fragment,{children:[o.jsx(o0,{className:"w-4 h-4 mr-2 animate-spin"}),"Calculating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ff,{className:"w-4 h-4 mr-2"}),"Plan Route"]})})})]}),i.length>0&&o.jsxs("div",{className:"bg-white/80 rounded-xl p-4 mb-6 border border-green-100",children:[o.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[o.jsx(qo,{className:"w-5 h-5 mr-2 text-green-600"}),"Environmental Impact Comparison"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.min(...i.map(S=>S.emissions)),"kg"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Best Option CO"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[Math.max(...i.map(S=>S.emissions)),"kg"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Worst Option CO"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(Math.max(...i.map(S=>S.emissions))-Math.min(...i.map(S=>S.emissions))).toFixed(2),"kg"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"CO Saved"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:Math.round((Math.max(...i.map(S=>S.emissions))-Math.min(...i.map(S=>S.emissions)))*.02)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Trees Equivalent"})]})]})]}),i.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Route Options"}),i.map((S,P)=>{const j=N(S.sustainability),_=async k=>{try{if(!Ss.currentUser){u({title:"Authentication Required",description:"Please log in to save routes.",variant:"destructive"});return}const E=gt(Ne,"users",Ss.currentUser.uid,"savedRoutes");await Rd(E,{mode:k.mode,name:k.name,duration:k.duration,distance:k.distance,cost:k.cost,emissions:k.emissions,calories:k.calories,sustainability:k.sustainability,timestamp:new Date}),u({title:"Route Saved",description:"Your route has been saved successfully.",variant:"default"}),h({type:"suggestion",title:"Route Saved",message:`Your route "${k.name}" has been saved.`,read:!1,source:"travelPlanner",actionable:!1})}catch(E){console.error("Error saving route:",E),E.code==="permission-denied"?u({title:"Permission Denied",description:"You do not have permission to save routes. Please check your account permissions.",variant:"destructive"}):u({title:"Save Failed",description:"Failed to save the route. Please try again.",variant:"destructive"})}};return o.jsxs("div",{className:"bg-white/80 rounded-xl p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-12 h-12 ${S.color} rounded-xl flex items-center justify-center`,children:o.jsx(S.icon,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:S.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx(ne,{className:`text-white text-xs ${j.color}`,children:j.label}),o.jsxs("span",{className:"text-sm text-gray-600",children:[S.sustainability,"/100"]})]})]})]}),o.jsx(Y,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>_(S),children:"Save"})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qr,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:S.duration})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ff,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:S.distance})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(EY,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:S.cost})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(dt,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{className:"text-sm text-gray-700",children:[S.emissions,"kg CO"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Tn,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{className:"text-sm text-gray-700",children:[S.calories," cal"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"font-medium text-gray-800",children:"Benefits:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:S.benefits.map((k,E)=>o.jsx(ne,{variant:"outline",className:"text-xs",children:k},E))})]})]},P)})]}),o.jsxs("div",{className:"mt-6 bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[o.jsxs("h3",{className:"font-semibold text-emerald-800 mb-2 flex items-center",children:[o.jsx(dt,{className:"w-5 h-5 mr-2"}),"Eco-Friendly Travel Tips"]}),o.jsxs("ul",{className:"text-sm text-emerald-700 space-y-1",children:[o.jsx("li",{children:" Walking and cycling produce zero emissions and improve health"}),o.jsx("li",{children:" Combine multiple trips to reduce overall transportation needs"}),o.jsx("li",{children:" Choose direct routes to minimize fuel consumption"}),o.jsx("li",{children:" Consider weather and traffic conditions when planning"})]})]})]})]})})},mDe=()=>{const{user:t}=_n(),[e,n]=C.useState(""),[r,i]=C.useState(null),[s,a]=C.useState("recipes"),[l,c]=C.useState(new Set),[u,h]=C.useState([]),[d,f]=C.useState("Monday"),{incrementRecipeViewed:m,addPoints:g}=Xr(),{toast:v}=Ks(),{addGeneralNotification:y}=jH();C.useEffect(()=>{if(!t){c(new Set),h([]);return}const k=Re(Ne,"users",t.uid,"recipeData","data"),E=Or(k,A=>{if(A.exists()){const I=A.data();c(new Set(I.favoriteRecipes||[])),h(I.mealPlan||[])}else c(new Set),h([]),Zt(k,{favoriteRecipes:[],mealPlan:[]}).catch(I=>console.error("Error initializing user recipe data:",I))},A=>{console.error("Error fetching user recipe data:",A)});return()=>E()},[t]);const x=[{id:1,name:"Rainbow Quinoa Buddha Bowl",image:"photo-1512621776951-a57141f2eefd",sustainabilityScore:95,carbonFootprint:"0.8 kg CO",waterUsage:"250L",cookTime:"25 min",servings:4,difficulty:"Easy",tags:["Vegan","Gluten-Free","Local"],ingredients:["1 cup quinoa (locally sourced)","2 cups seasonal vegetables","1/2 cup chickpeas","Tahini dressing","Mixed greens"],instructions:["Cook quinoa according to package directions","Roast seasonal vegetables with olive oil","Prepare tahini dressing","Assemble bowl with all ingredients"],nutrition:{calories:420,protein:"18g",carbs:"52g",fat:"16g"},sustainability:{seasonal:!0,local:!0,organic:!0,lowWaste:!0}},{id:2,name:"Plant-Based Lentil Shepherd's Pie",image:"photo-1574484284002-952d92456975",sustainabilityScore:92,carbonFootprint:"1.2 kg CO",waterUsage:"180L",cookTime:"45 min",servings:6,difficulty:"Medium",tags:["Vegan","Protein-Rich","Comfort Food"],ingredients:["2 cups green lentils","3 lbs local potatoes","Seasonal root vegetables","Vegetable broth","Fresh herbs"],instructions:["Cook lentils with vegetables and herbs","Prepare mashed potato topping","Layer in baking dish","Bake until golden brown"],nutrition:{calories:385,protein:"16g",carbs:"58g",fat:"12g"},sustainability:{seasonal:!0,local:!0,organic:!1,lowWaste:!0}},{id:3,name:"Zero-Waste Vegetable Broth",image:"photo-1547592180-85f173990554",sustainabilityScore:98,carbonFootprint:"0.2 kg CO",waterUsage:"50L",cookTime:"60 min",servings:8,difficulty:"Easy",tags:["Zero-Waste","Vegan","Base Recipe"],ingredients:["Vegetable scraps and peels","Herb stems","Onion skins","Mushroom stems","Bay leaves"],instructions:["Collect vegetable scraps in freezer","Simmer scraps in water for 1 hour","Strain and store broth","Compost remaining solids"],nutrition:{calories:15,protein:"1g",carbs:"3g",fat:"0g"},sustainability:{seasonal:!0,local:!0,organic:!0,lowWaste:!0}}],b=[{title:"Choose Seasonal Produce",description:"Seasonal fruits and vegetables have a 60% lower carbon footprint",icon:vY,impact:"60% less CO"},{title:"Reduce Food Waste",description:"Use vegetable scraps for broths and composting",icon:qo,impact:"40% waste reduction"},{title:"Plant-Based Proteins",description:"Legumes and grains use 75% less water than meat",icon:fi,impact:"75% water savings"},{title:"Local Sourcing",description:"Local ingredients reduce transportation emissions",icon:pd,impact:"50% transport reduction"}],w=k=>{i(k);try{m(),console.log("incrementRecipeViewed called successfully")}catch(E){console.error("Error calling incrementRecipeViewed:",E)}try{g(5),console.log("addPoints called successfully")}catch(E){console.error("Error calling addPoints:",E)}v({title:"Recipe Viewed!",description:"You earned 5 points for viewing a recipe!"}),y("Recipe Viewed",`You viewed the recipe: ${k.name}`,"recipes")},N=async k=>{if(!t)return;const E=Re(Ne,"users",t.uid,"recipeData","data"),A=new Set(l);A.has(k)?(A.delete(k),await un(E,{favoriteRecipes:Ev(k)}),v({title:"Recipe Removed",description:"Recipe removed from favorites."}),y("Recipe Removed","You removed the recipe from favorites.","suggestion")):(A.add(k),await un(E,{favoriteRecipes:dm(k)}),g(5),v({title:"Recipe Favorited!",description:"You earned 5 points for favoriting a recipe!"}),y("Recipe Favorited","You favorited a recipe.","suggestion"))},S=async(k,E="Monday")=>{if(!t)return;const A=Re(Ne,"users",t.uid,"recipeData","data"),I=[...u],R=I.findIndex(W=>W.day===E),$={day:E,recipeId:k.id};R>=0?I[R]=$:I.push($),await un(A,{mealPlan:I}),g(10),v({title:"Added to Meal Plan!",description:"You earned 10 points for meal planning!"}),y("Added to Meal Plan",`You added a recipe to your meal plan for ${E}.`,"suggestion")},P=async()=>{if(!t)return;const E=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(I=>({day:I,recipeId:x[Math.floor(Math.random()*x.length)].id})),A=Re(Ne,"users",t.uid,"recipeData","data");await un(A,{mealPlan:E}),g(25),v({title:"Meal Plan Generated!",description:"You earned 25 points for generating a meal plan!"}),y("Meal Plan Generated","You generated a new meal plan for the week.","suggestion")},j=k=>x.find(E=>E.id===k.recipeId),_=k=>k>=90?"bg-green-500":k>=80?"bg-emerald-500":k>=70?"bg-yellow-500":"bg-red-500";return o.jsx("div",{className:"space-y-6",children:o.jsxs(te,{className:"bg-gradient-to-r from-green-50 to-lime-50 border-green-200",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-2 text-green-700",children:[o.jsx(Y0,{className:"w-6 h-6"}),o.jsx("span",{children:"Eco-Friendly Recipe Finder"}),o.jsxs(ne,{variant:"secondary",className:"ml-auto bg-green-100 text-green-700",children:[o.jsx(dt,{className:"w-4 h-4 mr-1"}),"Sustainable Cooking"]})]})}),o.jsx(ce,{children:o.jsxs(Jr,{value:s,onValueChange:a,className:"w-full",children:[o.jsxs(Zr,{className:"grid w-full grid-cols-3",children:[o.jsx(Qe,{value:"recipes",children:"Recipe Library"}),o.jsx(Qe,{value:"tips",children:"Sustainability Tips"}),o.jsx(Qe,{value:"planner",children:"Meal Planner"})]}),o.jsxs(Oe,{value:"recipes",className:"space-y-6 mt-6",children:[o.jsxs("div",{className:"flex space-x-2 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Kr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(st,{placeholder:"Search recipes by ingredients, diet, or cuisine...",value:e,onChange:k=>n(k.target.value),className:"pl-10 border-green-200 focus:border-green-400"})]}),o.jsxs(Y,{variant:"outline",className:"border-green-200",children:[o.jsx(mh,{className:"w-4 h-4 mr-2"}),"Filters"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(k=>o.jsxs("div",{className:"bg-white/80 rounded-xl overflow-hidden border border-gray-100 hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[o.jsx("img",{src:`https://images.unsplash.com/${k.image}?w=400&h=300&fit=crop`,alt:k.name,className:"w-full h-full object-cover",onError:E=>{E.target.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop"}}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx(ne,{className:`text-white ${_(k.sustainabilityScore)}`,children:k.sustainabilityScore})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx(Y,{size:"sm",variant:"ghost",className:"bg-white/80 hover:bg-white",onClick:()=>N(k.id),children:o.jsx(ls,{className:`w-4 h-4 ${l.has(k.id)?"fill-current text-red-500":""}`})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:k.name}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(qr,{className:"w-4 h-4"}),o.jsx("span",{children:k.cookTime})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(vn,{className:"w-4 h-4"}),o.jsx("span",{children:k.servings})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(fn,{className:"w-4 h-4"}),o.jsx("span",{children:k.difficulty})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:k.tags.map((E,A)=>o.jsx(ne,{variant:"outline",className:"text-xs",children:E},A))}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(qo,{className:"w-3 h-3 text-green-600"}),o.jsx("span",{children:k.carbonFootprint})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(fi,{className:"w-3 h-3 text-blue-600"}),o.jsx("span",{children:k.waterUsage})]})]}),o.jsxs(_A,{children:[o.jsx(nB,{asChild:!0,children:o.jsx(Y,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>w(k),children:"View Recipe"})}),o.jsxs(rw,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(iw,{children:[o.jsxs(sw,{className:"flex items-center justify-between",children:[o.jsx("span",{children:k.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(ne,{className:`text-white ${_(k.sustainabilityScore)}`,children:["Sustainability: ",k.sustainabilityScore]}),o.jsx(ne,{variant:"outline",children:k.difficulty})]})]}),o.jsx(SA,{children:"Detailed recipe information and sustainability analysis"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("img",{src:`https://images.unsplash.com/${k.image}?w=600&h=400&fit=crop`,alt:k.name,className:"w-full h-64 object-cover rounded-lg",onError:E=>{E.target.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=600&h=400&fit=crop"}}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(qr,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{children:k.cookTime})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(vn,{className:"w-4 h-4 text-blue-600"}),o.jsxs("span",{children:[k.servings," servings"]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(qo,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{children:k.carbonFootprint})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(fi,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:k.waterUsage})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:k.tags.map((E,A)=>o.jsx(ne,{variant:"outline",className:"text-xs",children:E},A))}),o.jsxs("div",{className:"grid grid-cols-4 gap-2 p-3 bg-green-50 rounded-lg text-center text-xs",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-green-700",children:k.nutrition.calories}),o.jsx("div",{className:"text-green-600",children:"Calories"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-green-700",children:k.nutrition.protein}),o.jsx("div",{className:"text-green-600",children:"Protein"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-green-700",children:k.nutrition.carbs}),o.jsx("div",{className:"text-green-600",children:"Carbs"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-green-700",children:k.nutrition.fat}),o.jsx("div",{className:"text-green-600",children:"Fat"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Ingredients:"}),o.jsx("ul",{className:"text-sm text-gray-700 space-y-1",children:k.ingredients.map((E,A)=>o.jsxs("li",{children:[" ",E]},A))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Instructions:"}),o.jsx("ol",{className:"text-sm text-gray-700 space-y-1",children:k.instructions.map((E,A)=>o.jsxs("li",{children:[A+1,". ",E]},A))})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[o.jsxs(Y,{variant:"outline",onClick:()=>N(k.id),className:l.has(k.id)?"bg-red-50 text-red-600":"",children:[o.jsx(ls,{className:`w-4 h-4 mr-2 ${l.has(k.id)?"fill-current":""}`}),l.has(k.id)?"Favorited":"Add to Favorites"]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsxs("select",{value:d,onChange:E=>f(E.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"Monday",children:"Monday"}),o.jsx("option",{value:"Tuesday",children:"Tuesday"}),o.jsx("option",{value:"Wednesday",children:"Wednesday"}),o.jsx("option",{value:"Thursday",children:"Thursday"}),o.jsx("option",{value:"Friday",children:"Friday"}),o.jsx("option",{value:"Saturday",children:"Saturday"}),o.jsx("option",{value:"Sunday",children:"Sunday"})]}),o.jsxs(Y,{onClick:()=>S(k,d),children:[o.jsx(es,{className:"w-4 h-4 mr-2"}),"Add to Meal Plan"]})]})]})]})]})]})]})]},k.id))})]}),o.jsxs(Oe,{value:"tips",className:"space-y-4 mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Sustainable Cooking Tips"}),b.map((k,E)=>o.jsx("div",{className:"bg-white/80 rounded-xl p-6 border border-gray-100",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:o.jsx(k.icon,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:k.title}),o.jsx("p",{className:"text-gray-600 mb-2",children:k.description}),o.jsxs(ne,{className:"bg-green-500 text-white",children:["Impact: ",k.impact]})]})]})},E))]}),o.jsx(Oe,{value:"planner",className:"mt-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white/80 rounded-xl p-6 border border-gray-100 text-center",children:[o.jsx(Y0,{className:"w-12 h-12 mx-auto mb-4 text-green-600"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Weekly Meal Planner"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Plan sustainable meals for the week based on seasonal ingredients and your dietary preferences."}),o.jsxs(Y,{className:"bg-green-600 hover:bg-green-700",onClick:P,children:[o.jsx(os,{className:"w-4 h-4 mr-2"}),"Generate Meal Plan"]})]}),u.length>0&&o.jsxs("div",{className:"bg-white/80 rounded-xl p-6 border border-gray-100",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Your Weekly Meal Plan"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((k,E)=>{const A=j(k);return A?o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"font-medium text-gray-800",children:k.day}),o.jsx(ne,{className:`text-white ${_(A.sustainabilityScore)}`,children:A.sustainabilityScore})]}),o.jsx("img",{src:`https://images.unsplash.com/${A.image}?w=300&h=200&fit=crop`,alt:A.name,className:"w-full h-32 object-cover rounded mb-2",onError:I=>{I.target.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=300&h=200&fit=crop"}}),o.jsx("h5",{className:"font-medium text-sm",children:A.name}),o.jsxs("p",{className:"text-xs text-gray-600",children:[A.cookTime,"  ",A.servings," servings"]}),o.jsx(Y,{size:"sm",variant:"outline",className:"w-full mt-2",onClick:()=>w(A),children:"View Recipe"})]},E):null})})]})]})})]})})]})})},pDe=()=>{const[t,e]=C.useState([{id:1,type:"bot",content:"Hi! I'm EcoBot, your AI sustainability assistant. I can help you with eco-friendly tips, product recommendations, carbon footprint analysis, and answer any sustainability questions. How can I help you today?",timestamp:new Date}]),[n,r]=C.useState(""),[i,s]=C.useState(!1),a=C.useRef(null),l=()=>{var f;(f=a.current)==null||f.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{l()},[t]);const c=[{icon:gd,text:"How can I reduce my carbon footprint?",category:"tips"},{icon:xd,text:"What are the best sustainable products?",category:"products"},{icon:xn,text:"Set me a sustainability goal",category:"goals"},{icon:vr,text:"Analyze my environmental impact",category:"analysis"}],u={carbon:`Here are 5 effective ways to reduce your carbon footprint:

 Transportation: Use public transport, bike, or walk when possible
 Energy: Switch to LED bulbs and unplug devices when not in use
 Diet: Eat more plant-based meals and buy locally sourced food
 Waste: Reduce, reuse, and recycle materials
 Water: Take shorter showers and fix leaky faucets

Would you like specific tips for any of these areas?`,products:`I recommend these top sustainable products:

 Personal Care: Bamboo toothbrushes, solid shampoo bars
 Clothing: Organic cotton, recycled polyester items
 Home: Energy-efficient appliances, LED lighting
 Kitchen: Reusable containers, compostable plates
 Transport: Electric vehicles, public transit passes

Need specific brand recommendations for any category?`,goals:`Let's set you up with achievable sustainability goals:

 Beginner Goals:
 Reduce single-use plastics by 50%
 Switch to renewable energy
 Start composting

 Intermediate Goals:
 Achieve carbon neutrality
 Buy only sustainable products
 Reduce waste by 75%

 Advanced Goals:
 Become carbon negative
 Zero waste lifestyle
 Influence 10 others to go green

Which level interests you?`,analysis:`Based on average data, here's your estimated environmental impact:

 Current Status:
 Carbon footprint: 12.5 tons CO/year
 Water usage: 2,000 gallons/month
 Waste generation: 4.5 lbs/day

 Improvement Potential:
 40% reduction possible with simple changes
 Save $1,200/year on utilities
 Prevent 5 tons CO annually

Want a personalized action plan?`},h=async()=>{if(!n.trim())return;const f={id:t.length+1,type:"user",content:n,timestamp:new Date};e(m=>[...m,f]),r(""),s(!0),setTimeout(()=>{let m="I understand you're interested in sustainability! Let me help you with that.";const g=n.toLowerCase();g.includes("carbon")||g.includes("footprint")||g.includes("reduce")?m=u.carbon:g.includes("product")||g.includes("recommend")||g.includes("buy")?m=u.products:g.includes("goal")||g.includes("challenge")||g.includes("target")?m=u.goals:(g.includes("impact")||g.includes("analyze")||g.includes("data"))&&(m=u.analysis);const v={id:t.length+2,type:"bot",content:m,timestamp:new Date};e(y=>[...y,v]),s(!1)},1500)},d=f=>{r(f.text)};return o.jsx("div",{className:"space-y-6",children:o.jsxs(te,{className:"bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 border-emerald-200",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"flex items-center space-x-3 text-emerald-700",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-emerald-600 to-teal-600 rounded-xl",children:o.jsx(a0,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("span",{children:"EcoBot Assistant"}),o.jsxs("div",{className:"text-sm font-normal text-emerald-600 flex items-center space-x-1",children:[o.jsx(fa,{className:"w-4 h-4 animate-pulse"}),o.jsx("span",{children:"AI-Powered Sustainability Helper"})]})]}),o.jsxs(ne,{variant:"secondary",className:"ml-auto bg-emerald-100 text-emerald-700",children:[o.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2 animate-pulse"}),"Online"]})]})}),o.jsxs(ce,{children:[o.jsx("div",{className:"bg-white/80 rounded-2xl p-4 mb-6 h-96 overflow-y-auto border border-emerald-100",children:o.jsxs("div",{className:"space-y-4",children:[t.map(f=>o.jsx("div",{className:`flex ${f.type==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`flex space-x-3 max-w-[80%] ${f.type==="user"?"flex-row-reverse space-x-reverse":""}`,children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${f.type==="user"?"bg-gradient-to-r from-sage-500 to-emerald-500":"bg-gradient-to-r from-emerald-500 to-teal-500"}`,children:f.type==="user"?o.jsx(As,{className:"w-4 h-4 text-white"}):o.jsx(a0,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:`px-4 py-3 rounded-2xl ${f.type==="user"?"bg-gradient-to-r from-sage-100 to-emerald-100 text-sage-800":"bg-white border border-emerald-100 text-gray-800 shadow-sm"}`,children:[o.jsx("p",{className:"text-sm whitespace-pre-line",children:f.content}),o.jsx("span",{className:"text-xs opacity-60 mt-1 block",children:f.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},f.id)),i&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-emerald-500 to-teal-500 flex items-center justify-center",children:o.jsx(a0,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:"bg-white border border-emerald-100 px-4 py-3 rounded-2xl shadow-sm",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:a})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("h4",{className:"text-sm font-semibold text-emerald-700 mb-3 flex items-center space-x-2",children:[o.jsx(Tn,{className:"w-4 h-4"}),o.jsx("span",{children:"Quick Questions"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:c.map((f,m)=>o.jsxs(Y,{variant:"outline",className:"justify-start text-left h-auto py-3 px-4 border-emerald-200 hover:bg-emerald-50 hover:border-emerald-300",onClick:()=>d(f),children:[o.jsx(f.icon,{className:"w-4 h-4 mr-2 text-emerald-600"}),o.jsx("span",{className:"text-sm",children:f.text})]},m))})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(st,{placeholder:"Ask me anything about sustainability...",value:n,onChange:f=>r(f.target.value),onKeyPress:f=>f.key==="Enter"&&h(),className:"flex-1 border-emerald-200 focus:border-emerald-400 rounded-xl"}),o.jsx(Y,{onClick:h,disabled:!n.trim()||i,className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 rounded-xl px-6",children:o.jsx(VY,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-3",children:[o.jsx(dt,{className:"w-6 h-6 mx-auto mb-2 text-emerald-600"}),o.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Eco Tips"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Daily sustainability advice"})]}),o.jsxs("div",{className:"text-center p-3",children:[o.jsx(xn,{className:"w-6 h-6 mx-auto mb-2 text-emerald-600"}),o.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Goal Setting"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Personalized targets"})]}),o.jsxs("div",{className:"text-center p-3",children:[o.jsx(vr,{className:"w-6 h-6 mx-auto mb-2 text-emerald-600"}),o.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Impact Analysis"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Track your progress"})]}),o.jsxs("div",{className:"text-center p-3",children:[o.jsx(ls,{className:"w-6 h-6 mx-auto mb-2 text-emerald-600"}),o.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Community"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Connect with others"})]})]})]})]})})},gDe=({onNavigate:t})=>{const{cartItems:e,updateQuantity:n,removeFromCart:r,clearCart:i}=Ph(),s=e.reduce((l,c)=>{const u=typeof c.price=="number"?c.price:0,h=typeof c.quantity=="number"?c.quantity:0;return l+u*h},0),a=()=>{alert("Purchase confirmed! (This is a placeholder)"),i(),t("marketplace")};return o.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-xl shadow-md dark:bg-slate-800",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100",children:"Checkout"}),e.length===0?o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Your cart is empty."}):o.jsxs(o.Fragment,{children:[o.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map(l=>o.jsxs("li",{className:"flex items-center py-4",children:[o.jsx("img",{src:l.image||"/api/placeholder/64/64",alt:l.name,className:"w-16 h-16 rounded-lg object-cover mr-4"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:l.name}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["$",typeof l.price=="number"?l.price.toFixed(2):"N/A"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Y,{size:"sm",variant:"outline",onClick:()=>n(l.id,l.quantity-1),children:o.jsx(N2,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:l.quantity||1}),o.jsx(Y,{size:"sm",variant:"outline",onClick:()=>n(l.id,l.quantity+1),children:o.jsx(es,{className:"w-4 h-4"})})]}),o.jsx(Y,{size:"sm",variant:"destructive",onClick:()=>r(l.id),className:"ml-4",children:o.jsx(tg,{className:"w-5 h-5"})})]},l.id))}),o.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[o.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Total: $",s.toFixed(2)]}),o.jsx(Y,{onClick:a,className:"bg-emerald-600 hover:bg-emerald-700",children:"Confirm Purchase"})]})]})]})},yDe=()=>{const{user:t}=_n(),{addScannedProduct:e}=Xr(),{cartItems:n,updateQuantity:r,removeFromCart:i,clearCart:s}=Ph(),[a,l]=C.useState("home"),[c,u]=C.useState(""),[h,d]=C.useState(null),[f,m]=C.useState(!1),[g,v]=C.useState([]),y=j=>{d(j)},x=j=>{if(!j)return j;const _={...j};return _.stages&&Array.isArray(_.stages)&&(_.stages=_.stages.map(k=>{const{icon:E,...A}=k;return A})),_},b=j=>{if(!j)return;const _=x(j);d(_),localStorage.setItem("scannedProduct",JSON.stringify(_)),e&&e(_)},w=()=>{m(!0)},N=()=>{m(!f)},S=()=>{m(!1),l("scanner")};C.useEffect(()=>{(async()=>{if(!t)return;const _=gt(Ne,"users",t.uid,"recentScans"),k=jc(_,Od("timestamp","desc")),A=(await Nn(k)).docs.map(I=>({id:I.id,...I.data()}));v(A)})()},[t]);const P=j=>{l(j)};return a==="home"?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[o.jsx(Mv,{onNavigate:P,activeTab:a,toggleLoginForm:N,cartItems:n,updateCartItem:r,removeFromCart:i,clearCart:s}),o.jsx(Ide,{onGetStarted:w}),o.jsx(Ode,{}),o.jsx(NA,{isOpen:f,onClose:()=>m(!1),onSuccess:S})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 overflow-hidden",children:[o.jsx(Mv,{onNavigate:P,activeTab:a,toggleLoginForm:N,cartItems:n,updateCartItem:r,removeFromCart:i,clearCart:s}),o.jsx("div",{className:"pt-20",children:o.jsx("div",{className:"container mx-auto px-6 py-8",children:o.jsxs(Jr,{value:a,onValueChange:l,className:"w-full",children:[o.jsx(Oe,{value:"scanner",className:"mt-6",children:o.jsx(Vde,{onTabChange:l,scannedProduct:h,setScannedProduct:y,saveScannedProduct:b})}),o.jsx(Oe,{value:"chatbot",className:"mt-6",children:o.jsx(pDe,{})}),o.jsx(Oe,{value:"search",className:"mt-6",children:o.jsxs(te,{className:"bg-white/90 backdrop-blur-sm border-emerald-100/50 shadow-xl rounded-3xl overflow-hidden dark:bg-gray-800/90 dark:border-gray-700/50",children:[o.jsx(je,{className:"pb-6 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20",children:o.jsxs(Ce,{className:"flex items-center space-x-4 text-gray-800 dark:text-gray-200",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl shadow-lg",children:o.jsx(Kr,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-2xl font-bold",children:"Search Products & Brands"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1 font-normal dark:text-gray-400",children:"Discover the environmental impact of any product"})]}),o.jsxs(ne,{variant:"secondary",className:"bg-emerald-100 text-emerald-700 px-3 py-1 rounded-xl dark:bg-emerald-900/50 dark:text-emerald-300",children:[o.jsx(fa,{className:"w-4 h-4 mr-1"}),"AI Enhanced"]})]})}),o.jsxs(ce,{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[o.jsx(st,{placeholder:"Search for products, brands, or barcodes...",value:c,onChange:j=>u(j.target.value),className:"flex-1 border-emerald-200 focus:border-emerald-400 h-12 rounded-2xl bg-gray-50/50 dark:border-gray-700/50"}),o.jsxs(Y,{className:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 px-8 h-12 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 whitespace-nowrap",children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Search"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.map(j=>o.jsx(te,{className:"hover:shadow-xl transition-all duration-300 cursor-pointer border-gray-100/50 shadow-md rounded-2xl overflow-hidden group bg-white/80 backdrop-blur-sm dark:bg-gray-700/80 dark:border-gray-600/50",children:o.jsxs(ce,{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-gray-800 truncate text-lg group-hover:text-emerald-700 transition-colors dark:text-gray-200 dark:group-hover:text-emerald-400",children:j.name}),o.jsx("p",{className:"text-sm text-gray-600 mt-1 font-medium dark:text-gray-400",children:j.brand})]}),o.jsx(ne,{variant:j.sustainabilityScore>=80?"default":j.sustainabilityScore>=60?"secondary":"destructive",className:`text-sm px-3 py-1 rounded-xl ${j.sustainabilityScore>=80?"bg-emerald-500 hover:bg-emerald-600":""}`,children:j.sustainabilityScore})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-500 bg-gray-100 px-3 py-1 rounded-xl dark:text-gray-400 dark:bg-gray-600",children:j.category}),j.timestamp&&o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:new Date(j.timestamp.seconds*1e3).toLocaleDateString()})]})]})},j.id))})]})]})}),o.jsx(Oe,{value:"analysis",className:"mt-4",children:o.jsx(XMe,{product:h})}),o.jsx(Oe,{value:"comparison",className:"mt-4",children:o.jsx(NH,{})}),o.jsx(Oe,{value:"companies",className:"mt-4",children:o.jsx(QMe,{})}),o.jsx(Oe,{value:"marketplace",className:"mt-4",children:o.jsx(JMe,{})}),o.jsx(Oe,{value:"community",className:"mt-4",children:o.jsx(SH,{})}),o.jsx(Oe,{value:"carbon-tracker",className:"mt-4",children:o.jsx(nDe,{})}),o.jsx(Oe,{value:"education",className:"mt-4",children:o.jsx(rDe,{})}),o.jsx(Oe,{value:"notifications",className:"mt-4",children:o.jsx(iDe,{})}),o.jsx(Oe,{value:"profile",className:"mt-4",children:o.jsx(sDe,{})}),o.jsx(Oe,{value:"ai-recommendations",className:"mt-4",children:o.jsx(aDe,{})}),o.jsx(Oe,{value:"environmental-alerts",className:"mt-4"}),o.jsx(Oe,{value:"rewards",className:"mt-4",children:o.jsx(oDe,{})}),o.jsx(Oe,{value:"lifecycle",className:"mt-4",children:o.jsx(EH,{product:h})}),o.jsx(Oe,{value:"challenges",className:"mt-4",children:o.jsx(lDe,{})}),o.jsx(Oe,{value:"social-impact",className:"mt-4",children:o.jsx(cDe,{})}),o.jsx(Oe,{value:"smart-insights",className:"mt-4",children:o.jsx(uDe,{})}),o.jsx(Oe,{value:"live-events",className:"mt-4",children:o.jsx(dDe,{})}),o.jsx(Oe,{value:"transportation-planner",className:"mt-4",children:o.jsx(fDe,{})}),o.jsx(Oe,{value:"recipe-finder",className:"mt-4",children:o.jsx(mDe,{})}),o.jsx(Oe,{value:"checkout",className:"mt-6",children:o.jsx(gDe,{onNavigate:l})})]})})})]})},vDe=()=>o.jsx(nV,{children:o.jsx(iV,{children:o.jsx(yDe,{})})}),xDe=()=>{const t=ig();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},bDe=({setActiveTab:t})=>{const{cartItems:e,updateQuantity:n,removeFromCart:r,clearCart:i,loadingCart:s}=Ph(),a=e.reduce((l,c)=>{const u=typeof c.price=="number"?c.price:0,h=typeof c.quantity=="number"?c.quantity:0;return l+u*h},0);return o.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-xl shadow-md dark:bg-slate-800",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100",children:"Shopping Cart"}),e.length===0?o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Your cart is empty."}):s?o.jsxs("div",{className:"space-y-4",children:[o.jsx(qi,{className:"h-16 w-full"}),o.jsx(qi,{className:"h-16 w-full"}),o.jsx(qi,{className:"h-16 w-full"})]}):o.jsxs(o.Fragment,{children:[o.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700 max-h-96 overflow-y-auto",children:e.map(l=>o.jsxs("li",{className:"flex items-center py-4",children:[o.jsx("img",{src:l.image||"/api/placeholder/64/64",alt:l.name,className:"w-16 h-16 rounded-lg object-cover mr-4"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:l.name}),l.brand&&o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l.brand}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["$",typeof l.price=="number"?l.price.toFixed(2):"N/A"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Y,{size:"sm",variant:"outline",onClick:()=>{console.log("Update quantity:",l.id,l.quantity-1),n(l.id,l.quantity-1)},children:o.jsx(N2,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:l.quantity||1}),o.jsx(Y,{size:"sm",variant:"outline",onClick:()=>{console.log("Update quantity:",l.id,l.quantity+1),n(l.id,l.quantity+1)},children:o.jsx(es,{className:"w-4 h-4"})})]}),o.jsx(Y,{size:"sm",variant:"destructive",onClick:()=>{console.log("Remove item:",l.id),r(l.id)},className:"ml-4",children:o.jsx(tg,{className:"w-5 h-5"})})]},l.id))}),o.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[o.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Total: $",a.toFixed(2)]}),o.jsx(Y,{variant:"destructive",onClick:()=>i(),children:"Clear Cart"})]}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700 flex flex-col space-y-4 sm:flex-row sm:space-y-0 sm:space-x-4 justify-end",children:[o.jsx(Y,{variant:"outline",onClick:()=>t("marketplace"),children:"Continue Shopping"}),o.jsx(Y,{onClick:()=>alert("Proceed to Checkout (Not implemented)"),children:"Checkout"})]})]})]})},wDe=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!1),[i,s]=C.useState(null),[a,l]=C.useState(""),[c,u]=C.useState("All"),[h,d]=C.useState("All"),[f,m]=C.useState("deadline"),[g,v]=C.useState(null),[y,x]=C.useState(!0),[b,w]=C.useState(!1),{toast:N}=Ks(),[S,P]=C.useState({title:"",description:"",target:"",unit:"%",category:"Energy",priority:"Medium",deadline:"",estimatedSavings:"",tags:""}),[j,_]=C.useState(null),[k,E]=C.useState([{id:1,title:"First Goal",description:"Created your first optimization goal",unlocked:!1,icon:xn},{id:2,title:"Goal Achiever",description:"Completed your first goal",unlocked:!1,icon:Us},{id:3,title:"Milestone Master",description:"Reached 5 milestones",unlocked:!1,icon:fn},{id:4,title:"Eco Warrior",description:"Completed 3 environmental goals",unlocked:!1,icon:pd},{id:5,title:"Streak Master",description:"Updated progress for 7 days straight",unlocked:!1,icon:PY}]),A=[{name:"Energy",icon:Tn,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"},{name:"Carbon",icon:dt,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{name:"Water",icon:fi,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{name:"Waste",icon:xd,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"}],I=["Low","Medium","High"];C.useEffect(()=>{const B=Fne(Ss,Q=>{v(Q),Q?$(Q.uid):(e([]),x(!1))});return()=>B()},[]);const R=B=>{console.log(`Navigating to: ${B}`)},$=async B=>{x(!0);try{const Q=jc(gt(Ne,"users",B,"goals"),Od("deadline","asc")),ue=(await Nn(Q)).docs.map(pe=>{const V=pe.data(),le=A.find(we=>we.name===V.category)||A[0];return{id:pe.id,userId:V.userId,title:V.title,description:V.description||"",target:V.target,current:V.current||0,unit:V.unit||"%",category:V.category,priority:V.priority||"Medium",deadline:V.deadline,createdAt:V.createdAt||new Date().toISOString().split("T")[0],icon:le.icon,color:le.color,bgColor:le.bgColor,borderColor:le.borderColor,milestones:V.milestones||[],completedMilestones:V.completedMilestones||[],notes:V.notes||"",tags:V.tags||[],estimatedSavings:V.estimatedSavings||"",completed:V.completed||!1}});e(ue),W(ue),N({title:"Goals Loaded",description:`Fetched ${ue.length} goals.`,duration:3e3})}catch(Q){console.error("Error fetching goals:",Q),N({title:"Error",description:`Failed to load goals: ${Q.message}`,variant:"destructive"})}finally{x(!1)}},W=B=>{const Q=B.filter(V=>V.completed).length,Z=B.reduce((V,le)=>V+le.completedMilestones.length,0),ue=["Carbon","Water","Waste"],pe=B.filter(V=>V.completed&&ue.includes(V.category)).length;E(V=>V.map(le=>le.id===1&&B.length>0?{...le,unlocked:!0}:le.id===2&&Q>0?{...le,unlocked:!0}:le.id===3&&Z>=5?{...le,unlocked:!0}:le.id===4&&pe>=3?{...le,unlocked:!0}:le))},H=async()=>{if(!g||!S.title||!S.target||!S.deadline){N({title:"Missing Information",description:"Please fill in required fields (Title, Target, Deadline).",variant:"destructive"});return}w(!0);try{const B=A.find(le=>le.name===S.category)||A[0],Q=parseFloat(S.target),Z=Array.from({length:Math.floor(Q/5)},(le,we)=>(we+1)*5).filter(le=>le<=Q),ue={userId:g.uid,title:S.title,description:S.description,target:Q,current:0,unit:S.unit,category:S.category,priority:S.priority,deadline:S.deadline,createdAt:new Date().toISOString().split("T")[0],color:B.color,bgColor:B.bgColor,borderColor:B.borderColor,milestones:Z,completedMilestones:[],notes:"",tags:S.tags?S.tags.split(",").map(le=>le.trim()).filter(le=>le):[],estimatedSavings:S.estimatedSavings,completed:!1},pe=await Rd(gt(Ne,"users",g.uid,"goals"),ue),V={...ue,id:pe.id};e([...t,V]),W([...t,V]),P({title:"",description:"",target:"",unit:"%",category:"Energy",priority:"Medium",deadline:"",estimatedSavings:"",tags:""}),r(!1),N({title:"Goal Added",description:"Your new goal has been created.",duration:3e3})}catch(B){console.error("Error adding goal:",B),N({title:"Error",description:`Failed to add goal: ${B.message}`,variant:"destructive"})}finally{w(!1)}},M=async B=>{if(g){w(!0);try{await L7(Re(Ne,"users",g.uid,"goals",B)),e(t.filter(Q=>Q.id!==B)),W(t.filter(Q=>Q.id!==B)),N({title:"Goal Deleted",description:"The goal has been removed.",duration:3e3})}catch(Q){console.error("Error deleting goal:",Q),N({title:"Error",description:`Failed to delete goal: ${Q.message}`,variant:"destructive"})}finally{w(!1)}}},F=B=>{s(B.id),_(B)},U=()=>{s(null),_(null)},X=async()=>{if(!g||!i||!j||!j.title||!j.target||!j.deadline){N({title:"Missing Information",description:"Please fill in required fields (Title, Target, Deadline).",variant:"destructive"});return}w(!0);try{const B=Re(Ne,"users",g.uid,"goals",i),Q=parseFloat(j.target),Z=parseFloat(j.current),ue=Z>=Q,pe=A.find(Ae=>Ae.name===j.category)||A[0],V=Array.from({length:Math.floor(Q/5)},(Ae,tt)=>(tt+1)*5).filter(Ae=>Ae<=Q),le=V.filter(Ae=>Ae<=Z),we={title:j.title,description:j.description,target:Q,current:Z,unit:j.unit,category:j.category,priority:j.priority,deadline:j.deadline,color:pe.color,bgColor:pe.bgColor,borderColor:pe.borderColor,milestones:V,completedMilestones:le,notes:j.notes,tags:Array.isArray(j.tags)?j.tags:typeof j.tags=="string"&&j.tags.length>0?j.tags.split(",").map(Ae=>Ae.trim()).filter(Ae=>Ae):[],estimatedSavings:j.estimatedSavings,completed:ue};await un(B,we),e(t.map(Ae=>Ae.id===i?{...Ae,...we,tags:Array.isArray(we.tags)?we.tags:[]}:Ae)),W(t.map(Ae=>Ae.id===i?{...Ae,...we}:Ae)),U(),N({title:"Goal Updated",description:"Your goal has been updated.",duration:3e3})}catch(B){console.error("Error updating goal:",B),N({title:"Error",description:`Failed to update goal: ${B.message}`,variant:"destructive"})}finally{w(!1)}},z=async(B,Q)=>{if(g){w(!0);try{const Z=Re(Ne,"users",g.uid,"goals",B),ue=t.find(pe=>pe.id===B);if(ue){const pe=Math.min(Q,ue.target),V=pe>=ue.target,le=ue.milestones.filter(Ae=>Ae<=pe),we={current:pe,completed:V,completedMilestones:le};await un(Z,we),e(t.map(Ae=>Ae.id===B?{...Ae,...we}:Ae)),W(t.map(Ae=>Ae.id===B?{...Ae,...we}:Ae)),N({title:"Progress Updated",description:"Goal progress has been updated.",duration:3e3})}}catch(Z){console.error("Error updating goal progress:",Z),N({title:"Error",description:`Failed to update progress: ${Z.message}`,variant:"destructive"})}finally{w(!1)}}},G=t.filter(B=>{const Q=B.title.toLowerCase().includes(a.toLowerCase())||B.description.toLowerCase().includes(a.toLowerCase())||B.tags.some(pe=>pe.toLowerCase().includes(a.toLowerCase())),Z=c==="All"||B.category===c,ue=h==="All"||B.priority===h;return Q&&Z&&ue}).sort((B,Q)=>{switch(f){case"deadline":return new Date(B.deadline).getTime()-new Date(Q.deadline).getTime();case"progress":return Q.current/Q.target-B.current/B.target;case"priority":const Z={High:3,Medium:2,Low:1};return Z[Q.priority]-Z[B.priority];case"created":return new Date(Q.createdAt).getTime()-new Date(B.createdAt).getTime();default:return 0}}),q=B=>B>=100?"bg-green-500":B>=75?"bg-blue-500":B>=50?"bg-yellow-500":"bg-red-500",ae=(B,Q,Z)=>{const ue=B/Q*100,pe=new Date(Z)<new Date&&ue<100;return ue>=100?o.jsxs(ne,{className:"bg-green-100 text-green-800 border-green-200 animate-pulse",children:[o.jsx(Us,{className:"w-3 h-3 mr-1"}),"Completed"]}):pe?o.jsxs(ne,{className:"bg-red-100 text-red-800 border-red-200",children:[o.jsx(Zi,{className:"w-3 h-3 mr-1"}),"Overdue"]}):ue>=75?o.jsxs(ne,{className:"bg-blue-100 text-blue-800 border-blue-200",children:[o.jsx(vr,{className:"w-3 h-3 mr-1"}),"On Track"]}):o.jsxs(ne,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[o.jsx(rL,{className:"w-3 h-3 mr-1"}),"In Progress"]})},ye=B=>{const Q={High:"bg-red-100 text-red-800 border-red-200",Medium:"bg-yellow-100 text-yellow-800 border-yellow-200",Low:"bg-gray-100 text-gray-800 border-gray-200"};return o.jsxs(ne,{className:Q[B],children:[B," Priority"]})},ie=t.length;return t.filter(B=>B.completed).length,ie>0&&t.reduce((B,Q)=>B+Q.current/Q.target*100,0)/ie,t.reduce((B,Q)=>B+Q.completedMilestones.length,0),t.filter(B=>new Date(B.deadline)<new Date&&!B.completed).length,o.jsxs(o.Fragment,{children:[o.jsx(Mv,{onNavigate:R,activeTab:"goals"})," ",o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-black dark:to-purple-950 pt-32 p-6 z-10",children:[o.jsx(te,{className:"mb-6 shadow-xl border-indigo-200 bg-white/90 backdrop-blur-md",children:o.jsxs(je,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(Y,{variant:"outline",onClick:()=>window.history.back(),className:"flex items-center space-x-2 hover:bg-indigo-50 transition-colors",children:[o.jsx(xY,{className:"w-4 h-4"}),o.jsx("span",{children:"Back"})]}),o.jsxs("div",{children:[o.jsxs(Ce,{className:"text-indigo-700 dark:text-indigo-300 text-3xl font-bold flex items-center gap-3",children:[o.jsx(xn,{className:"w-8 h-8 text-indigo-500 dark:text-indigo-400"}),"Optimization Goals"]}),o.jsx("p",{className:"text-indigo-600 mt-1",children:"Track, optimize, and achieve your sustainability targets"})]})]}),g&&o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs(Y,{onClick:()=>r(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white flex items-center gap-2 shadow-lg",disabled:b,children:[b?o.jsx(o0,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(es,{className:"w-4 h-4"}),"Add Goal"]})})]})}),g?o.jsxs(o.Fragment,{children:[o.jsx(te,{className:"mb-6 shadow-lg border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Kr,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),o.jsx(st,{type:"text",placeholder:"Search goals, tags, or descriptions...",value:a,onChange:B=>l(B.target.value),className:"min-w-[250px]"})]}),o.jsxs("select",{value:c,onChange:B=>u(B.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:[o.jsx("option",{value:"All",children:"All Categories"}),A.map(B=>o.jsx("option",{value:B.name,children:B.name},B.name))]}),o.jsxs("select",{value:h,onChange:B=>d(B.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:[o.jsx("option",{value:"All",children:"All Priorities"}),I.map(B=>o.jsxs("option",{value:B,children:[B," Priority"]},B))]}),o.jsxs("select",{value:f,onChange:B=>m(B.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:[o.jsx("option",{value:"deadline",children:"Sort by Deadline"}),o.jsx("option",{value:"progress",children:"Sort by Progress"}),o.jsx("option",{value:"priority",children:"Sort by Priority"}),o.jsx("option",{value:"created",children:"Sort by Creation Date"})]})]})})}),n&&o.jsxs(te,{className:"mb-6 shadow-lg border-indigo-200 dark:border-indigo-800 bg-white dark:bg-gray-800",children:[o.jsx(je,{children:o.jsxs(Ce,{className:"text-indigo-700 dark:text-indigo-300 flex items-center gap-2",children:[o.jsx(es,{className:"w-6 h-6"}),"Add New Optimization Goal"]})}),o.jsxs(ce,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(At,{htmlFor:"title",children:"Title"}),o.jsx(st,{id:"title",placeholder:"e.g., Reduce electricity consumption",value:S.title,onChange:B=>P({...S,title:B.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"category",children:"Category"}),o.jsx("select",{id:"category",value:S.category,onChange:B=>P({...S,category:B.target.value}),className:"mt-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:A.map(B=>o.jsx("option",{value:B.name,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:B.name},B.name))})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(At,{htmlFor:"description",className:"text-gray-700",children:"Description (Optional)"}),o.jsx(jm,{id:"description",placeholder:"Details about your goal...",value:S.description,onChange:B=>P({...S,description:B.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"target",children:"Target Value"}),o.jsx(st,{id:"target",type:"number",placeholder:"e.g., 15",value:S.target,onChange:B=>P({...S,target:B.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"unit",children:"Unit"}),o.jsx(st,{id:"unit",placeholder:"e.g., kWh, %, gallons",value:S.unit,onChange:B=>P({...S,unit:B.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"priority",children:"Priority"}),o.jsx("select",{id:"priority",value:S.priority,onChange:B=>P({...S,priority:B.target.value}),className:"mt-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:I.map(B=>o.jsx("option",{value:B,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:B},B))})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:"deadline",className:"text-gray-700",children:"Deadline"}),o.jsx(st,{id:"deadline",type:"date",value:S.deadline,onChange:B=>P({...S,deadline:B.target.value}),className:"mt-1"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(At,{htmlFor:"estimatedSavings",children:"Estimated Savings (Optional)"}),o.jsx(st,{id:"estimatedSavings",placeholder:"e.g., $20/month or 100 lbs CO2/year",value:S.estimatedSavings,onChange:B=>P({...S,estimatedSavings:B.target.value}),className:"mt-1"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(At,{htmlFor:"tags",children:"Tags (Optional, comma-separated)"}),o.jsx(st,{id:"tags",placeholder:"e.g., home, appliance, travel",value:S.tags,onChange:B=>P({...S,tags:B.target.value}),className:"mt-1"})]}),o.jsxs("div",{className:"md:col-span-2 flex justify-end gap-3",children:[o.jsx(Y,{variant:"outline",onClick:()=>r(!1),disabled:b,children:"Cancel"}),o.jsxs(Y,{onClick:H,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white",disabled:b,children:[b?o.jsx(o0,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(es,{className:"w-4 h-4 mr-2"}),"Create Goal"]})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.length>0?G.map(B=>o.jsx(te,{className:`shadow-lg hover:shadow-xl transition-shadow border-l-4 ${B.borderColor} ${B.bgColor} dark:bg-gray-800 dark:border-gray-700`,children:o.jsx(ce,{className:"p-6",children:i===B.id&&j?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[o.jsx(B1,{className:"w-5 h-5"})," Edit Goal"]}),o.jsxs("div",{className:"dark:text-gray-200",children:[o.jsx(At,{htmlFor:`edit-title-${B.id}`,children:"Title"}),o.jsx(st,{id:`edit-title-${B.id}`,value:j.title||"",onChange:Q=>_({...j,title:Q.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:`edit-description-${B.id}`,children:"Description (Optional)"}),o.jsx(jm,{id:`edit-description-${B.id}`,value:j.description||"",onChange:Q=>_({...j,description:Q.target.value}),className:"mt-1"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(At,{htmlFor:`edit-target-${B.id}`,children:"Target"}),o.jsx(st,{id:`edit-target-${B.id}`,type:"number",value:j.target||"",onChange:Q=>_({...j,target:parseFloat(Q.target.value)}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:`edit-current-${B.id}`,children:"Current"}),o.jsx(st,{id:`edit-current-${B.id}`,type:"number",value:j.current||"",onChange:Q=>_({...j,current:parseFloat(Q.target.value)}),className:"mt-1"})]})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:`edit-unit-${B.id}`,children:"Unit"}),o.jsx(st,{id:`edit-unit-${B.id}`,value:j.unit||"",onChange:Q=>_({...j,unit:Q.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:`edit-category-${B.id}`,children:"Category"}),o.jsx("select",{id:`edit-category-${B.id}`,value:j.category||"Energy",onChange:Q=>_({...j,category:Q.target.value}),className:"mt-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:A.map(Q=>o.jsx("option",{value:Q.name,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:Q.name},Q.name))})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:`edit-priority-${B.id}`,children:"Priority"}),o.jsx("select",{id:`edit-priority-${B.id}`,value:j.priority||"Medium",onChange:Q=>_({...j,priority:Q.target.value}),className:"mt-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:I.map(Q=>o.jsx("option",{value:Q,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:Q},Q))})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:`edit-deadline-${B.id}`,children:"Deadline"}),o.jsx(st,{id:`edit-deadline-${B.id}`,type:"date",value:j.deadline||"",onChange:Q=>_({...j,deadline:Q.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:`edit-estimatedSavings-${B.id}`,children:"Estimated Savings (Optional)"}),o.jsx(st,{id:`edit-estimatedSavings-${B.id}`,placeholder:"e.g., $20/month",value:j.estimatedSavings||"",onChange:Q=>_({...j,estimatedSavings:Q.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(At,{htmlFor:`edit-tags-${B.id}`,children:"Tags (Optional, comma-separated)"}),o.jsx(st,{id:`edit-tags-${B.id}`,placeholder:"e.g., home, appliance",value:typeof j.tags=="string"?j.tags:Array.isArray(j.tags)?j.tags.join(", "):"",onChange:Q=>_({...j,tags:Q.target.value}),className:"mt-1"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(At,{htmlFor:`edit-notes-${B.id}`,children:"Notes (Optional)"}),o.jsx(jm,{id:`edit-notes-${B.id}`,placeholder:"Any notes for this goal...",value:j.notes||"",onChange:Q=>_({...j,notes:Q.target.value}),className:"mt-1"})]}),o.jsxs("div",{className:"flex justify-end gap-3 md:col-span-2",children:[o.jsx(Y,{variant:"outline",onClick:U,disabled:b,children:"Cancel"}),o.jsxs(Y,{onClick:X,disabled:b,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white",children:[b?o.jsx(o0,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(B1,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[D.createElement(B.icon,{className:`w-8 h-8 ${B.color} dark:text-gray-300`}),o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:B.title})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[ae(B.current,B.target,B.deadline),ye(B.priority)]})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:B.description}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-700 dark:text-gray-300",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[B.current," / ",B.target," ",B.unit," (",(B.current/B.target*100).toFixed(1),"%)"]})]}),o.jsx(Ht,{value:B.current/B.target*100,className:`h-2 ${q(B.current/B.target*100)} dark:bg-gray-700`})]}),o.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[o.jsx(os,{className:"w-4 h-4 text-gray-500"}),"Deadline: ",B.deadline,new Date(B.deadline)<new Date&&!B.completed&&o.jsx(ne,{variant:"destructive",className:"ml-2",children:"Overdue"})]}),B.estimatedSavings&&o.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[o.jsx(ka,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),"Est. Savings: ",B.estimatedSavings]}),B.tags&&B.tags.length>0&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(mh,{className:"w-4 h-4 text-gray-500"}),"Tags: ",B.tags.map((Q,Z)=>o.jsx(ne,{variant:"secondary",className:"text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-600",children:Q},Z))]}),B.notes&&o.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-start gap-2",children:[o.jsx(BY,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 mt-1"}),"Notes: ",o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:B.notes})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(qr,{className:"w-4 h-4 text-gray-500"}),"Created: ",B.createdAt]}),o.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-3 mt-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(At,{htmlFor:`progress-input-${B.id}`,className:"sr-only",children:"Update Progress"}),o.jsx(st,{id:`progress-input-${B.id}`,type:"number",value:B.current,onChange:Q=>{const Z=parseFloat(Q.target.value);isNaN(Z)||e(t.map(ue=>ue.id===B.id?{...ue,current:Z}:ue))},onBlur:Q=>{const Z=parseFloat(Q.target.value);isNaN(Z)?e(t.map(ue=>ue.id===B.id?{...ue,current:B.current}:ue)):z(B.id,Z)},className:"w-24"}),o.jsx("span",{className:"text-sm text-gray-600",children:B.unit}),o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>z(B.id,B.current+1),disabled:B.current>=B.target||b,className:"flex items-center gap-1 text-green-600 border-green-200 hover:bg-green-50",children:[o.jsx(es,{className:"w-3 h-3"}),"Add 1"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>F(B),disabled:b,className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 border-blue-200 dark:border-blue-800 hover:bg-blue-50 dark:hover:bg-blue-900",children:[o.jsx(B1,{className:"w-3 h-3"})," Edit"]}),o.jsxs(Y,{variant:"destructive",size:"sm",onClick:()=>M(B.id),disabled:b,className:"flex items-center gap-1",children:[o.jsx(tg,{className:"w-3 h-3"})," Delete"]})]})]})]})})},B.id)):o.jsx("div",{className:"md:col-span-3 text-center py-16",children:o.jsxs("div",{className:"space-y-4 text-gray-600 dark:text-gray-400",children:[o.jsx(xn,{className:"mx-auto w-12 h-12 text-indigo-500"}),o.jsx("h3",{className:"text-2xl font-semibold text-gray-700",children:"No Goals Yet!"}),o.jsx("p",{className:"max-w-md mx-auto",children:"Start tracking your sustainability journey by adding your first optimization goal."}),o.jsxs(Y,{onClick:()=>r(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white flex items-center gap-2 shadow-lg",children:[o.jsx(es,{className:"w-4 h-4"}),"Add Your First Goal"]})]})})})]}):o.jsx(te,{className:"shadow-xl border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:o.jsx(ce,{className:"text-center py-16",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"mx-auto w-24 h-24 bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 rounded-full flex items-center justify-center",children:o.jsx(vn,{className:"w-12 h-12 text-indigo-500"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-700",children:"Login Required"}),o.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Please log in to view and manage your optimization goals."})]})})})]})]})},_De=()=>o.jsxs("footer",{className:"bg-green-950 text-gray-300 py-12 px-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-10",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"EcoAnalyzer"}),o.jsx("p",{className:"text-sm leading-relaxed text-gray-300",children:"Empowering sustainability through AI. Track, analyze, and reduce your environmental impact effortlessly."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-green-400 transition",children:"Home"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-green-400 transition",children:"About"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-green-400 transition",children:"Contact"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-green-400 transition",children:"Privacy Policy"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Get in Touch"}),o.jsxs("p",{className:"text-sm text-gray-300",children:["Email: ",o.jsx("a",{href:"mailto:support@ecoanalyzer.com",className:"hover:text-green-400",children:"support@ecoanalyzer.com"})]}),o.jsx("p",{className:"text-sm text-gray-300",children:"Phone: +91 98765 43210"}),o.jsx("p",{className:"text-sm text-gray-300",children:"Address: Mumbai, India"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Stay Connected"}),o.jsxs("div",{className:"flex space-x-4 mb-4",children:[o.jsx("a",{href:"#",className:"text-gray-400 hover:text-green-400 transition","aria-label":"Facebook",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M22 12a10 10 0 10-11.5 9.9v-7h-2v-3h2v-2.3c0-2 1.2-3.1 3-3.1.9 0 1.8.2 1.8.2v2h-1c-1 0-1.3.6-1.3 1.2V12h2.5l-.4 3h-2.1v7A10 10 0 0022 12z"})})}),o.jsx("a",{href:"#",className:"text-gray-400 hover:text-green-400 transition","aria-label":"Twitter",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M23 3a10.9 10.9 0 01-3.14 1.53A4.48 4.48 0 0016 3a4.48 4.48 0 00-4.47 4.48c0 .35.04.7.11 1.03A12.8 12.8 0 013 4.2a4.48 4.48 0 001.39 5.98A4.41 4.41 0 012 9.72v.05A4.48 4.48 0 004.48 14a4.52 4.52 0 01-2.02.08A4.48 4.48 0 006.29 17a9 9 0 01-5.56 1.92A9.12 9.12 0 010 18.88a12.8 12.8 0 006.95 2.03c8.34 0 12.9-6.91 12.9-12.9 0-.2 0-.41-.02-.61A9.2 9.2 0 0023 3z"})})}),o.jsx("a",{href:"#",className:"text-gray-400 hover:text-green-400 transition","aria-label":"Instagram",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M7.75 2A5.76 5.76 0 002 7.75v8.5A5.76 5.76 0 007.75 22h8.5A5.76 5.76 0 0022 16.25v-8.5A5.76 5.76 0 0016.25 2h-8.5zm8.5 1.5A4.25 4.25 0 0120.5 7.75v8.5a4.25 4.25 0 01-4.25 4.25h-8.5A4.25 4.25 0 013.5 16.25v-8.5A4.25 4.25 0 017.75 3.5h8.5zM12 7a5 5 0 100 10 5 5 0 000-10zm0 1.5a3.5 3.5 0 110 7 3.5 3.5 0 010-7zm4.75-2a1 1 0 100 2 1 1 0 000-2z"})})})]}),o.jsx("p",{className:"text-sm text-gray-300",children:"Follow us for updates & eco tips!"})]})]}),o.jsxs("div",{className:"mt-10 border-t border-green-900 pt-6 text-center text-sm text-gray-400",children:[" ",new Date().getFullYear()," EcoAnalyzer. All rights reserved."]})]}),i6={"/":"home","/goals":"goals","/product-lifecycle":"product-lifecycle","/product-comparison":"product-comparison","/marketplace":"marketplace","/community":"community","/education":"education","/rewards":"rewards","/ai-scanner":"ai-scanner","/chatbot":"chatbot","/carbon-tracker":"carbon-tracker","/ai-recommendations":"ai-recommendations","/ar-scanner":"ar-scanner","/smart-insights":"smart-insights","/recipe-finder":"recipe-finder","/transportation-planner":"transportation-planner","/environmental-alerts":"environmental-alerts","/esg-analyzer":"esg-analyzer","/investment-tracker":"investment-tracker","/checkout":"checkout","/notifications":"notifications","/profile":"profile"},s6=["/goals","/product-lifecycle","/product-comparison","/marketplace","/community","/education","/rewards","/ai-scanner","/chatbot","/carbon-tracker","/ai-recommendations","/ar-scanner","/smart-insights","/recipe-finder","/transportation-planner","/environmental-alerts","/esg-analyzer","/investment-tracker","/checkout","/notifications","/profile"],uu=({children:t})=>{const[e,n]=C.useState("home"),{cartItems:r,updateQuantity:i,removeFromCart:s,clearCart:a}=Ph(),{currentUser:l}=_n(),c=$2(),u=ig(),[h,d]=C.useState(!1);C.useEffect(()=>{if(s6.includes(u.pathname)&&!l){c("/");return}const v=i6[u.pathname];v&&v!==e&&n(v)},[u.pathname,e,l,c]);const f=v=>{var x;n(v);const y=(x=Object.entries(i6).find(([b,w])=>w===v))==null?void 0:x[0];y?c(y):console.warn(`No route defined for tabId: ${v}`)},m=()=>{d(!0)},g=()=>{d(!1)};return!l&&s6.includes(u.pathname)?o.jsx("div",{className:"text-center mt-20 text-red-600",children:"Please log in to access this page."}):o.jsxs(o.Fragment,{children:[o.jsx(Mv,{onNavigate:f,activeTab:e,cartItems:r,updateCartItem:i,removeFromCart:s,clearCart:a,toggleLoginForm:m}),o.jsx("main",{className:"pt-0 min-h-[calc(100vh-80px)]",children:t}),o.jsx(_De,{}),o.jsx(NA,{isOpen:h,onClose:()=>d(!1),onSuccess:g})]})},SDe=new tZ,NDe=()=>o.jsx(rZ,{client:SDe,children:o.jsx(QZ,{children:o.jsx(Xce,{children:o.jsx(nV,{children:o.jsx(Fde,{children:o.jsx(Jce,{children:o.jsx(iV,{children:o.jsxs(IJ,{children:[o.jsx(AQ,{}),o.jsx(rX,{}),o.jsx(YZ,{children:o.jsxs(GZ,{children:[o.jsx(fo,{path:"/",element:o.jsx(uu,{children:o.jsx(vDe,{})})}),o.jsx(fo,{path:"/cart",element:o.jsx(uu,{children:o.jsx(bDe,{setActiveTab:function(t){throw new Error("Function not implemented.")}})})}),o.jsx(fo,{path:"/goals",element:o.jsx(uu,{children:o.jsx(wDe,{})})}),o.jsx(fo,{path:"/product-lifecycle",element:o.jsx(uu,{children:o.jsx(EH,{})})}),o.jsx(fo,{path:"/product-comparison",element:o.jsx(uu,{children:o.jsx(NH,{})})}),o.jsx(fo,{path:"/community",element:o.jsx(uu,{children:o.jsx(SH,{})})}),o.jsx(fo,{path:"*",element:o.jsx(xDe,{})})]})})]})})})})})})})});A$(document.getElementById("root")).render(o.jsx(NDe,{}));
